{"version":3,"sources":["./$_lazy_route_resource lazy namespace object","./src/app/app.component.html","./src/app/filtrobrani/filtrobrani.component.html","./src/app/gestionealbum/gestionealbum.component.html","./src/app/gestioneimmagini/gestioneimmagini.component.html","./src/app/treeview/treeview.component.html","./src/app/uploadbrani/uploadbrani.component.html","./node_modules/tslib/tslib.es6.js","./src/app/animations.ts","./src/app/app.component.scss","./src/app/app.component.ts","./src/app/app.module.ts","./src/app/filtrobrani/filtrobrani.component.css","./src/app/filtrobrani/filtrobrani.component.ts","./src/app/gestionealbum/gestionealbum.component.css","./src/app/gestionealbum/gestionealbum.component.ts","./src/app/gestioneimmagini/gestioneimmagini.component.css","./src/app/gestioneimmagini/gestioneimmagini.component.ts","./src/app/services/api2.service.ts","./src/app/services/httpclient.service.ts","./src/app/services/speech.service.ts","./src/app/treeview/treeview.component.css","./src/app/treeview/treeview.component.ts","./src/app/uploadbrani/uploadbrani.component.css","./src/app/uploadbrani/uploadbrani.component.ts","./src/app/varie/caricabrano.component.ts","./src/app/varie/caricabranoautomatico.component.ts","./src/app/varie/checkrete.ts","./src/app/varie/classetimer.component.ts","./src/app/varie/files.ts","./src/app/varie/gestione_android.component.ts","./src/app/varie/gestonemusica.component.ts","./src/app/varie/happi-dev.component.ts","./src/app/varie/musixmatch.component.ts","./src/app/varie/storage.component.ts","./src/app/varie/utility.component.ts","./src/app/varie/youtube.component.ts","./src/environments/environment.ts","./src/main.ts"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./$$_lazy_route_resource lazy recursive\";","export default \"<!-- <div *ngIf=\\\"debug == true\\\" class=\\\"barraDebug\\\">\\r\\n  {{ operazioneInCorso }}\\r\\n</div>\\r\\n<div id=\\\"divTestScroll\\\" \\r\\n  style=\\\"position: absolute; left: 0px; top: 0px; font-size: 14px; width: 150px; height: 30px; background-color: red; color: white; border: 1px solid #999; z-index: 9999; overflow: hidden; white-space: nowrap;\\\">\\r\\n  {{ testoScrollabile[0] }}\\r\\n</div> -->\\r\\n\\r\\n<!--   [style.margin-top]=\\\"deviceGirante == 'Android' ? '30px' : '0px' \\\" -->\\r\\n<div style=\\\"position: absolute; top: 9px; z-index: 9; left: 9px;\\\"\\r\\n  >\\r\\n  <img src=\\\"assets/immagini/icona_equalizz.png\\\" style=\\\"cursor: pointer; width: 38px; height: 38px;\\\" title=\\\"Mette / Toglie tasti\\\" (click)=\\\"metteToglieTasti()\\\">\\r\\n</div>\\r\\n\\r\\n<!--   [style.margin-top]=\\\"deviceGirante == 'Android' ? '30px' : '0px' \\\" -->\\r\\n<div style=\\\"position: absolute; top: 9px; z-index: 9;\\\"\\r\\n  [style.right] = \\\"mascheraTesto == true ? '26%' : '9px'\\\"\\r\\n  >\\r\\n  <img src=\\\"assets/immagini/utente.png\\\" style=\\\"cursor: pointer; width: 38px; height: 38px;\\\" title=\\\"Cambia utente ({{utenza}})\\\" (click)=\\\"cambiaUtente()\\\">\\r\\n  <img src=\\\"assets/immagini/hamburger.png\\\" style=\\\"cursor: pointer; width: 38px; height: 38px;\\\" title=\\\"Apre Menù\\\" (click)=\\\"apreMenu()\\\">\\r\\n</div>\\r\\n\\r\\n<!-- Maschera menù \\r\\n[style.right] = \\\"mascheraTesto == true ? '25%' : '5px'\\\" -->\\r\\n<!--   [style.margin-top]=\\\"deviceGirante == 'Android' ? '30px' : '0px' \\\" -->\\r\\n<div id=\\\"divMenu\\\" ngDraggable *ngIf=\\\"menuMostrato == true\\\" \\r\\n  style=\\\"position: absolute; top: 30%; left: 30%; z-index: 1010; width: auto; height: auto; padding: 10px; \\r\\n     box-shadow: rgb(0 0 0 / 75%) 0px 0px 24px 2px;\\r\\n    margin-right: 5px; background-color: rgb(36 34 34); opacity: .85; border: 1px solid rgb(78 75 74); border-radius: 3px;\\\"\\r\\n  (click)=\\\"tt.settaZIndex(5)\\\"\\r\\n  >\\r\\n  <div style=\\\"width: 100%; text-align: center;\\\"><h4><span style=\\\"color: green;\\\">Menù</span></h4></div>\\r\\n  \\r\\n  <div style=\\\"float: left; margin-top: 10px; width: 50%;\\\">\\r\\n    <input type=\\\"checkbox\\\" [checked]=\\\"mascheraFiltroBrani == true\\\" (change)=\\\"storage.checkFiltroBrani(tt, $event)\\\" /> &nbsp;\\r\\n    <span style=\\\"font-size: 15px; color: white;\\\">Filtro brani</span>\\r\\n  </div>\\r\\n  <div style=\\\"float: left; margin-top: 10px;width: 50%;\\\">&nbsp;\\r\\n    <input type=\\\"checkbox\\\" [checked]=\\\"mascheraBrani == true\\\" (change)=\\\"storage.checkBrani(tt, $event)\\\" /> &nbsp;\\r\\n    <span style=\\\"font-size: 15px; color: white;\\\">Brani</span>\\r\\n  </div>\\r\\n  <div style=\\\"clear: both;\\\"></div>\\r\\n  <div style=\\\"float: left; margin-top: 10px; width: 50%;\\\">\\r\\n    <input type=\\\"checkbox\\\" [checked]=\\\"mascheraTesto == true\\\" (change)=\\\"storage.checkTesto(tt, $event)\\\" /> &nbsp;\\r\\n    <span style=\\\"font-size: 15px; color: white;\\\">Testo</span>\\r\\n  </div>\\r\\n  <div style=\\\"float: left; margin-top: 10px; width: 50%;\\\">&nbsp;\\r\\n    <input type=\\\"checkbox\\\" [checked]=\\\"mascheraOpzioni == true\\\" (change)=\\\"storage.checkOpzioni(tt, $event)\\\" /> &nbsp;\\r\\n    <span style=\\\"font-size: 15px; color: white;\\\">Opzioni</span>\\r\\n  </div>\\r\\n  <div style=\\\"clear: both;\\\"></div>\\r\\n  <div style=\\\"float: left; margin-top: 10px; width: 50%;\\\">\\r\\n    <input type=\\\"checkbox\\\" [checked]=\\\"mascheraArtisti == true\\\" (change)=\\\"storage.checkArtisti(tt, $event); apreDettaglioArtisti();\\\" /> &nbsp;\\r\\n    <span style=\\\"font-size: 15px; color: white;\\\">Dettaglio Artisti</span>\\r\\n  </div>\\r\\n  <div style=\\\"float: left; margin-top: 10px; width: 50%;\\\">&nbsp;\\r\\n    <input type=\\\"checkbox\\\" [checked]=\\\"pannelloUtility == true\\\"  (change)=\\\"aprePannelloUtility()\\\" /> &nbsp;\\r\\n    <span style=\\\"font-size: 15px; color: white;\\\">Utility</span>\\r\\n  </div>\\r\\n  <div style=\\\"clear: both;\\\"></div>\\r\\n  <div *ngIf=\\\"Amministratore == 'S'\\\" style=\\\"float: left; margin-top: 10px; width: 50%;\\\">\\r\\n    <input type=\\\"checkbox\\\" [checked]=\\\"debug == true\\\" (change)=\\\"storage.checkDebug(tt, $event)\\\" />&nbsp;\\r\\n    <span style=\\\"font-size: 15px; color: white;\\\">Modalità debug</span>\\r\\n  </div>\\r\\n  <div *ngIf=\\\"Amministratore != 'S'\\\" style=\\\"float: left; margin-top: 10px; width: 50%;\\\">\\r\\n    &nbsp;\\r\\n  </div>\\r\\n  <!-- <div style=\\\"float: left; margin-top: 10px; width: 50%;\\\">&nbsp;\\r\\n    <input type=\\\"checkbox\\\" [checked]=\\\"comandiVocaliAttivi == true\\\" (change)=\\\"storage.checkComandiVocali(tt, $event)\\\" />&nbsp;\\r\\n    <span style=\\\"font-size: 15px; color: white;\\\">Comandi<br />vocali</span>\\r\\n  </div> -->\\r\\n  <div style=\\\"clear: both;\\\"></div>\\r\\n  <div style=\\\"float: left;  margin-top: 10px; width: 50%;\\\">\\r\\n    <input type=\\\"checkbox\\\" [checked]=\\\"visuaTagBrano == true\\\" (change)=\\\"storage.checkVisuaTagBrano(tt, $event)\\\" /> &nbsp;\\r\\n    <span style=\\\"font-size: 15px; color: white;\\\">Tag Brano</span>\\r\\n  </div>\\r\\n  <div style=\\\"float: left;  margin-top: 10px; width: 50%;\\\">\\r\\n    <input type=\\\"checkbox\\\" [checked]=\\\"mascheraAbout == true\\\" (change)=\\\"storage.checkAbout(tt, $event)\\\" /> &nbsp;\\r\\n    <span style=\\\"font-size: 15px; color: white;\\\">About</span>\\r\\n  </div>\\r\\n  <div style=\\\"clear: both;\\\"></div>\\r\\n\\r\\n  <div style=\\\"position: absolute; top: 0px; right: 1px;\\\">\\r\\n    <img src=\\\"assets/immagini/elimina_quadrato.png\\\" style=\\\"cursor: pointer; width: 25px; height: 25px;\\\" (click)=\\\"menuMostrato = false;\\\">\\r\\n  </div>\\r\\n</div>\\r\\n<!-- Maschera menù -->\\r\\n\\r\\n<!-- CARICAMENTO IN CORSO -->\\r\\n<div \\r\\n  *ngIf=\\\"caricamentoInCorso == true\\\"\\r\\n  style=\\\"\\r\\n    position: absolute;\\r\\n    left: calc(50% - 125px);\\r\\n    top: calc(50% - 175px);\\r\\n    width: 250px;\\r\\n    height: 350px;\\r\\n    z-index: 2500;\\r\\n  \\\"\\r\\n>\\r\\n  <img src=\\\"assets/immagini/wait2.gif\\\" style=\\\"width: 100%; height: 100%;\\\">\\r\\n</div>\\r\\n<!-- CARICAMENTO IN CORSO -->\\r\\n\\r\\n<!-- CORPO -->\\r\\n<div id=\\\"divSfondo\\\"\\r\\n  style=\\\"width: 100%; height: 100%; background-color: black; overflow: hidden;\\\"\\r\\n  (click)=\\\"accendeOpacita()\\\"\\r\\n>\\r\\n  <div *ngIf=\\\"modalitaYouTube === 'S'\\\" style=\\\"width: 100%; height: 100%; background-color: black;\\\">\\r\\n    <div *ngIf=\\\"staCaricandoVideo == false && videoNONCaricato == true && videoSource\\\" [style.width.%] = \\\"mascheraTesto == true ? 75 : 100\\\" style=\\\"height: 85%;\\\">\\r\\n      <youtube-player #videoPlayer videoId=\\\"{{videoSource}}\\\" width=\\\"100%\\\" height=\\\"100%\\\"></youtube-player>\\r\\n    </div>\\r\\n\\r\\n    <div *ngIf=\\\"staCaricandoVideo == false && videoNONCaricato == false && videoSource\\\" [style.width.%] = \\\"mascheraTesto == true ? 75 : 100\\\" style=\\\"height: 85%;\\\">\\r\\n      <video #videoPlayerLocale muted onloadedmetadata=\\\"this.muted=true\\\" controls width=\\\"100%\\\" height=\\\"100%\\\">\\r\\n        <source src=\\\"{{videoSource}}\\\"\\r\\n                type=\\\"video/mp4\\\">    \\r\\n        Sorry, your browser doesn't support embedded videos.\\r\\n      </video>\\r\\n    </div>\\r\\n\\r\\n    <!-- {{staCaricandoVideo}}--{{videoNONCaricato}} -->\\r\\n    <img *ngIf=\\\"staCaricandoVideo == true\\\" [style.width.%] = \\\"mascheraTesto == true ? 75 : 100\\\" style=\\\"height: 85%; z-index: 1000;\\\" src=\\\"assets/immagini/please wait.jpg\\\" />\\r\\n  </div>\\r\\n\\r\\n  <div id=\\\"divImmagine1\\\" \\r\\n    *ngIf=\\\"immagineBrano && modalitaYouTube === 'N'\\\"\\r\\n    [style.width] = \\\"mascheraTesto == true ? '75%' : '100%'\\\"\\r\\n    [style.opacity] = \\\"opacitaImmagine1\\\"\\r\\n    style=\\\"position: absolute; height: 100%; left: 0px; top: 0px; background-color: black; \\r\\n      background-repeat: no-repeat; background-size: cover; background-position: center;\\\"\\r\\n    [ngStyle]=\\\"{'background-image': getUrl()}\\\"\\r\\n  ></div>\\r\\n  \\r\\n  <div id=\\\"divImmagine2\\\"\\r\\n    *ngIf=\\\"immagineBrano && modalitaYouTube === 'N'\\\"\\r\\n    [style.width] = \\\"mascheraTesto == true ? '75%' : '100%'\\\"\\r\\n    [style.opacity] = \\\"opacitaImmagine2\\\"\\r\\n    style=\\\"position: absolute; height: 100%; left: 0px; top: 0px; background-color: black; \\r\\n      background-repeat: no-repeat; background-size: contain; background-position: center;\\\"\\r\\n    [ngStyle]=\\\"{'background-image': getUrl()}\\\"\\r\\n  ></div>\\r\\n  <!-- [@fade]=\\\"state\\\" (@fade.done)=\\\"onDone($event)\\\" -->\\r\\n\\r\\n  <div style=\\\"position: absolute; width: 100%; height: 100%; left: 0px; top: 0px;\\\">\\r\\n    <div \\r\\n      [style.width] = \\\"mascheraTesto == true ? '75%' : '100%'\\\"\\r\\n      style=\\\"float: left;\\\">\\r\\n      <div style=\\\"width: 100%; height: 100%; padding: 5px; z-index: 1;\\\">\\r\\n\\r\\n        <div style=\\\"width: 100%; height: 100%;\\\">\\r\\n          <!--   [style.margin-top]=\\\"deviceGirante == 'Android' ? '30px' : '0px' \\\" -->\\r\\n          <div \\r\\n            style=\\\"width: 100%; height: auto; float: left; text-align: center;\\r\\n                  background-color: rgb(36 34 34);\\r\\n                  opacity: .85;\\r\\n                  border-radius: 5px;\\r\\n                  border: 1px solid #9995;\\r\\n                  -webkit-box-shadow: 0px 0px 24px 2px rgba(0,0,0,0.75);\\r\\n                  -moz-box-shadow: 0px 0px 24px 2px rgba(0,0,0,0.75);\\r\\n                  box-shadow: 0px 0px 24px 2px rgba(0,0,0,0.75);\\r\\n            \\\">\\r\\n            <div style=\\\"width: 100%;\\\">\\r\\n              <div \\r\\n                style=\\\"\\r\\n                  height: 37px;\\r\\n                  width: calc(100% - 50px);\\r\\n                  float : left; \\r\\n                  text-align: center;\\r\\n                  opacity: .65;\\r\\n                  color: #fff700;\\r\\n                  white-space: nowrap;\\r\\n                  margin: 2px;\\r\\n                  border-radius: 3px;\\r\\n                \\\">\\r\\n                <span *ngIf=\\\"titoloBrano\\\" style=\\\"font-family: Verdana; font-size: 22px;\\\">{{scritte[qualeScritta]}}</span><br />\\r\\n              </div>\\r\\n\\r\\n              <div style=\\\"\\r\\n                margin: 2px;\\r\\n                width: 230px; \\r\\n                float : left; \\r\\n                height: auto;\\r\\n                text-align: right;\\r\\n                opacity: .75;\\r\\n                color: #fff700;\\r\\n                white-space: nowrap;\\r\\n                \\\">\\r\\n                <img *ngIf=\\\"modalitaYouTube == 'S'\\\" src=\\\"assets/immagini/icona_INDIETRO.png\\\" (click)=\\\"ytComponent.indietroVideo(this)\\\" style=\\\"margin-right: 5px; cursor: pointer; width: 35px; height: 35px;\\\">\\r\\n                <img *ngIf=\\\"modalitaYouTube == 'S'\\\" src=\\\"assets/immagini/icona_SALVA.png\\\" (click)=\\\"ytComponent.salvaVideo(this)\\\" style=\\\"margin-right: 5px; cursor: pointer; width: 35px; height: 35px;\\\">\\r\\n                <img *ngIf=\\\"modalitaYouTube == 'S'\\\" src=\\\"assets/immagini/icona_DOWNLOAD-TAG.png\\\" (click)=\\\"downloadVideo()\\\" style=\\\"margin-right: 5px; cursor: pointer; width: 35px; height: 35px;\\\">\\r\\n                <img *ngIf=\\\"modalitaYouTube == 'S' && videoNONCaricato == false\\\" src=\\\"assets/immagini/icona_ELIMINA-TAG.png\\\" (click)=\\\"eliminaVideo()\\\" style=\\\"margin-right: 5px; cursor: pointer; width: 35px; height: 35px;\\\">\\r\\n                <img *ngIf=\\\"modalitaYouTube == 'S'\\\" src=\\\"assets/immagini/icona_REFRESH.png\\\" (click)=\\\"ytComponent.prendeVideoYouTube(this,'S')\\\" style=\\\"margin-right: 5px; cursor: pointer; width: 35px; height: 35px;\\\">\\r\\n                <img *ngIf=\\\"modalitaYouTube == 'S'\\\" src=\\\"assets/immagini/icona_AVANTI.png\\\" (click)=\\\"ytComponent.avanzaVideo(this)\\\" style=\\\"margin-right: 5px; cursor: pointer; width: 35px; height: 35px;\\\">\\r\\n                <!-- <img src=\\\"assets/immagini/eliminadx.png\\\" title=\\\"Elimina Brano\\\" (click)=\\\"eliminaBrano()\\\" style=\\\"margin-right: 5px; cursor: pointer; width: 35px; height: 35px;\\\"> -->\\r\\n              </div>\\r\\n            </div>\\r\\n\\r\\n          </div>\\r\\n\\r\\n              <!-- background-color: rgb(36 34 34);\\r\\n              border-radius: 5px;\\r\\n              border: 1px solid #9995;\\r\\n              -webkit-box-shadow: 0px 0px 24px 2px rgba(0,0,0,0.75);\\r\\n              -moz-box-shadow: 0px 0px 24px 2px rgba(0,0,0,0.75);\\r\\n              box-shadow: 0px 0px 24px 2px rgba(0,0,0,0.75);\\r\\n               color: #fff700; -->\\r\\n          <div id=\\\"divBarraTasti\\\" \\r\\n            style=\\\"position: absolute; left: 0px; bottom: 5px;\\r\\n              padding: 3px;\\r\\n              margin-left: 5px;\\r\\n              opacity: .85;\\r\\n              white-space: nowrap;\\r\\n            \\\"\\r\\n            (click)=\\\"settaZIndex(11)\\\"\\r\\n            [style.width] = \\\"mascheraTesto == true ? '74%' : '99%'\\\">\\r\\n\\r\\n            <!-- Tasti musicali -->\\r\\n            <div *ngIf=\\\"visuaTasti == false\\\" \\r\\n              style=\\\"margin-right: 1%; float: left; padding: 2px;\\\"\\r\\n              [style.width.%]=\\\"visuaTagBrano ? '69' : '99'\\\">\\r\\n              &nbsp;\\r\\n            </div>\\r\\n            <div *ngIf=\\\"visuaTasti\\\"\\r\\n              [style.width.%]=\\\"visuaTagBrano ? '69' : '99' \\\"\\r\\n              style=\\\"color: #fff700; background-color: rgb(36 34 34); margin-right: 1%; float: left; border: 1px solid #6e605d; border-radius: 5px; padding: 2px;\\\">\\r\\n\\r\\n              <!-- PROSSIMO BRANO -->\\r\\n              <div style=\\\"width: 100%; height: 27px; margin-bottom: 5px;\\\">\\r\\n                <div class=\\\"nomeBrano\\\"\\r\\n                  [style.width]=\\\"fFiles.operazioneSuFile && fFiles.operazioneSuFile != '' ? titoloBranoAutomatico && titoloBranoAutomatico != '' ? '33%' :'50%' : titoloBranoAutomatico && titoloBranoAutomatico != '' ? '50%' : '100%'\\\"\\r\\n                >\\r\\n                  <span *ngIf=\\\"!fFiles.operazioneSuFile || fFiles.operazioneSuFile == '' || !titoloBranoAutomatico || titoloBranoAutomatico == ''\\\" >{{ artista }} - </span>\\r\\n                  <span *ngIf=\\\"!fFiles.operazioneSuFile || fFiles.operazioneSuFile == '' || !titoloBranoAutomatico || titoloBranoAutomatico == ''\\\" >{{ album }} - </span>\\r\\n                  {{ titoloBrano }}\\r\\n                </div>\\r\\n\\r\\n                <div\\r\\n                  *ngIf=\\\"titoloBranoAutomatico && titoloBranoAutomatico != ''\\\" \\r\\n                  [style.width]=\\\"fFiles.operazioneSuFile && fFiles.operazioneSuFile != '' ? '33%' : '50%'\\\"\\r\\n                  class=\\\"successivoMask\\\">\\r\\n                  <div style=\\\"width: 30px; float: left;\\\">\\r\\n                    <img src=\\\"assets/immagini/icona_REFRESH.png\\\" style=\\\"margin-top: -7px; margin-right: 5px; cursor: pointer; width: 20px; height: 20px;\\\" (click)=\\\"gestAndroid.scaricaProssimoBranoInAutomatico(tt)\\\">\\r\\n                  </div>\\r\\n                  <!-- Succ. {{titoloBranoAutomatico}} -->\\r\\n                  <div #txtTitoloBranoAutomatico id=\\\"txtTitoloBranoAutomatico\\\" style=\\\"width: calc(100% - 30px); float: left;\\\">\\r\\n                    {{ testoScrollabile[0] }}\\r\\n                  </div>\\r\\n                  <div style=\\\"clear: both;\\\"></div>\\r\\n                </div>            \\r\\n                \\r\\n                <div\\r\\n                  *ngIf=\\\"fFiles.operazioneSuFile && fFiles.operazioneSuFile != ''\\\" \\r\\n                  [style.width]=\\\"titoloBranoAutomatico && titoloBranoAutomatico != '' ? '33%' : '50%'\\\"\\r\\n                  class=\\\"downloadMask\\\">\\r\\n                  <!-- {{fFiles.operazioneSuFile}} -->\\r\\n                  <div #txtOperazioneSuFile id=\\\"txtOperazioneSuFile\\\" style=\\\"width: 100%;\\\">\\r\\n                    {{ testoScrollabile[1] }}\\r\\n                  </div>\\r\\n                </div>\\r\\n              </div>\\r\\n              <!-- PROSSIMO BRANO -->\\r\\n              \\r\\n              <div style=\\\"width: 100%; float: left;\\\">\\r\\n                <div style=\\\"width: 20%; text-align: left; float: left; white-space: nowrap;\\\">\\r\\n                  &nbsp;{{tempoPassato}}\\r\\n                </div>\\r\\n                <div style=\\\"width: 60%; text-align: center; float: left; margin: -12px;\\\">\\r\\n                  <mat-slider min=\\\"1\\\" [max]=\\\"durata\\\" step=\\\"1\\\" [value]=\\\"posizioneBrano\\\" (input)=\\\"spostamentoBarra($event)\\\" ></mat-slider>\\r\\n                </div>\\r\\n                <div style=\\\"width: 20%; text-align: right; float: left; white-space: nowrap;\\\">\\r\\n                  &nbsp;{{tempoTotale}}\\r\\n                </div>\\r\\n              </div>\\r\\n              <div style=\\\"width: 33%; text-align: center; float: left; margin-top: 10px;\\\">\\r\\n                <img src=\\\"assets/immagini/indietro.png\\\"\\r\\n                  onmouseover=\\\"this.src='assets/immagini/indietro_flip.png'\\\"\\r\\n                  onmouseout=\\\"this.src='assets/immagini/indietro.png'\\\"\\r\\n                  (click)=\\\"indietroBrano()\\\"\\r\\n                  style=\\\"width: 64px; height: 64px;\\\">\\r\\n              </div>\\r\\n              <div style=\\\"width: 34%; text-align: center; float: left; margin-top: 10px;\\\">\\r\\n                <img *ngIf=\\\"staSuonando == true && staAspettandoCaricamento == false\\\" src=\\\"assets/immagini/icona_pausa.png\\\"\\r\\n                  onmouseover=\\\"this.src='assets/immagini/icona_pausa_flip.png'\\\"\\r\\n                  onmouseout=\\\"this.src='assets/immagini/icona_pausa.png'\\\"\\r\\n                  (click)=\\\"play(false);\\\"\\r\\n                  style=\\\"width: 64px; height: 64px;\\\">\\r\\n                <img *ngIf=\\\"staSuonando == false && staAspettandoCaricamento == false\\\" src=\\\"assets/immagini/icona_PLAY.png\\\"\\r\\n                  onmouseover=\\\"this.src='assets/immagini/icona_play_flip.png'\\\"\\r\\n                  onmouseout=\\\"this.src='assets/immagini/icona_PLAY.png'\\\"\\r\\n                  (click)=\\\"play(true);\\\"\\r\\n                  style=\\\"width: 64px; height: 64px;\\\">\\r\\n                <!-- <div *ngIf=\\\"staCaricandoVideo == true\\\" style=\\\"width: 10px; height: 64px;\\\">&nbsp;</div> -->\\r\\n              </div>\\r\\n              <div style=\\\"width: 33%; text-align: center; float: left; margin-top: 10px;\\\">\\r\\n                <img src=\\\"assets/immagini/avanti.png\\\"\\r\\n                  onmouseover=\\\"this.src='assets/immagini/avanti_flip.png'\\\"\\r\\n                  onmouseout=\\\"this.src='assets/immagini/avanti.png'\\\"\\r\\n                  (click)=\\\"avantiBrano()\\\"\\r\\n                  style=\\\"width: 64px; height: 64px;\\\">\\r\\n              </div>\\r\\n            </div>\\r\\n            <!-- Tasti musicali -->\\r\\n\\r\\n            <!-- Finestrella TAG -->\\r\\n            <div *ngIf=\\\"visuaTagBrano\\\" style=\\\"width: 30%;\\r\\n              height: 136px;\\r\\n              float: left;\\r\\n              color: #fff700;\\r\\n              background-color: rgb(36 34 34);\\r\\n              border: 1px solid #6e605d;\\r\\n              border-radius: 5px;\\\">\\r\\n              <div style=\\\"width: 100%; height: 25px; float: left; color: black; background-color: #83ff87; text-align: center; font-weight: bold;\\\">\\r\\n                Tags\\r\\n              </div>\\r\\n              <div *ngIf=\\\"braniFiltrati\\\" style=\\\"width: 100%; height: calc(100% - 25px); float: left; overflow: auto;\\\">\\r\\n                <table *ngIf=\\\"tagsBrano\\\" style=\\\"width: 100%;\\\" cellapdding=\\\"0px\\\" cellspacing=\\\"0px\\\">\\r\\n                  <tr *ngFor=\\\"let tag of tagsBrano; index as j;\\\">\\r\\n                    <td>\\r\\n                      <img *ngIf=\\\"Amministratore == 'S'\\\" title=\\\"Elimina tag\\\" src=\\\"assets/immagini/icona_ELIMINA-TAG.png\\\" (click)=\\\"eliminaTag(tag.idTag)\\\" style=\\\"cursor: pointer; width: 25px; height: 25px;\\\">\\r\\n                    </td>\\r\\n                    <td>\\r\\n                      {{tag.Progressivo}}\\r\\n                    </td>\\r\\n                    <td>\\r\\n                      {{tag.Tag}}\\r\\n                    </td>\\r\\n                  </tr>\\r\\n                </table>\\r\\n              </div>\\r\\n\\r\\n              <div style=\\\"position: absolute; top: 2px; right: 5px;\\\">\\r\\n                <img *ngIf=\\\"Amministratore == 'S'\\\" title=\\\"Aggiungi tag\\\" src=\\\"assets/immagini/icona_CERCA.png\\\" (click)=\\\"aggiungeTag()\\\" style=\\\"cursor: pointer; width: 25px; height: 25px;\\\">\\r\\n                <img src=\\\"assets/immagini/elimina_quadrato.png\\\" style=\\\"cursor: pointer; width: 25px; height: 25px;\\\" (click)=\\\"visuaTagBrano = false; storage.checkVisuaTagBrano(tt, false);\\\">\\r\\n              </div>\\r\\n            \\r\\n            </div>  \\r\\n            <!-- Finestrella TAG -->\\r\\n              \\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n    <!-- Maschera Testo -->\\r\\n  </div>\\r\\n</div>\\r\\n<!-- CORPO -->\\r\\n\\r\\n<!-- Maschera Testo -->\\r\\n<div id=\\\"divTesto\\\"\\r\\n  *ngIf=\\\"mascheraTesto == true && immagineBrano\\\"\\r\\n  [style.width] = \\\"mascheraTesto == true ? '25%' : '0px'\\\"\\r\\n  [ngStyle]=\\\"{'background-image': 'linear-gradient(rgba(55,55,55,.65), rgba(155,155,155,.65)), url(' + immagineBrano + ')'}\\\"\\r\\n  style=\\\"\\r\\n    position: absolute;\\r\\n    right: 1px;\\r\\n    top: 0px;\\r\\n    background-color: rgb(37 37 37);\\r\\n    background-repeat: no-repeat;\\r\\n    background-position: center;\\r\\n    background-size: cover;\\r\\n    height: 100%;\\r\\n    overflow: hidden;\\r\\n    padding: 3px;\\r\\n    color: #ffffc6;        \\r\\n    font-size: 12px;\\r\\n    opacity: .8;\\r\\n    line-height: 13px;\\r\\n    float: left;\\r\\n  \\\"      \\r\\n  (click)=\\\"settaZIndex(10)\\\"    \\r\\n  >\\r\\n  <div *ngIf=\\\"isConnected\\\" style=\\\"width: 100%; height: 80x; float: left; overflow-y: hidden; overflow-x: auto; white-space: nowrap;\\\">        \\r\\n    <img *ngIf=\\\"bellezza[0]\\\" title=\\\"Bellezza 1\\\" [src]=\\\"bellezza[0]\\\" (click)=\\\"settaStelle(1)\\\" style=\\\"cursor: pointer; width: 25px; height: 25px;\\\">\\r\\n    <img *ngIf=\\\"bellezza[0]\\\" title=\\\"Bellezza 1\\\" [src]=\\\"bellezza[0]\\\" (click)=\\\"settaStelle(1)\\\" style=\\\"cursor: pointer; width: 25px; height: 25px;\\\">\\r\\n    <img *ngIf=\\\"bellezza[1]\\\" title=\\\"Bellezza 2\\\" [src]=\\\"bellezza[1]\\\" (click)=\\\"settaStelle(2)\\\" style=\\\"cursor: pointer; width: 25px; height: 25px;\\\">\\r\\n    <img *ngIf=\\\"bellezza[2]\\\" title=\\\"Bellezza 3\\\" [src]=\\\"bellezza[2]\\\" (click)=\\\"settaStelle(3)\\\" style=\\\"cursor: pointer; width: 25px; height: 25px;\\\">\\r\\n    <img *ngIf=\\\"bellezza[3]\\\" title=\\\"Bellezza 4\\\" [src]=\\\"bellezza[3]\\\" (click)=\\\"settaStelle(4)\\\" style=\\\"cursor: pointer; width: 25px; height: 25px;\\\">\\r\\n    <img *ngIf=\\\"bellezza[4]\\\" title=\\\"Bellezza 5\\\" [src]=\\\"bellezza[4]\\\" (click)=\\\"settaStelle(5)\\\" style=\\\"cursor: pointer; width: 25px; height: 25px;\\\">\\r\\n    <img *ngIf=\\\"bellezza[5]\\\" title=\\\"Bellezza 6\\\" [src]=\\\"bellezza[5]\\\" (click)=\\\"settaStelle(6)\\\" style=\\\"cursor: pointer; width: 25px; height: 25px;\\\">\\r\\n    <img *ngIf=\\\"bellezza[6]\\\" title=\\\"Bellezza 7\\\" [src]=\\\"bellezza[6]\\\" (click)=\\\"settaStelle(7)\\\" style=\\\"cursor: pointer; width: 25px; height: 25px;\\\">\\r\\n    <img *ngIf=\\\"bellezza[7]\\\" title=\\\"Bellezza 8\\\" [src]=\\\"bellezza[7]\\\" (click)=\\\"settaStelle(8)\\\" style=\\\"cursor: pointer; width: 25px; height: 25px;\\\">\\r\\n    <img *ngIf=\\\"bellezza[8]\\\" title=\\\"Bellezza 9\\\" [src]=\\\"bellezza[8]\\\" (click)=\\\"settaStelle(9)\\\" style=\\\"cursor: pointer; width: 25px; height: 25px;\\\">\\r\\n    <img *ngIf=\\\"bellezza[9]\\\" title=\\\"Bellezza 10\\\" [src]=\\\"bellezza[9]\\\" (click)=\\\"settaStelle(10)\\\" style=\\\"cursor: pointer; width: 25px; height: 25px;\\\">\\r\\n    <br />\\r\\n    <img *ngIf=\\\"testoTradotto && testoTradotto != ''\\\" [src]=\\\"linguaggioIcona\\\" (click)=\\\"settaLinguaggio()\\\" style=\\\"cursor: pointer; width: 35px; height: 35px;\\\">\\r\\n    &nbsp;\\r\\n    <img src=\\\"assets/immagini/ascoltata.png\\\" style=\\\"cursor: pointer; width: 25px; height: 20px;\\\">{{volteAscoltatoBrano}}\\r\\n    <hr />\\r\\n  </div>\\r\\n  <div style=\\\"width: 100%; height: calc(100% - 80px); float: left; overflow: auto;\\\">\\r\\n    <div *ngIf=\\\"linguaggio == 'OR'\\\" style=\\\"margin-top: 10px; text-shadow: 1px 1px #000000;\\\" [innerHTML]=\\\"testo\\\"></div>\\r\\n    <div *ngIf=\\\"linguaggio == 'IT'\\\" style=\\\"margin-top: 10px; text-shadow: 1px 1px #000000;\\\" [innerHTML]=\\\"testoTradotto\\\"></div>\\r\\n  </div>\\r\\n</div>\\r\\n<!-- Maschera Testo -->\\r\\n\\r\\n<!-- ICON MENU INFO ARTISTA\\r\\n<div \\r\\n  *ngIf=\\\"playlistVisibile == false && infoArtistaVisibile == false && isConnected\\\"\\r\\n  style=\\\"position: absolute; top: calc(25% - 32px); left: -14px; z-index: 1001;\\\"\\r\\n  [style.left]=\\\"playlistVisibile ? '-275px' : '-21px'\\\"\\r\\n>\\r\\n  <img src=\\\"assets/immagini/icona_AVANTI_Rossa.png\\\"\\r\\n    style=\\\"width: 48px; height: 64px;\\\"\\r\\n    (click)=\\\"infoArtistaVisibile = !infoArtistaVisibile\\\">\\r\\n</div>\\r\\nICON MENU INFO ARTISTA -->\\r\\n\\r\\n<!-- MENU INFO ARTISTA -->\\r\\n<!--   [style.margin-top]=\\\"deviceGirante == 'Android' ? '30px' : '0px' \\\" -->\\r\\n<div id=\\\"divInfoArtista\\\" ngDraggable [handle]=\\\"handleInfo\\\" *ngIf=\\\"mascheraArtisti\\\" \\r\\n  [style.height]=\\\"deviceGirante == 'Android' ? 'calc(100% - 200px)' : 'calc(100% - 170px)'\\\"\\r\\n  style=\\\"position: absolute; top: 55px; left: 0px; width: 60%; \\r\\n  box-shadow: rgb(0 0 0 / 75%) 0px 0px 24px 2px;\\r\\n  background-color: rgb(36 34 34); border: 1px solid rgb(78 75 74); opacity: .85; border-radius: 5px; z-index: 1001;\\r\\n  overflow: hidden;\\\"\\r\\n  (click)=\\\"tt.settaZIndex(4)\\\"    \\r\\n  >\\r\\n  <div style=\\\"width: 100%; height: 50px; text-align: center; float: left;\\\">\\r\\n    <h5><span style=\\\"color: #c7bd1e\\\">INFO Artista {{artista}}</span></h5>\\r\\n    <hr />\\r\\n  </div>\\r\\n\\r\\n  <div *ngIf=\\\"caricamentoInCorsoIA\\\" style=\\\"height: calc(100% - 50px); width: 100%; float: left; overflow: auto;\\\">\\r\\n    <img style=\\\"width: 100%; height: 100%;\\\" src=\\\"assets/immagini/wait.gif\\\" />\\r\\n  </div>\\r\\n\\r\\n  <div *ngIf=\\\"!caricamentoInCorsoIA\\\" style=\\\"height: calc(100% - 50px); width: 100%; float: left; overflow: auto;\\\">\\r\\n    <div style=\\\"width: 100%; text-align: center;\\\">\\r\\n      <h6><span style=\\\"color: white\\\">Membri / Gruppi di appartenenza</span></h6>\\r\\n    </div>\\r\\n    <table *ngIf=\\\"membriArtista\\\" style=\\\"width: 100%;\\\" cellpading=\\\"0\\\" cellspacing=\\\"0\\\">\\r\\n      <tr>\\r\\n        <th style=\\\"color: white\\\">Nome</th>\\r\\n        <th style=\\\"color: white\\\">Inizio</th>\\r\\n        <th style=\\\"color: white\\\">Fine</th>\\r\\n        <th style=\\\"color: white\\\">Ruolo</th>\\r\\n        <th style=\\\"color: white\\\">Sesso</th>\\r\\n        <th style=\\\"color: white\\\">Nascita</th>\\r\\n        <th style=\\\"color: white\\\">Morte</th>\\r\\n        <th style=\\\"color: white\\\">Citta</th>\\r\\n        <th style=\\\"color: white\\\">Nazione</th>\\r\\n      </tr>\\r\\n      <tr *ngFor=\\\"let membro of membriArtista; index as j;\\\">\\r\\n        <td style=\\\"color:#11d267; cursor: pointer;\\\"><a (click)=\\\"goToLink('https://www.google.com/search?q=' + membro.Nome)\\\">{{membro.Nome}}</a></td>\\r\\n        <td style=\\\"color: white\\\">{{membro.Inizio}}</td>\\r\\n        <td style=\\\"color: white\\\">{{membro.Fine}}</td>\\r\\n        <td style=\\\"color: white\\\">{{membro.Ruolo}}</td>\\r\\n        <td style=\\\"color: white\\\">{{membro.Sesso}}</td>\\r\\n        <td style=\\\"color: white\\\">{{membro.DataNascita}}</td>\\r\\n        <td style=\\\"color: white\\\">{{membro.DataMorte}}</td>\\r\\n        <td style=\\\"color: white\\\">{{membro.Citta}}</td>\\r\\n        <td style=\\\"color: white\\\">{{membro.Nazione}}</td>\\r\\n      </tr>\\r\\n    </table>\\r\\n\\r\\n    <br />\\r\\n    <div style=\\\"width: 100%; text-align: center;\\\">\\r\\n      <h6><span style=\\\"color: white\\\">Dischi</span></h6>\\r\\n    </div>\\r\\n    <table *ngIf=\\\"dischiArtista\\\" style=\\\"width: 100%;\\\" cellpading=\\\"0\\\" cellspacing=\\\"0\\\">\\r\\n      <tr>\\r\\n        <th style=\\\"color: white\\\">Titolo</th>\\r\\n        <th style=\\\"color: white\\\">Data</th>\\r\\n        <th style=\\\"color: white\\\">Tipo</th>\\r\\n      </tr>\\r\\n      <tr *ngFor=\\\"let disco of dischiArtista; index as j;\\\">\\r\\n        <td [style.background-color]=\\\"disco.Presente == 'S' ? '#c3f5b2' : '#f2f3f3'\\\" style=\\\"width: 70%;\\\">{{disco.Titolo}}</td>\\r\\n        <td [style.background-color]=\\\"disco.Presente == 'S' ? '#c3f5b2' : '#f2f3f3'\\\" style=\\\"width: 20%;\\\">{{disco.DataDisco}}</td>\\r\\n        <td [style.background-color]=\\\"disco.Presente == 'S' ? '#c3f5b2' : '#f2f3f3'\\\" style=\\\"width: 10%;\\\">{{disco.Tipologia}}</td>\\r\\n      </tr>\\r\\n    </table>\\r\\n\\r\\n    <br />\\r\\n    <div style=\\\"width: 100%; text-align: center;\\\">\\r\\n      <h6><span style=\\\"color: white\\\">Collegamenti</span></h6>\\r\\n    </div>\\r\\n    <table *ngIf=\\\"urlsArtista\\\" style=\\\"width: 100%;\\\" cellpading=\\\"0\\\" cellspacing=\\\"0\\\">\\r\\n      <tr>\\r\\n        <th>Indirizzo</th>\\r\\n        <th>Tipo</th>\\r\\n      </tr>\\r\\n      <tr *ngFor=\\\"let url of urlsArtista; index as j;\\\">\\r\\n        <td style=\\\"width: 80%; color:blue; cursor: pointer;\\\"><a (click)=\\\"goToLink(url.Indirizzo)\\\">{{url.Indirizzo}}</a></td>\\r\\n        <td style=\\\"width: 20%;\\\">{{url.Tipologia}}</td>\\r\\n      </tr>\\r\\n    </table>\\r\\n  </div>\\r\\n\\r\\n  <div style=\\\"position: absolute; top: 0px; right: 1px;\\\">\\r\\n    <img #handleInfo src=\\\"assets/immagini/move_window_logo.png\\\" style=\\\"cursor: pointer; width: 25px; height: 25px;\\\" title=\\\"Sposta finestra\\\">\\r\\n    &nbsp;<img *ngIf=\\\"!caricamentoInCorsoIA\\\" src=\\\"assets/immagini/icona_REFRESH.png\\\" style=\\\"cursor: pointer; width: 25px; height: 25px;\\\" (click)=\\\"caricaDettaglioArtista('S')\\\">\\r\\n    &nbsp;<img src=\\\"assets/immagini/elimina_quadrato.png\\\" style=\\\"cursor: pointer; width: 25px; height: 25px;\\\" (click)=\\\"mascheraArtisti = false; storage.checkArtisti(tt, false);\\\">\\r\\n  </div>\\r\\n</div>\\r\\n<!-- MENU INFO ARTISTA -->\\r\\n\\r\\n<!-- ICON MENU' SINISTRA\\r\\n<div \\r\\n  *ngIf=\\\"infoArtistaVisibile == false && isConnected\\\"\\r\\n  style=\\\"position: absolute; top: calc(63% - 32px); left: -14px; z-index: 1001;\\\"\\r\\n  [style.left]=\\\"playlistVisibile == true ? '275px' : '-21px'\\\"\\r\\n>\\r\\n  <img src=\\\"assets/immagini/icona_AVANTI.png\\\"\\r\\n    style=\\\"width: 48px; height: 64px;\\\"\\r\\n    (click)=\\\"playlistVisibile = !playlistVisibile\\\">\\r\\n</div>\\r\\nICON MENU' SINISTRA -->\\r\\n\\r\\n<!-- FILTRO BRANI -->\\r\\n<app-filtro\\r\\n  [mascheraFiltroBrani]=\\\"mascheraFiltroBrani\\\"\\r\\n  [deviceGirante]=\\\"deviceGirante\\\"\\r\\n  [mascheraOpzioni]=\\\"mascheraOpzioni\\\"\\r\\n  [mascheraTesto]=\\\"mascheraTesto\\\"\\r\\n  [fFiles]=\\\"fFiles\\\"\\r\\n  [braniFiltrati]=\\\"braniFiltrati\\\"\\r\\n  [storage]=\\\"storage\\\"\\r\\n  [eliminaMamma]=\\\"eliminaMamma\\\"\\r\\n  [canzoniLocali]=\\\"canzoniLocali\\\"\\r\\n  [canzoniMamma]=\\\"canzoniMamma\\\"\\r\\n  [consideraStelle]=\\\"consideraStelle\\\"\\r\\n  [maiVotate]=\\\"maiVotate\\\"\\r\\n  [isConnected]=\\\"isConnected\\\"\\r\\n  [tt]=\\\"tt\\\"\\r\\n  [filtroImpostato]=\\\"filtroImpostato\\\"\\r\\n  [quantiBraniFiltrati]=\\\"quantiBraniFiltrati\\\"\\r\\n  [numeroStelle]=\\\"numeroStelle\\\"\\r\\n  [tags]=\\\"tagsRicerca\\\"\\r\\n  [listaTags]=\\\"listaTags\\\"\\r\\n  [esclusioni]=\\\"esclusioni\\\"\\r\\n  [zIndex]=\\\"zIndex\\\"\\r\\n\\r\\n  (mascheraFiltroBraniEmit)=\\\"mascheraFiltroBrani = $event\\\"\\r\\n  (fFilesEmit)=\\\"fFiles = $event\\\"\\r\\n  (braniFiltratiEmit)=\\\"braniFiltrati = $event\\\"\\r\\n  (eliminaMammaEmit)=\\\"eliminaMamma = $event\\\"\\r\\n  (canzoniLocaliEmit)=\\\"canzoniLocali = $event\\\"\\r\\n  (canzoniMammaEmit)=\\\"canzoniMamma = $event\\\"\\r\\n  (consideraStelleEmit)=\\\"consideraStelle = $event\\\"\\r\\n  (maiVotateEmit)=\\\"maiVotate = $event\\\"\\r\\n  (filtroImpostatoEmit)=\\\"filtroImpostato = $event; filtraBrani();\\\"\\r\\n  (numeroStelleEmit)=\\\"numeroStelle = $event\\\"\\r\\n  (esclusioniEmit)=\\\"esclusioni = $event; filtraBrani();\\\"\\r\\n  (tagsEmit)=\\\"tagsRicerca = $event; filtraBrani();\\\"\\r\\n>\\r\\n</app-filtro>\\r\\n<!-- FILTRO BRANI -->\\r\\n\\r\\n<!-- MENU' LISTA BRANI  ngDraggable [handle]=\\\"handleTreeView\\\" -->\\r\\n<!--   [style.margin-top]=\\\"deviceGirante == 'Android' ? '30px' : '0px' \\\"\\r\\n[style.height]=\\\"deviceGirante == 'Android' ? 'calc(100% - 233px)' : 'calc(100% - 203px)'\\\" -->\\r\\n<div id=\\\"divListaBrani\\\" *ngIf=\\\"mascheraBrani\\\"\\r\\n  style=\\\"position: absolute; top: 55px; left: 3px; width: calc(50% - 5px); \\r\\n    box-shadow: rgb(0 0 0 / 75%) 0px 0px 24px 2px;\\r\\n    height: calc(100% - 203px);\\r\\n    background-color: rgb(36 34 34); border: 1px solid rgb(78 75 74); opacity: .85; border-radius: 5px; z-index: 1001;\\r\\n    overflow: hidden; max-width: 250px;\\\"\\r\\n  (click)=\\\"tt.settaZIndex(3)\\\"    \\r\\n  >\\r\\n  <!-- <img src=\\\"assets/immagini/icona_INDIETRO.png\\\" style=\\\"position: absolute; right: 0px; top: 0px; z-index: 99;\\\" (click)=\\\"playlistVisibile = false\\\"> -->\\r\\n\\r\\n  <div style=\\\"width: 100%; height: 100%; float: left; border-top: 1px solid #999; -webkit-box-shadow: 1px -4px 12px -2px #000000; box-shadow: 1px -4px 12px -2px #000000;\\\">\\r\\n    <app-treeview\\r\\n      [braniFiltrati]=\\\"braniFiltrati\\\"\\r\\n      [numeroBranoSelezionato]=\\\"numeroBranoAttuale\\\"\\r\\n      [playlistVisibile]=\\\"mascheraBrani\\\"\\r\\n      [mostraCanzoni]=\\\"true\\\"\\r\\n      [listaTags]=\\\"listaTags\\\"\\r\\n      [Amministratore]=\\\"Amministratore\\\"\\r\\n      [deviceGirante]=\\\"deviceGirante\\\"\\r\\n\\r\\n      (branoInLocale)=\\\"branoPresenteSuSD = $event;\\\"\\r\\n      (branoClickato)=\\\"caricaBranoConClick($event)\\\"\\r\\n      (numeroBrani)=\\\"quantiBraniFiltrati = $event;\\\"\\r\\n      (braniCambiati)=\\\"braniFiltrati = $event\\\"\\r\\n    >\\r\\n    </app-treeview>\\r\\n  </div>\\r\\n  \\r\\n  <div style=\\\"position: absolute; top: 0px; right: 8px;\\\">\\r\\n    <!-- <img #handleTreeView src=\\\"assets/immagini/move_window_logo.png\\\" style=\\\"cursor: pointer; width: 25px; height: 25px;\\\" title=\\\"Sposta finestra\\\">\\r\\n    &nbsp; -->\\r\\n    <img src=\\\"assets/immagini/elimina_quadrato.png\\\" style=\\\"cursor: pointer; width: 25px; height: 25px;\\\" (click)=\\\"mascheraBrani = false; storage.checkBrani(tt, false);\\\">\\r\\n  </div>\\r\\n</div>\\r\\n<!-- MENU' LISTA BRANI -->\\r\\n\\r\\n<!-- ICONA MENU' DESTRA\\r\\n<div\\r\\n  *ngIf=\\\"isConnected\\\"\\r\\n  style=\\\"position: absolute; top: calc(50% - 32px); \\\"\\r\\n  [style.right]=\\\"impostazioniVisibile == true ? '230px' : '-21px'\\\"\\r\\n>\\r\\n  <img src=\\\"assets/immagini/icona_INDIETRO.png\\\" \\r\\n    style=\\\"width: 48px; height: 64px; opacity: .8;\\\" \\r\\n    (click)=\\\"impostazioniVisibile = !impostazioniVisibile\\\">\\r\\n</div>\\r\\nICONA MENU' DESTRA -->\\r\\n\\r\\n<!-- MENU' OPZIONI -->\\r\\n<!--   [style.margin-top]=\\\"deviceGirante == 'Android' ? '30px' : '0px' \\\" -->\\r\\n<div id=\\\"divOpzioni\\\" ngDraggable [handle]=\\\"handleOpzioni\\\" *ngIf=\\\"mascheraOpzioni\\\" \\r\\n  [style.height]=\\\"deviceGirante == 'Android' ? 'calc(100% - 233px)' : 'calc(100% - 203px)'\\\"\\r\\n  [style.right] = \\\"mascheraTesto == true ? '25%' : '2px'\\\"\\r\\n  style=\\\"position: absolute; top: 55px; margin-right: 3px; width: 250px;  overflow: auto;\\r\\n        box-shadow: rgb(0 0 0 / 75%) 0px 0px 24px 2px;\\r\\n        background-color: rgb(36 34 34); padding: 5px; z-index: 1009; opacity: .85;\\r\\n        border-radius: 5px; border: 1px solid rgb(78 75 74);\\\"\\r\\n  (click)=\\\"tt.settaZIndex(6)\\\"\\r\\n  >\\r\\n  <!-- <img src=\\\"assets/immagini/icona_AVANTI.png\\\" style=\\\"position: absolute; left: 0px; top: 0px; z-index: 99;\\\" (click)=\\\"impostazioniVisibile = false\\\"> -->\\r\\n  <br />\\r\\n  <br />\\r\\n  <div style=\\\"position: absolute; width: 97%; height: calc(100% - 40px); top: 20px; overflow: auto;\\\">\\r\\n    <table style=\\\"width: 100%;\\\">\\r\\n      <tr>\\r\\n        <td style=\\\"text-align: center;\\\">\\r\\n          <input type=\\\"checkbox\\\" [checked]=\\\"random == 'S'\\\" (change)=\\\"storage.checkRandom(tt, $event)\\\" />\\r\\n        </td>\\r\\n        <td>\\r\\n          <span style=\\\"color: white\\\">Modalità Random</span>\\r\\n        </td>\\r\\n      </tr>\\r\\n      <tr>\\r\\n        <td style=\\\"text-align: center;\\\">\\r\\n          <input type=\\\"checkbox\\\" [checked]=\\\"modalitaYouTube == 'S'\\\" (change)=\\\"storage.checkModalitaYouTube(tt, $event)\\\" />\\r\\n        </td>\\r\\n        <td>\\r\\n          <span style=\\\"color: white\\\">Modalità YouTube</span>\\r\\n        </td>\\r\\n      </tr>\\r\\n      <!-- <tr>\\r\\n        <td style=\\\"text-align: center;\\\">\\r\\n          <input type=\\\"checkbox\\\" [checked]=\\\"moadalitaLite\\\" (change)=\\\"storage.checkModalitaLight(tt, $event)\\\" />\\r\\n        </td>\\r\\n        <td>\\r\\n          <span style=\\\"color: white\\\">Modalità LITE</span>\\r\\n        </td>\\r\\n      </tr>\\r\\n      <tr>\\r\\n        <td style=\\\"text-align: center;\\\">\\r\\n          <input type=\\\"checkbox\\\" [checked]=\\\"visuaTesto == 'S'\\\" (change)=\\\"checkVisuaTesto($event)\\\" />\\r\\n        </td>\\r\\n        <td>\\r\\n          Visualizza Testo\\r\\n        </td>\\r\\n      </tr> -->\\r\\n      <tr>\\r\\n        <td style=\\\"text-align: center;\\\">\\r\\n          <input type=\\\"checkbox\\\" [checked]=\\\"sfuma == true\\\" (change)=\\\"storage.checkSfumaImmagini(tt, $event)\\\" />\\r\\n        </td>\\r\\n        <td>\\r\\n          <span style=\\\"color: white\\\">Sfuma immagini</span>\\r\\n        </td>\\r\\n      </tr>\\r\\n      <tr>\\r\\n        <td style=\\\"text-align: center;\\\">\\r\\n          <input type=\\\"checkbox\\\" [checked]=\\\"cicla == true\\\" (change)=\\\"storage.checkCiclaImmagini(tt, $event)\\\" />\\r\\n        </td>\\r\\n        <td>\\r\\n          <span style=\\\"color: white\\\">Cicla sempre immagini</span>\\r\\n        </td>\\r\\n      </tr>\\r\\n      <tr *ngIf=\\\"Amministratore == 'S'\\\">\\r\\n        <td style=\\\"text-align: center;\\\">\\r\\n          <input type=\\\"checkbox\\\" [checked]=\\\"debug == true\\\" (change)=\\\"storage.checkDebug(tt, $event); aprePannelloDebug();\\\" />\\r\\n        </td>\\r\\n        <td>\\r\\n          <span style=\\\"color: white\\\">Modalità debug</span>\\r\\n        </td>\\r\\n      </tr>\\r\\n      <tr *ngIf=\\\"deviceGirante == 'Android'\\\">\\r\\n        <td style=\\\"text-align: center;\\\">\\r\\n          <input type=\\\"checkbox\\\" [checked]=\\\"checkRicaricaBraniLocali == true\\\" (change)=\\\"storage.checkRicarica(tt, $event)\\\" />\\r\\n        </td>\\r\\n        <td>\\r\\n          <span style=\\\"color: white\\\">Ricarica locali</span>\\r\\n        </td>\\r\\n      </tr>\\r\\n      <tr *ngIf=\\\"deviceGirante == 'Android'\\\">\\r\\n        <td style=\\\"text-align: center;\\\">\\r\\n          <input type=\\\"checkbox\\\" [checked]=\\\"limitaBrani == true\\\" (change)=\\\"storage.checkLimitaBrani(tt, $event)\\\" />\\r\\n        </td>\\r\\n        <td>\\r\\n          <span style=\\\"color: white\\\">Limita brani memorizzati su SD</span>\\r\\n        </td>\\r\\n      </tr>\\r\\n      <tr *ngIf=\\\"deviceGirante == 'Android' && limitaBrani == true\\\">\\r\\n        <td style=\\\"text-align: center;\\\">\\r\\n        </td>\\r\\n        <td>\\r\\n          <input type=\\\"text\\\" [value]=\\\"numeroLimiteBrani\\\" (input)=\\\"storage.cambiaLimiteBrani(tt, $event.target.value)\\\" style=\\\"width: 99%;\\\">\\r\\n        </td>\\r\\n      </tr>     \\r\\n      <tr *ngIf=\\\"Amministratore == 'S'\\\">\\r\\n        <td style=\\\"text-align: center;\\\">\\r\\n          <img src=\\\"assets/immagini/icona_CERCA.png\\\" style=\\\"cursor: pointer; width: 40px; height: 40px;\\\" (click)=\\\"scaricaTesto()\\\">\\r\\n        </td>\\r\\n        <td>\\r\\n          <span style=\\\"color: white\\\">Riscarica Testo</span>\\r\\n        </td>\\r\\n      </tr>\\r\\n      <tr>\\r\\n        <td style=\\\"text-align: center;\\\">\\r\\n          <img src=\\\"assets/immagini/SegueNo.png\\\" style=\\\"cursor: pointer; width: 40px; height: 40px;\\\" (click)=\\\"tuttoSchermo()\\\">\\r\\n        </td>\\r\\n        <td>\\r\\n          <span style=\\\"color: white\\\">Tutto Schermo</span>\\r\\n        </td>\\r\\n      </tr>\\r\\n      <tr>\\r\\n        <td style=\\\"text-align: center;\\\">\\r\\n          <img src=\\\"assets/immagini/icona_equalizz.png\\\" style=\\\"cursor: pointer; width: 40px; height: 40px;\\\" (click)=\\\"aprePannelloUtility()\\\">\\r\\n        </td>\\r\\n        <td>\\r\\n          <span style=\\\"color: white\\\">Utility</span>\\r\\n        </td>\\r\\n      </tr>     \\r\\n      <tr *ngIf=\\\"Amministratore == 'S'\\\">\\r\\n        <td style=\\\"text-align: center;\\\">\\r\\n          <img src=\\\"assets/immagini/eliminadx.png\\\" style=\\\"cursor: pointer; width: 55px; height: 55px;\\\" (click)=\\\"eliminaImmagine()\\\">\\r\\n        </td>\\r\\n        <td>\\r\\n          <span style=\\\"color: white\\\">Elimina Immagine</span>\\r\\n        </td>\\r\\n      </tr>\\r\\n      <tr>\\r\\n        <td style=\\\"text-align: center;\\\">\\r\\n          <img src=\\\"assets/immagini/icona_DOWNLOAD-TAG.png\\\" style=\\\"cursor: pointer; width: 40px; height: 40px;\\\" (click)=\\\"scaricaImmagine()\\\">\\r\\n        </td>\\r\\n        <td>\\r\\n          <span style=\\\"color: white\\\">Scarica Immagine</span>\\r\\n        </td>\\r\\n      </tr>\\r\\n    </table>\\r\\n  </div>\\r\\n  \\r\\n  <div style=\\\"position: absolute; top: 0px; right: 5px;\\\">\\r\\n    <img #handleOpzioni src=\\\"assets/immagini/move_window_logo.png\\\" style=\\\"cursor: pointer; width: 25px; height: 25px;\\\" title=\\\"Sposta finestra\\\">\\r\\n    &nbsp;<img src=\\\"assets/immagini/elimina_quadrato.png\\\" style=\\\"cursor: pointer; width: 25px; height: 25px;\\\" (click)=\\\"mascheraOpzioni = false; storage.checkOpzioni(tt, false);\\\">\\r\\n  </div>\\r\\n</div>\\r\\n<!-- MENU' OPZIONI -->\\r\\n\\r\\n<!-- MASCHERA RICERCA\\r\\n<div\\r\\n *ngIf=\\\"bRicercaBrano === true\\\"\\r\\n style=\\\"\\r\\n  position: absolute;\\r\\n  background-color: white;\\r\\n  opacity: .9;\\r\\n  left: 15%;\\r\\n  top: 15%;\\r\\n  width: 80%;\\r\\n  height: 70%;\\r\\n  border-radius: 5px;\\r\\n  border: 1px solid #999;\\r\\n  -webkit-box-shadow: 0px 0px 22px 6px rgba(0,0,0,0.75);\\r\\n  -moz-box-shadow: 0px 0px 22px 6px rgba(0,0,0,0.75);\\r\\n  box-shadow: 0px 0px 22px 6px rgba(0,0,0,0.75);\\r\\n  text-align: center;\\r\\n  z-index: 999;\\r\\n\\\">\\r\\n  <h3>Ricerca brano</h3>\\r\\n  <hr />\\r\\n  Filtro&nbsp;\\r\\n  <input type=\\\"text\\\" (input)=\\\"utility.filtraBrani(this)\\\">&nbsp;\\r\\n  Rilevati: {{ listaFiltrata.length }}\\r\\n  <hr />\\r\\n  <div style=\\\"width: 100%; height: 60%; overflow: auto; text-align: left;\\\">\\r\\n    <ul>\\r\\n      <li *ngFor=\\\"let item of listaFiltrata; index as i;\\\" >\\r\\n        <div             \\r\\n          style=\\\"padding: 3px;\\\"            \\r\\n          (mouseover)=\\\"hover[i] = true\\\"\\r\\n          (mouseleave)=\\\"hover[i] = false\\\"\\r\\n          [style.background-color]=\\\"hover[i] == true  ? '#fbd0d0' : 'transparent'\\\"\\r\\n          (click)=\\\"selezioneBranoFiltrato(item)\\\"\\r\\n          >\\r\\n          Artista:&nbsp;{{item.Artista}}<br />\\r\\n          Album:&nbsp;{{item.Album}}<br />\\r\\n          Brano:&nbsp;{{item.Brano}}<br />\\r\\n        </div>\\r\\n        <br />\\r\\n      </li>\\r\\n    </ul>\\r\\n  </div>\\r\\n\\r\\n  <div style=\\\"position: absolute; top: 0px; right: 1px;\\\">\\r\\n    <img src=\\\"assets/immagini/elimina_quadrato.png\\\" style=\\\"cursor: pointer; width: 25px; height: 25px;\\\" (click)=\\\"bRicercaBrano = false\\\">\\r\\n  </div>\\r\\n</div>\\r\\n -->\\r\\n\\r\\n<!-- MESSAGGIO -->\\r\\n<!--   [style.margin-top]=\\\"deviceGirante == 'Android' ? '30px' : '0px' \\\" -->\\r\\n<div \\r\\n  *ngIf=\\\"messaggioVisualizzato == true\\\"\\r\\n  style=\\\"\\r\\n    position: absolute;\\r\\n    top : 50px;\\r\\n    width: auto;\\r\\n    height: auto;\\r\\n    border: 1px solid #999;\\r\\n    opacity: .9;\\r\\n    border-radius: 3px;\\r\\n    z-index: 9999;\\r\\n    padding: 3px;\\r\\n    -webkit-box-shadow: 0px 0px 31px 5px rgba(0,0,0,0.75);\\r\\n    -moz-box-shadow: 0px 0px 31px 5px rgba(0,0,0,0.75);\\r\\n    box-shadow: 0px 0px 31px 5px rgba(0,0,0,0.75);    \\r\\n  \\\"\\r\\n  [style.right.%] = \\\"mascheraTesto == true ? 26 : 2\\\"\\r\\n  [style.background-color] = \\\"coloreSfondoMessaggio\\\"\\r\\n>\\r\\n  {{messaggio}}\\r\\n</div>\\r\\n<!-- MESSAGGIO -->\\r\\n\\r\\n<!-- MASCHERA UTILITY -->\\r\\n<div id=\\\"divUtility\\\" ngDraggable\\r\\n *ngIf=\\\"pannelloUtility === true\\\"\\r\\n style=\\\"\\r\\n  position: absolute;\\r\\n  background-color: white;\\r\\n  opacity: .95;\\r\\n  left: 5%;\\r\\n  top: 15%;\\r\\n  width: 90%;\\r\\n  height: 70%;\\r\\n  border-radius: 5px;\\r\\n  border: 1px solid #999;\\r\\n  -webkit-box-shadow: 0px 0px 22px 6px rgba(0,0,0,0.75);\\r\\n  -moz-box-shadow: 0px 0px 22px 6px rgba(0,0,0,0.75);\\r\\n  box-shadow: 0px 0px 22px 6px rgba(0,0,0,0.75);\\r\\n  text-align: center;\\r\\n  overflow: auto;\\r\\n  z-index: 1012;\\r\\n  \\\"\\r\\n  (click)=\\\"settaZIndex(7)\\\"\\r\\n>\\r\\n  <h3>Utility</h3>\\r\\n  <hr />\\r\\n\\r\\n  <div style=\\\"width: 100%; height: 100%; display: contents;\\\">\\r\\n    <div *ngIf=\\\"Amministratore == 'S'\\\" class=\\\"bottoncione\\\" (click)=\\\"scaricaVideoPregressi()\\\">\\r\\n      <div class=\\\"iconaDentro\\\"><img src=\\\"assets/immagini/icona_DOWNLOAD-TAG.png\\\" style=\\\"width: 100%; height: 100%;\\\"></div>\\r\\n      Scarica Video\\r\\n    </div>\\r\\n    <div class=\\\"bottoncione\\\" (click)=\\\"storage.pulisceCookies()\\\">\\r\\n      <div class=\\\"iconaDentro\\\"><img src=\\\"assets/immagini/icona_ELIMINA-TAG.png\\\" style=\\\"width: 100%; height: 100%;\\\"></div>\\r\\n      Pulisce Cookies\\r\\n    </div>\\r\\n    <div *ngIf=\\\"Amministratore == 'S' && idUtenza == 1\\\" class=\\\"bottoncione\\\" (click)=\\\"eliminaBrutte()\\\">\\r\\n      <div class=\\\"iconaDentro\\\"><img src=\\\"assets/immagini/SuddenDeath.png\\\" style=\\\"width: 100%; height: 100%;\\\"></div>\\r\\n      Elimina Brutte\\r\\n    </div>\\r\\n    <div class=\\\"bottoncione\\\" (click)=\\\"gestioneUguali()\\\">\\r\\n      <div class=\\\"iconaDentro\\\"><img src=\\\"assets/immagini/uguali.png\\\" style=\\\"width: 100%; height: 100%;\\\"></div>\\r\\n      Uguali\\r\\n    </div>\\r\\n    <div *ngIf=\\\"deviceGirante == 'Android'\\\" class=\\\"bottoncione\\\" (click)=\\\"ricaricaBraniLocali()\\\">\\r\\n      <div class=\\\"iconaDentro\\\"><img src=\\\"assets/immagini/hd4.png\\\" style=\\\"width: 100%; height: 100%;\\\"></div>\\r\\n      Ricarica Brani Locali\\r\\n    </div>\\r\\n    <div class=\\\"bottoncione\\\" (click)=\\\"aprePannellogestioneBrani()\\\">\\r\\n      <div class=\\\"iconaDentro\\\"><img src=\\\"assets/immagini/icona_info.png\\\" style=\\\"width: 100%; height: 100%;\\\"></div>\\r\\n      Gestione Brani\\r\\n    </div>\\r\\n    <div class=\\\"bottoncione\\\" (click)=\\\"refreshCanzoni()\\\">\\r\\n      <div class=\\\"iconaDentro\\\"><img src=\\\"assets/immagini/preferito.png\\\" style=\\\"width: 100%; height: 100%;\\\"></div>\\r\\n      Refresh SOFT\\r\\n    </div>\\r\\n    <div class=\\\"bottoncione\\\" (click)=\\\"refreshCanzoniHARD(true)\\\">\\r\\n      <div class=\\\"iconaDentro\\\"><img src=\\\"assets/immagini/icona_ATTENZIONE.png\\\" style=\\\"width: 100%; height: 100%;\\\"></div>\\r\\n      Refresh HARD\\r\\n    </div>\\r\\n    <div *ngIf=\\\"Amministratore == 'S' && idUtenza == 1\\\" class=\\\"bottoncione\\\" (click)=\\\"uploadBrani()\\\">\\r\\n      <div class=\\\"iconaDentro\\\"><img src=\\\"assets/immagini/icona-NASCONDE.png\\\" style=\\\"width: 100%; height: 100%;\\\"></div>\\r\\n      Upload Brani\\r\\n    </div>\\r\\n  </div>\\r\\n\\r\\n  <div style=\\\"position: absolute; top: 0px; right: 1px;\\\">\\r\\n    <img src=\\\"assets/immagini/elimina_quadrato.png\\\" style=\\\"cursor: pointer; width: 25px; height: 25px;\\\" (click)=\\\"pannelloUtility = false\\\">\\r\\n  </div>\\r\\n</div>\\r\\n<!-- MASCHERA UTILITY -->\\r\\n\\r\\n<!-- MASCHERA GESTIONE BRANI -->\\r\\n<div id=\\\"divGestioneBrani\\\" ngDraggable [handle]=\\\"handleGestBrani\\\"\\r\\n *ngIf=\\\"mascheraGestioneBrani === true\\\"\\r\\n style=\\\"\\r\\n  position: absolute;\\r\\n  background-color: black;\\r\\n  opacity: .95;\\r\\n  left: 5%;\\r\\n  top: 5%;\\r\\n  width: 90%;\\r\\n  height: 90%;\\r\\n  border-radius: 5px;\\r\\n  border: 1px solid #999;\\r\\n  -webkit-box-shadow: 0px 0px 22px 6px rgba(0,0,0,0.75);\\r\\n  -moz-box-shadow: 0px 0px 22px 6px rgba(0,0,0,0.75);\\r\\n  box-shadow: 0px 0px 22px 6px rgba(0,0,0,0.75);\\r\\n  text-align: center;\\r\\n  z-index: 1013;\\r\\n  \\\"\\r\\n  (click)=\\\"settaZIndex(8)\\\"\\r\\n>\\r\\n  <h3>Gestione Brani</h3>\\r\\n  <hr />\\r\\n\\r\\n  <div style=\\\"width: 100%; height: 100%;\\\">\\r\\n    <div style=\\\"width: 25%; height: calc(100% - 70px); float: left; text-align: left; overflow: auto;\\\">\\r\\n      <app-treeview\\r\\n        [braniFiltrati]=\\\"datiJSON\\\"\\r\\n        [numeroBranoSelezionato]=\\\"numeroBrano\\\"\\r\\n        [playlistVisibile]=\\\"mascheraBrani\\\"\\r\\n        [mostraCanzoni]=\\\"false\\\"\\r\\n        [idUtenza]=\\\"idUtenza\\\"\\r\\n        [Amministratore]=\\\"Amministratore\\\"\\r\\n\\r\\n        (ritornoBrani)=\\\"braniAlbum($event)\\\"\\r\\n      >\\r\\n      </app-treeview>\\r\\n    </div>\\r\\n    <div style=\\\"width: 45%; height: 85%; float: left; text-align: left;\\\">\\r\\n      <app-album\\r\\n        [datiAlbum]=\\\"albumSelezionato\\\"\\r\\n        [urlImmagine]=\\\"urlImmagine\\\"\\r\\n        [idUtenza]=\\\"idUtenza\\\"\\r\\n        [Amministratore]=\\\"Amministratore\\\"\\r\\n\\r\\n        (datiJsonRitornati)=\\\"impostaDatiJSON($event)\\\"\\r\\n      >\\r\\n      </app-album>\\r\\n   \\r\\n    </div>\\r\\n    <div style=\\\"width: 30%; height: 85%; float: left; text-align: center; overflow: auto;\\\">\\r\\n      <app-immagini\\r\\n        [immagini]=\\\"immaginiArtista\\\"\\r\\n        [urlWS]=\\\"urlWS\\\"\\r\\n        [Amministratore]=\\\"Amministratore\\\"\\r\\n      >\\r\\n      </app-immagini>\\r\\n    </div>\\r\\n  </div>\\r\\n  <div style=\\\"clear: both;\\\"></div>\\r\\n\\r\\n  <div style=\\\"position: absolute; top: 0px; right: 1px;\\\">\\r\\n    <img #handleGestBrani src=\\\"assets/immagini/move_window_logo.png\\\" style=\\\"cursor: pointer; width: 25px; height: 25px;\\\" title=\\\"Sposta finestra\\\">\\r\\n    &nbsp;<img src=\\\"assets/immagini/elimina_quadrato.png\\\" style=\\\"cursor: pointer; width: 25px; height: 25px;\\\" (click)=\\\"mascheraGestioneBrani = false\\\">\\r\\n  </div>\\r\\n</div>\\r\\n<!-- MASCHERA GESTIONE BRANI -->\\r\\n\\r\\n<!-- MASCHERA GESTIONE UGUALI -->\\r\\n<div id=\\\"divUguali\\\" ngDraggable [handle]=\\\"handleUguali\\\"\\r\\n *ngIf=\\\"mascheraGestioneUguali === true\\\"\\r\\n style=\\\"\\r\\n  position: absolute;\\r\\n  background-color: white;\\r\\n  opacity: .95;\\r\\n  left: 5%;\\r\\n  top: 5%;\\r\\n  width: 90%;\\r\\n  height: 90%;\\r\\n  border-radius: 5px;\\r\\n  border: 1px solid #999;\\r\\n  -webkit-box-shadow: 0px 0px 22px 6px rgba(0,0,0,0.75);\\r\\n  -moz-box-shadow: 0px 0px 22px 6px rgba(0,0,0,0.75);\\r\\n  box-shadow: 0px 0px 22px 6px rgba(0,0,0,0.75);\\r\\n  text-align: center;\\r\\n  z-index: 1002;\\r\\n\\\"\\r\\n(click)=\\\"settaZIndex(9)\\\"\\r\\n>\\r\\n  <h3>Gestione Uguali</h3>\\r\\n  <hr />\\r\\n\\r\\n  <div style=\\\"width: 100%; height: 100%;\\\">\\r\\n    <div style=\\\"width: 50%; height: 85%; float: left; text-align: left; overflow: auto;\\\">\\r\\n      <table *ngIf=\\\"uguali\\\" width=\\\"100%\\\" cellpadding=\\\"0\\\" cellspacing=\\\"0\\\">\\r\\n        <tr>\\r\\n          <th>\\r\\n            Artista\\r\\n          </th>\\r\\n          <th>\\r\\n            Brano\\r\\n          </th>\\r\\n          <th>\\r\\n            N°\\r\\n          </th>\\r\\n          <th>            \\r\\n          </th>\\r\\n          <th>\\r\\n          </th>\\r\\n        </tr>\\r\\n        <tr *ngFor=\\\"let brano of uguali; index as i;\\\">\\r\\n          <td style=\\\"width: 48%;\\\">\\r\\n            {{brano.Artista}}\\r\\n          </td>\\r\\n          <td style=\\\"width: 48%;\\\">\\r\\n            {{brano.Brano}}\\r\\n          </td>\\r\\n          <td style=\\\"width: 4%; text-align: right;\\\">\\r\\n            {{brano.Quante}}\\r\\n          </td>\\r\\n          <td>\\r\\n            &nbsp;\\r\\n          </td>\\r\\n          <td>\\r\\n            <img src=\\\"assets/immagini/icona_CERCA.png\\\" title=\\\"Visualizza Brani\\\" style=\\\"cursor: pointer; width: 25px; height: 25px;\\\" (click)=\\\"visualizzaUguali(brano);\\\">\\r\\n          </td>\\r\\n        </tr>\\r\\n      </table>\\r\\n    </div>\\r\\n    <div style=\\\"width: 50%; height: 85%; float: left; text-align: left;\\\">\\r\\n      <table *ngIf=\\\"ugualiDettaglio\\\" width=\\\"100%\\\" cellpadding=\\\"0\\\" cellspacing=\\\"0\\\">\\r\\n        <tr>\\r\\n          <th>\\r\\n            Traccia\\r\\n          </th>\\r\\n          <th>\\r\\n            Anno\\r\\n          </th>\\r\\n          <th>\\r\\n            Album\\r\\n          </th>\\r\\n          <th>\\r\\n            <img src=\\\"assets/immagini/preferito.png\\\" style=\\\"cursor: pointer; width: 20px; height: 20px;\\\">        \\r\\n          </th>\\r\\n          <th>\\r\\n            <img src=\\\"assets/immagini/ascoltata.png\\\" style=\\\"cursor: pointer; width: 20px; height: 20px;\\\">\\r\\n          </th>\\r\\n          <th>            \\r\\n          </th>\\r\\n        </tr>\\r\\n        <tr *ngFor=\\\"let brano of ugualiDettaglio; index as i;\\\">\\r\\n          <td>\\r\\n            {{brano.Traccia}}\\r\\n          </td>\\r\\n          <td>\\r\\n            {{brano.Anno}}\\r\\n          </td>\\r\\n          <td>\\r\\n            {{brano.Album}}\\r\\n          </td>\\r\\n          <td>\\r\\n            {{brano.Bellezza}}\\r\\n          </td>\\r\\n          <td>\\r\\n            {{brano.Ascoltata}}\\r\\n          </td>\\r\\n          <td>\\r\\n            <img src=\\\"assets/immagini/icona_ELIMINA-TAG.png\\\" title=\\\"Elimina brano\\\" style=\\\"cursor: pointer; width: 25px; height: 25px;\\\" (click)=\\\"eliminaBranoUguali(brano)\\\">\\r\\n          </td>\\r\\n        </tr>\\r\\n      </table>\\r\\n    </div>\\r\\n  </div>\\r\\n\\r\\n  <div style=\\\"position: absolute; top: 0px; right: 1px;\\\">\\r\\n    <img #handleUguali src=\\\"assets/immagini/move_window_logo.png\\\" style=\\\"cursor: pointer; width: 25px; height: 25px;\\\" title=\\\"Sposta finestra\\\">\\r\\n    &nbsp;<img src=\\\"assets/immagini/elimina_quadrato.png\\\" style=\\\"cursor: pointer; width: 25px; height: 25px;\\\" (click)=\\\"mascheraGestioneUguali = false\\\">\\r\\n  </div>\\r\\n</div>\\r\\n<!-- MASCHERA GESTIONE UGUALI -->\\r\\n\\r\\n<!-- ASSENZA RETE -->\\r\\n<div *ngIf=\\\"!isConnected\\\" style=\\\"position: absolute; top: 5px; left: calc(50% - 20px); width: 40px;\\\">\\r\\n  <img src=\\\"assets/immagini/wifi_1.png\\\" style=\\\"margin-right: 5px; cursor: pointer; width: 40px; height: 40px;\\\">\\r\\n</div>\\r\\n<!-- ASSENZA RETE -->\\r\\n\\r\\n<!-- \\r\\n<div style=\\\"position: absolute; bottom: 1px; left: 0px; width: 100%; height: 30px; text-align: center; background-color: white; opacity: .85; border: 1px solid #999;\\\">\\r\\n  {{appoSfondo}}\\r\\n</div>\\r\\n-->\\r\\n\\r\\n<!-- Maschera DEBUG ngDraggable [handle]=\\\"handleDebug\\\" -->\\r\\n<div id=\\\"divDebug\\\"\\r\\n  style=\\\"width: 90%; height: auto; position: absolute; left: 5%; top: 25%;\\\">\\r\\n  <div *ngIf=\\\"debug == true\\\"\\r\\n    style=\\\"\\r\\n      width: 100%;\\r\\n      height: 30px;\\r\\n      background-color: #171717;\\r\\n      border: 1px solid #68696d;\\r\\n      padding: 2px;\\r\\n      float: left;\\r\\n      box-shadow: rgb(0 0 0 / 75%) 0px 0px 24px 2px;\\r\\n      border-radius: 3px;\\r\\n      text-align: right;\\\"\\r\\n    (click)=\\\"settaZIndex(1)\\\"\\r\\n  >\\r\\n      <span style=\\\"color: green; margin-top: -2px;\\\">Filtro&nbsp;</span><input type=\\\"text\\\" [value]=\\\"filtroImpostatoDebug\\\" (input)=\\\"filtroImpostatoDebug = $event.target.value; utility.metteFiltroDebug(tt);\\\" style=\\\"width: 30%; margin-top: -2px;\\\">\\r\\n      <img #handleDebug src=\\\"assets/immagini/move_window_logo.png\\\" style=\\\"cursor: pointer; width: 25px; height: 25px;\\\" title=\\\"Sposta finestra\\\">\\r\\n      &nbsp;<img src=\\\"assets/immagini/icona_REFRESH.png\\\" style=\\\"cursor: pointer; width: 25px; height: 25px; z-index: 9999; margin-top: -4px;\\\" (click)=\\\"debuggone = ''; debuggone2 = '';\\\">\\r\\n      &nbsp;<img src=\\\"assets/immagini/EMail.png\\\" style=\\\"cursor: pointer; width: 25px; height: 25px; z-index: 9999; margin-top: -4px;\\\" (click)=\\\"mandaEmail()\\\">\\r\\n      &nbsp;<img *ngIf=\\\"deviceGirante == 'Android'\\\" src=\\\"assets/immagini/icona_SALVA.png\\\" style=\\\"cursor: pointer; width: 25px; height: 25px; z-index: 9999; margin-top: -4px;\\\" (click)=\\\"salvaLog()\\\">\\r\\n      &nbsp;<img src=\\\"assets/immagini/elimina_quadrato.png\\\" style=\\\"cursor: pointer; width: 25px; height: 25px; z-index: 9999; margin-top: -4px;\\\" (click)=\\\"debug = false\\\">\\r\\n  </div>\\r\\n  <div #scrollMe *ngIf=\\\"debug\\\" \\r\\n    [innerHTML]=\\\"debuggone2\\\" [scrollTop]=\\\"scrollMe.scrollHeight\\\"\\r\\n    style=\\\"width: 100%; height: 300px; overflow: auto; float: left;\\r\\n          background-color: yellow; border: 1px solid #999; border-radius: 3px;\\\"\\r\\n    (click)=\\\"settaZIndex(1)\\\"\\r\\n  >\\r\\n  </div>\\r\\n</div>\\r\\n<!-- Maschera DEBUG -->\\r\\n\\r\\n<!-- Maschera About -->\\r\\n<div *ngIf=\\\"mascheraAbout === true\\\" ngDraggable style=\\\"position: absolute;\\r\\n  z-index: 9999;\\r\\n  text-align: center;\\r\\n  left: 33%;\\r\\n  width: 33%;\\r\\n  top: 10%;\\r\\n  height: 75%;\\r\\n  overflow: auto;\\r\\n  opacity: .85;\\r\\n  background-color: white;\\r\\n  border: 1px solid #999;\\r\\n  border-radius: 5px;\\r\\n  padding-bottom: 5px;\\r\\n  box-shadow: rgb(0 0 0 / 75%) 0px 0px 24px 2px;\\\">\\r\\n  <h1>looWebPlayer</h1>\\r\\n  <hr />\\r\\n  @Copyright Looigi227\\r\\n  <img src=\\\"assets/immagini/looigi.JPG\\\" width=\\\"90%\\\" height=\\\"60%\\\" style=\\\"border: 1px solid #999; border-radius: 5px;;\\\">\\r\\n  <hr />\\r\\n  <!-- OS: <span style=\\\"color: red\\\">{{ os }}</span><br />\\r\\n  OS vers.: {{ osVers }}<br />\\r\\n  Device: {{ device }}<br />\\r\\n  User Agent: {{ userAgent }}<br />\\r\\n  Browser: {{ browser }}<br />\\r\\n  Mobile: {{ isMobile }}<br />\\r\\n  Tablet: {{ isTablet }}<br />\\r\\n  Desktop Device: {{ isDesktopDevice }}<br />\\r\\n  Path: {{ pathApp }}<br />\\r\\n  Cordova: {{ ceCordova }}\\r\\n  <hr /> -->\\r\\n\\r\\n  <div style=\\\"position: absolute; top: 0px; right: 1px;\\\">\\r\\n    <img src=\\\"assets/immagini/elimina_quadrato.png\\\" style=\\\"cursor: pointer; width: 25px; height: 25px;\\\" (click)=\\\"mascheraAbout = false\\\">\\r\\n  </div>\\r\\n</div>\\r\\n<!-- Maschera About -->\\r\\n\\r\\n<!-- Icona cuffia -->\\r\\n<!--   [style.margin-top]=\\\"deviceGirante == 'Android' ? '30px' : '0px' \\\" -->\\r\\n<div *ngIf=\\\"cuffieAttive === true\\\" \\r\\n  style=\\\"position: absolute; top: 10px; left: 10px; width: 40px; height: 40px; z-index: 1500;\\\">\\r\\n  <img src=\\\"assets/immagini/cuffie.png\\\" style=\\\"width: 100%; height: 100%;\\\">\\r\\n</div>\\r\\n<!-- Icona cuffia -->\\r\\n\\r\\n<!-- Maschera lettura SD-->\\r\\n<div *ngIf=\\\"letturaSD == true\\\" \\r\\n  style=\\\"box-shadow: rgb(0 0 0 / 75%) 0px 0px 24px 2px;\\r\\n      position: absolute;\\r\\n      width: auto;\\r\\n      max-width: 50%;\\r\\n      height: auto;\\r\\n      z-index: 9999;\\r\\n      left: 50%;\\r\\n      transform: translateX(-50%);\\r\\n      top: 35%;\\r\\n      padding: 5px;\\r\\n      overflow: hidden;\\r\\n      background-color: white;\\r\\n      border-radius: 3px;\\r\\n      border: 1px solid #999;\\r\\n      text-align: center;\\\">\\r\\n  Lettura SD in corso <br />\\r\\n  {{ cartellaEsaminata }}\\r\\n  <hr />\\r\\n  Brani rilevati: {{fFiles.filesInMemoria.length }}\\r\\n</div>\\r\\n<!-- Maschera lettura SD-->\\r\\n\\r\\n<!-- Finestra comandi vocali -->\\r\\n<div *ngIf=\\\"comandoVocale && comandoVocale !== ''\\\" \\r\\n  style=\\\"position: absolute; left: 10px; top: 10px; z-index: 9999; background-color: #ffffc6; border: 1px solid #999; border-radius: 3px; padding: 3px; width: auto; height: auto;\\\">\\r\\n  {{comandoVocale}}\\r\\n</div>\\r\\n<!-- Finestra comandi vocali -->\\r\\n\\r\\n<!-- Finestra tags -->\\r\\n<div *ngIf=\\\"mostraAggiungeTag == true\\\" \\r\\n  style=\\\"box-shadow: rgb(0 0 0 / 75%) 0px 0px 24px 2px;\\r\\n      position: absolute;\\r\\n      width: auto;\\r\\n      max-width: 50%;\\r\\n      height: auto;\\r\\n      z-index: 9999;\\r\\n      left: 50%;\\r\\n      transform: translateX(-50%);\\r\\n      transform: translateY(-50%);\\r\\n      max-height: 80%;\\r\\n      top: 50%;\\r\\n      padding: 5px;\\r\\n      overflow: hidden;\\r\\n      background-color: white;\\r\\n      border-radius: 3px;\\r\\n      min-width: 150px;\\r\\n      border: 1px solid #999;\\r\\n      text-align: center;\\\">\\r\\n\\r\\n    <div style=\\\"width: 100%; max-height: 400px; overflow: auto; margin-top: 20px;\\\">\\r\\n      <table *ngIf=\\\"listaTagsVisualizzati\\\" style=\\\"width: 100%;\\\" cellapdding=\\\"0px\\\" cellspacing=\\\"0px\\\">\\r\\n        <tr>\\r\\n          <th>\\r\\n          </th>\\r\\n          <th>\\r\\n          </th>\\r\\n          <th>\\r\\n            ID\\r\\n          </th>\\r\\n          <th>\\r\\n            Tag\\r\\n          </th>\\r\\n        </tr>\\r\\n        <tr *ngFor=\\\"let tag of listaTagsVisualizzati; index as j;\\\">\\r\\n          <td>\\r\\n            <img title=\\\"Seleziona tag\\\" src=\\\"assets/immagini/matitadx.png\\\" (click)=\\\"selezionaTag(tag.idTag, tag.Tag)\\\" style=\\\"cursor: pointer; width: 25px; height: 25px;\\\">\\r\\n          </td>\\r\\n          <td>\\r\\n            <img title=\\\"Elimina tag\\\" src=\\\"assets/immagini/icona_ELIMINA-TAG.png\\\" (click)=\\\"eliminaTagDaLista(tag.idTag)\\\" style=\\\"cursor: pointer; width: 25px; height: 25px;\\\">\\r\\n          </td>\\r\\n          <td>\\r\\n            {{tag.idTag}}\\r\\n          </td>\\r\\n          <td>\\r\\n            {{tag.Tag}}\\r\\n          </td>\\r\\n        </tr>\\r\\n        <tr>\\r\\n          <td colspan=\\\"4\\\"><hr /></td>\\r\\n        </tr>\\r\\n        <tr style=\\\"text-align: left;\\\">\\r\\n          <td colspan=\\\"1\\\">\\r\\n            <span style=\\\"font-weight: bold;\\\">Tag</span>\\r\\n          </td>\\r\\n          <td colspan=\\\"3\\\">\\r\\n            <input type=\\\"text\\\" [(ngModel)]=\\\"nuovoTag\\\" style=\\\"width: 100%; min-width: 250px;\\\">\\r\\n          </td>\\r\\n        </tr>\\r\\n        <tr style=\\\"text-align: left;\\\">\\r\\n          <td colspan=\\\"4\\\">\\r\\n            <img title=\\\"Aggiungi tag\\\" src=\\\"assets/immagini/icona_SALVA.png\\\" (click)=\\\"aggiungeTagALista()\\\" style=\\\"cursor: pointer; width: 25px; height: 25px;\\\">\\r\\n          </td>\\r\\n        </tr>\\r\\n      </table>\\r\\n    </div>\\r\\n\\r\\n    <div style=\\\"position: absolute; top: 0px; left: 0px; width: 100%;\\\">\\r\\n      <div style=\\\"width: calc(100% - 60px); float: left; font-weight: bold;\\\">\\r\\n        Lista Tags\\r\\n      </div>\\r\\n      <div style=\\\"width: 60px; float: left; text-align: right;\\\">\\r\\n        <img src=\\\"assets/immagini/elimina_quadrato.png\\\" style=\\\"cursor: pointer; width: 25px; height: 25px;\\\" (click)=\\\"mostraAggiungeTag = false\\\">\\r\\n      </div>\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n<!-- Finestra utenti\\r\\n<div *ngIf=\\\"mostraSceltaUtenti == true || caricamentoInCorso == true\\\" -->\\r\\n<div *ngIf=\\\"mostraSceltaUtenti == true\\\" \\r\\n  style=\\\"z-index: 2450; left: 0px; top: 0px; width: 100%; height: 100%; position: absolute; background-color: black; opacity: .65;\\\">\\r\\n</div>\\r\\n\\r\\n<div *ngIf=\\\"mostraSceltaUtenti == true\\\" \\r\\n  style=\\\"box-shadow: rgb(0 0 0 / 75%) 0px 0px 24px 2px;\\r\\n      position: absolute;\\r\\n      width: auto;\\r\\n      max-width: 50%;\\r\\n      height: auto;\\r\\n      z-index: 2500;\\r\\n      left: 50%;\\r\\n      transform: translateX(-50%);\\r\\n      transform: translateY(-50%);\\r\\n      max-height: 80%;\\r\\n      top: 50%;\\r\\n      padding: 5px;\\r\\n      overflow: hidden;\\r\\n      background-color: white;\\r\\n      border-radius: 3px;\\r\\n      min-width: 150px;\\r\\n      border: 1px solid #999;\\r\\n      text-align: center;\\\">\\r\\n\\r\\n    <div style=\\\"width: 100%; max-height: 400px; overflow: auto; margin-top: 20px;\\\">\\r\\n      <table *ngIf=\\\"Utenti\\\" style=\\\"width: 100%;\\\" cellapdding=\\\"0px\\\" cellspacing=\\\"0px\\\">\\r\\n        <tr>\\r\\n          <th>            \\r\\n          </th>\\r\\n          <th>\\r\\n            Utente\\r\\n          </th>\\r\\n        </tr>\\r\\n        <tr *ngFor=\\\"let ute of Utenti; index as j;\\\">\\r\\n          <td>\\r\\n            <img title=\\\"Seleziona Utente\\\" src=\\\"assets/immagini/matitadx.png\\\" (click)=\\\"selezionaUtente(ute)\\\" style=\\\"cursor: pointer; width: 25px; height: 25px;\\\">\\r\\n          </td>\\r\\n          <td>\\r\\n            {{ute.Utente}}\\r\\n          </td>\\r\\n        </tr>\\r\\n      </table>\\r\\n    </div>\\r\\n\\r\\n    <div style=\\\"position: absolute; top: 0px; left: 0px; width: 100%;\\\">\\r\\n      <div style=\\\"width: calc(100% - 60px); float: left; font-weight: bold;\\\">\\r\\n        Lista Utenti\\r\\n      </div>\\r\\n      <div style=\\\"width: 60px; float: left; text-align: right;\\\">\\r\\n        <img src=\\\"assets/immagini/elimina_quadrato.png\\\" style=\\\"cursor: pointer; width: 25px; height: 25px;\\\" (click)=\\\"mostraSceltaUtenti = false\\\">\\r\\n      </div>\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n<div *ngIf=\\\"passwordBox == true\\\" \\r\\n  style=\\\"box-shadow: rgb(0 0 0 / 75%) 0px 0px 24px 2px;\\r\\n      position: absolute;\\r\\n      width: auto;\\r\\n      max-width: 50%;\\r\\n      height: auto;\\r\\n      z-index: 2701;\\r\\n      left: 50%;\\r\\n      transform: translateX(-50%);\\r\\n      transform: translateY(-50%);\\r\\n      max-height: 80%;\\r\\n      top: 50%;\\r\\n      padding: 5px;\\r\\n      overflow: hidden;\\r\\n      background-color: white;\\r\\n      border-radius: 3px;\\r\\n      min-width: 150px;\\r\\n      border: 1px solid #999;\\r\\n      text-align: center;\\\">\\r\\n      <h5>Password per l'utente</h5>\\r\\n      <div style=\\\"width: 100%;\\\">\\r\\n          <div style=\\\"width: calc(100% - 60px); float: left;\\\">\\r\\n            <input type=\\\"password\\\" [(ngModel)]=\\\"pwd\\\" style=\\\"width: 100%;\\\">\\r\\n          </div>\\r\\n          <div style=\\\"width: 60px; text-align: right; float: left;\\\">\\r\\n            <img src=\\\"assets/immagini/elimina_quadrato.png\\\" style=\\\"cursor: pointer; width: 25px; height: 25px;\\\" (click)=\\\"passwordBox = false\\\">\\r\\n            <img src=\\\"assets/immagini/icona_AVANTI.png\\\" style=\\\"cursor: pointer; width: 25px; height: 25px;\\\" (click)=\\\"checkPassword()\\\">\\r\\n          </div>\\r\\n      </div>\\r\\n</div>\\r\\n\\r\\n<!-- UPLOAD Brani-->\\r\\n<app-upload\\r\\n  [mascheraVisibile]=\\\"mascheraUploadVisibile\\\"\\r\\n  [urlPerUpload]=\\\"urlPerUpload\\\"\\r\\n  [t]=\\\"tt\\\"\\r\\n\\r\\n  (refreshBrani)=\\\"mascheraUploadVisibile = false; refreshCanzoniHARD(false);\\\"\\r\\n  (chiusuraMaschera)=\\\"mascheraUploadVisibile = false\\\"\\r\\n>\\r\\n</app-upload>\\r\\n<!-- UPLOAD Brani-->\"","export default \"<!-- FILTRO BRANI -->\\r\\n<div id=\\\"divFiltroBrani\\\" *ngIf=\\\"mascheraFiltroBrani\\\" ngDraggable [handle]=\\\"handleFiltro\\\"\\r\\n  [style.right] =\\\"mascheraOpzioni == true && mascheraTesto == true ? 'calc(25% + 259px)' : \\r\\n                  mascheraOpzioni == true && mascheraTesto == false ? '259px' : \\r\\n                  mascheraOpzioni == false && mascheraTesto == true ? 'calc(25% + 5px)' :\\r\\n                  mascheraOpzioni == false && mascheraTesto == false ? '3px' : '3px'\\\"\\r\\n  style=\\\"position: absolute; top: 55px; height: auto; padding: 8px; width: 50%; \\r\\n        box-shadow: rgb(0 0 0 / 75%) 0px 0px 24px 2px;\\r\\n        background-color: rgb(36 34 34); z-index: 10; border: 1px solid rgb(78 75 74); opacity: .85; border-radius: 5px;\\r\\n        overflow: auto; max-width: 250px;\\\"\\r\\n  (click)=\\\"tt.settaZIndex(2)\\\"\\r\\n  >\\r\\n  <!-- <img src=\\\"assets/immagini/icona_INDIETRO.png\\\" style=\\\"position: absolute; right: 0px; top: 0px; z-index: 99;\\\" (click)=\\\"playlistVisibile = false\\\"> -->\\r\\n\\r\\n  <div style=\\\"width: 100%; height: auto;\\\">\\r\\n    <div style=\\\"width: 100%; text-align: left;\\\">\\r\\n      <h5 *ngIf=\\\"fFiles.filesInMemoria && deviceGirante === 'Android'\\\" style=\\\"color: greenyellow;\\\">Brani su SD {{fFiles.filesInMemoria.length}}</h5>\\r\\n      <h5 *ngIf=\\\"braniFiltrati\\\" style=\\\"color: #c7bd1e;\\\">Brani in lista {{quantiBraniFiltrati}}</h5>\\r\\n    </div>\\r\\n\\r\\n    <div style=\\\"width: 40%; float: left; margin-top: 3px;\\\">\\r\\n      <span style=\\\"color: white\\\">Filtro</span>\\r\\n    </div>\\r\\n    <div style=\\\"width: 60%; float: left; margin-top: 1px; text-align: right;\\\">\\r\\n      <div style=\\\"width: 100%\\\">\\r\\n        <div style=\\\"width: 25px; float: left; text-align: left;\\\">\\r\\n          <img title=\\\"Elimina filtro\\\" src=\\\"assets/immagini/icona_ELIMINA-TAG.png\\\" (click)=\\\"cambiaFiltro('')\\\" style=\\\"cursor: pointer; width: 20px; height: 20px;\\\">\\r\\n        </div>\\r\\n        <div style=\\\"width: calc(100% - 50px); float: left;\\\">\\r\\n          <input type=\\\"text\\\" [value]=\\\"filtroImpostato\\\" style=\\\"width: 100%\\\" (input)=\\\"filtroImpostato = $event.target.value\\\">\\r\\n        </div>\\r\\n        <div style=\\\"width: 25px; float: left; text-align: right;\\\">\\r\\n          <img title=\\\"Imposta filtro\\\" src=\\\"assets/immagini/icona_CERCA.png\\\" (click)=\\\"cambiaFiltro(filtroImpostato)\\\" style=\\\"cursor: pointer; width: 20px; height: 20px;\\\">\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n\\r\\n    <div style=\\\"width: 40%; float: left; margin-top: 3px;\\\">\\r\\n      <span style=\\\"color: white\\\">Esclusioni</span>\\r\\n    </div>\\r\\n    <div style=\\\"width: 60%; float: left; margin-top: 1px; text-align: left;\\\">\\r\\n      <div style=\\\"width: 100%\\\">\\r\\n        <div style=\\\"width: 25px; float: left; text-align: left;\\\">\\r\\n          <img title=\\\"Elimina esclusione\\\" src=\\\"assets/immagini/icona_ELIMINA-TAG.png\\\" (click)=\\\"cambiaEsclusioni('')\\\" style=\\\"cursor: pointer; width: 20px; height: 20px;\\\">\\r\\n        </div>\\r\\n        <div style=\\\"width: calc(100% - 50px); float: left;\\\">\\r\\n          <input type=\\\"text\\\" [value]=\\\"esclusioni\\\"  style=\\\"width: 100%;\\\" (input)=\\\"esclusioni = $event.target.value\\\">\\r\\n        </div>\\r\\n        <div style=\\\"width: 25px; float: left; text-align: right;\\\">\\r\\n          <img title=\\\"Imposta esclusione\\\" src=\\\"assets/immagini/icona_CERCA.png\\\" (click)=\\\"cambiaEsclusioni(esclusioni)\\\" style=\\\"cursor: pointer; width: 20px; height: 20px;\\\">\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n    \\r\\n    <div style=\\\"width: 40%; float: left; margin-top: 3px;\\\">\\r\\n      <span style=\\\"color: white\\\">Tags</span>&nbsp;\\r\\n      <img title=\\\"Aggiunge tag\\\" src=\\\"assets/immagini/icona_CERCA.png\\\" (click)=\\\"aggiungeTagRicerca()\\\" style=\\\"cursor: pointer; width: 20px; height: 20px;\\\">\\r\\n    </div>\\r\\n    <div *ngIf=\\\"tags\\\" style=\\\"width: 60%; float: left; margin-top: 1px; text-align: right; \\\">\\r\\n      <div *ngFor=\\\"let tag of tags\\\" \\r\\n        style=\\\"width: auto; height: 18px; float: left; padding: 2px; margin: 1px; \\r\\n          border: 1px solid #999; color: #264e2a; font-size: 14px;\\r\\n          background-color: #6fd872; border-radius: 2px;\\\">\\r\\n        <div style=\\\"width: 100%; float: left; height: 18px;\\\">\\r\\n          <div style=\\\"width: calc(100% - 25px); float: left; margin-top: -5px; white-space: nowrap;\\\">\\r\\n            {{tag}}\\r\\n          </div>\\r\\n          <div style=\\\"width: 25px; float: left; margin-top: -6px;\\\">\\r\\n            <img title=\\\"Elimina tag\\\" src=\\\"assets/immagini/icona_ELIMINA-TAG.png\\\" (click)=\\\"eliminaTag(tag)\\\" style=\\\"cursor: pointer; width: 15px; height: 15px;\\\">\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n\\r\\n    <div *ngIf=\\\"eliminaMamma == false && canzoniLocali == false\\\" style=\\\"width: 100%; float: left; white-space: nowrap;\\\">\\r\\n      <input type=\\\"checkbox\\\" [checked]=\\\"canzoniMamma == true\\\" (change)=\\\"storage.checkCanzoniMamma(tt, $event)\\\" /> &nbsp;\\r\\n      <span style=\\\"font-size: 15px; color: white\\\">Solo c. mamma</span>\\r\\n    </div>\\r\\n    <div *ngIf=\\\"canzoniMamma == false && canzoniLocali == false\\\" style=\\\"width: 100%; float: left; white-space: nowrap;\\\">\\r\\n      <input type=\\\"checkbox\\\" [checked]=\\\"eliminaMamma == true\\\" (change)=\\\"storage.checkEliminaMamma(tt, $event)\\\" /> &nbsp;\\r\\n      <span style=\\\"font-size: 15px; color: white;\\\">Elimina c. mamma</span>\\r\\n    </div>\\r\\n    <div *ngIf=\\\"deviceGirante == 'Android' && canzoniMamma == false\\\" style=\\\"width: 100%; float: left; white-space: nowrap;\\\">\\r\\n      <input *ngIf=\\\"isConnected\\\" type=\\\"checkbox\\\" [checked]=\\\"canzoniLocali == true\\\" (change)=\\\"storage.checkSoloCanzoniLocali(tt, $event)\\\" /> &nbsp;\\r\\n      <span style=\\\"font-size: 15px; color: white;\\\">Solo canzoni locali</span>\\r\\n    </div>\\r\\n    <div *ngIf=\\\"canzoniLocali == false\\\" style=\\\"width: 100%; float: left;\\\">\\r\\n      <div style=\\\"width: 70%; float: left; white-space: nowrap;\\\">\\r\\n        <input type=\\\"checkbox\\\" [checked]=\\\"consideraStelle == true\\\" (change)=\\\"storage.checkConsideraStelle(tt, $event)\\\" /> &nbsp;\\r\\n        <span style=\\\"font-size: 15px; color: white;\\\">Stelle</span>\\r\\n      </div>\\r\\n      <div style=\\\"width: 30%; float: left; margin-top: -3px;\\\">\\r\\n        <input *ngIf=\\\"consideraStelle == true && maiVotate == false\\\" style=\\\"width: 100%;\\\" type=\\\"number\\\" min=\\\"1\\\" max=\\\"10\\\" [value]=\\\"numeroStelle\\\" (input)=\\\"storage.cambiaStelle(tt, $event.target.value)\\\">\\r\\n      </div>\\r\\n    </div>\\r\\n    <div *ngIf=\\\"isConnected == true\\\" style=\\\"width: 100%; float: left; white-space: nowrap; margin-top: -3px;\\\">\\r\\n      <input *ngIf=\\\"consideraStelle == true\\\" type=\\\"checkbox\\\" [checked]=\\\"maiVotate == true\\\" (change)=\\\"storage.checkMaiVotate(tt, $event)\\\" />&nbsp;&nbsp;\\r\\n      <span *ngIf=\\\"consideraStelle == true\\\" style=\\\"font-size: 15px; color: white;\\\">Mai Votate</span>\\r\\n    </div>\\r\\n  </div>\\r\\n  \\r\\n  <div style=\\\"position: absolute; top: 0px; right: 1px;\\\">\\r\\n    <img #handleFiltro src=\\\"assets/immagini/move_window_logo.png\\\" style=\\\"cursor: pointer; width: 25px; height: 25px;\\\" title=\\\"Sposta finestra\\\">\\r\\n    &nbsp;<img src=\\\"assets/immagini/elimina_quadrato.png\\\" style=\\\"cursor: pointer; width: 25px; height: 25px;\\\" (click)=\\\"mascheraFiltroBrani = false; storage.checkFiltroBrani(tt, false); mascheraFiltroBraniEmit.emit(false);\\\">\\r\\n  </div>\\r\\n</div>\\r\\n<!-- FILTRO BRANI -->\\r\\n\\r\\n<!-- Finestra tags -->\\r\\n<div *ngIf=\\\"mostraAggiungeTag == true\\\" \\r\\n  style=\\\"box-shadow: rgb(0 0 0 / 75%) 0px 0px 24px 2px;\\r\\n      position: absolute;\\r\\n      width: auto;\\r\\n      max-width: 30%;\\r\\n      height: auto;\\r\\n      z-index: 9999;\\r\\n      left: 30%;\\r\\n      max-height: 80%;\\r\\n      top: 20%;\\r\\n      padding: 5px;\\r\\n      overflow: hidden;\\r\\n      background-color: white;\\r\\n      border-radius: 3px;\\r\\n      min-width: 150px;\\r\\n      border: 1px solid #999;\\r\\n      text-align: center;\\\">\\r\\n\\r\\n    <div style=\\\"width: 100%; max-height: 400px; overflow: auto; margin-top: 20px;\\\">\\r\\n      <table *ngIf=\\\"listaTagsVisualizzati\\\" style=\\\"width: 100%;\\\" cellapdding=\\\"0px\\\" cellspacing=\\\"0px\\\">\\r\\n        <tr>\\r\\n          <th>\\r\\n          </th>\\r\\n          <th>\\r\\n          </th>\\r\\n          <th>\\r\\n            ID\\r\\n          </th>\\r\\n          <th>\\r\\n            Tag\\r\\n          </th>\\r\\n        </tr>\\r\\n        <tr *ngFor=\\\"let tag of listaTagsVisualizzati; index as j;\\\">\\r\\n          <td>\\r\\n            <img title=\\\"Seleziona tag\\\" src=\\\"assets/immagini/matitadx.png\\\" (click)=\\\"selezionaTag(tag.idTag, tag.Tag)\\\" style=\\\"cursor: pointer; width: 25px; height: 25px;\\\">\\r\\n          </td>\\r\\n          <td>\\r\\n            <img title=\\\"Elimina tag\\\" src=\\\"assets/immagini/icona_ELIMINA-TAG.png\\\" (click)=\\\"eliminaTagDaLista(tag.idTag)\\\" style=\\\"cursor: pointer; width: 25px; height: 25px;\\\">\\r\\n          </td>\\r\\n          <td>\\r\\n            {{tag.idTag}}\\r\\n          </td>\\r\\n          <td>\\r\\n            {{tag.Tag}}\\r\\n          </td>\\r\\n        </tr>\\r\\n        <tr>\\r\\n          <td colspan=\\\"4\\\"><hr /></td>\\r\\n        </tr>\\r\\n        <tr style=\\\"text-align: left;\\\">\\r\\n          <td colspan=\\\"1\\\">\\r\\n            <span style=\\\"font-weight: bold;\\\">Tag</span>\\r\\n          </td>\\r\\n          <td colspan=\\\"3\\\">\\r\\n            <input type=\\\"text\\\" [(ngModel)]=\\\"nuovoTag\\\" style=\\\"width: 100%; min-width: 250px;\\\">\\r\\n          </td>\\r\\n        </tr>\\r\\n        <tr style=\\\"text-align: left;\\\">\\r\\n          <td colspan=\\\"4\\\">\\r\\n            <img title=\\\"Aggiungi tag\\\" src=\\\"assets/immagini/icona_SALVA.png\\\" (click)=\\\"aggiungeTagALista()\\\" style=\\\"cursor: pointer; width: 25px; height: 25px;\\\">\\r\\n          </td>\\r\\n        </tr>\\r\\n      </table>\\r\\n    </div>\\r\\n\\r\\n    <div style=\\\"position: absolute; top: 0px; left: 0px; width: 100%;\\\">\\r\\n      <div style=\\\"width: calc(100% - 30px); float: left; font-weight: bold;\\\">\\r\\n        Lista Tags\\r\\n      </div>\\r\\n      <div style=\\\"width: 30px; float: left; text-align: right;\\\">\\r\\n        <img src=\\\"assets/immagini/elimina_quadrato.png\\\" style=\\\"cursor: pointer; width: 25px; height: 25px;\\\" (click)=\\\"mostraAggiungeTag = false\\\">\\r\\n      </div>\\r\\n    </div>\\r\\n</div>\"","export default \"<div style=\\\"width: 100%; height: 100%;\\\">\\r\\n    <div *ngIf=\\\"album\\\" style=\\\"margin: 1%; background-color: white; width: 98%; height: 98%; border: 1px solid #999; border-radius: 4px;\\\">\\r\\n        <div style=\\\"width: 100%; height: 150px; border-bottom: 1px solid #999;\\\">\\r\\n            <div style=\\\"width: 150px; height: 150px; float: left; border: 1px solid #999;\\\">\\r\\n                <img [src]=\\\"immagineAlbum\\\" style=\\\"width: 100%; height: 100%;\\\" />\\r\\n            </div>\\r\\n            <div style=\\\"width: calc(100% - 150px); height: 150px; float: left; overflow: auto; padding: 5px;\\\">\\r\\n                <h1>{{nomeAlbum}}</h1>\\r\\n                <h3>Anno {{album.anno}}</h3>\\r\\n                <div style=\\\"width: 100%; text-align: right; height: 35px; border-top: 1px solid #999; padding-top: 5px;\\\">\\r\\n                    <img src=\\\"assets/immagini/icona_DOWNLOAD-TAG.png\\\" title=\\\"Scarica immagine Album\\\" style=\\\"cursor: pointer; width: 35px; height: 35px;\\\" (click)=\\\"scaricaImmagineAlbum();\\\">\\r\\n                    &nbsp;\\r\\n                    <img src=\\\"assets/immagini/eliminadx.png\\\" title=\\\"Elimina Album\\\" style=\\\"cursor: pointer; width: 35px; height: 35px;\\\" (click)=\\\"eliminaAlbum();\\\">\\r\\n                    &nbsp;\\r\\n                    <img src=\\\"assets/immagini/matitadx.png\\\" title=\\\"Rinomina Album\\\" style=\\\"cursor: pointer; width: 35px; height: 35px;\\\" (click)=\\\"rinominaAlbum();\\\">\\r\\n                </div>                 \\r\\n            </div>\\r\\n\\r\\n        </div>\\r\\n       \\r\\n        <div style=\\\"width: 100%; height: calc(100% - 150px); float: left; overflow: auto;\\\">\\r\\n            <div style=\\\"width: 100%; overflow: auto; height: auto;\\\">\\r\\n                <table width=\\\"100%\\\" cellpadding=\\\"0\\\" cellspacing=\\\"0\\\">\\r\\n                    <tr>\\r\\n                        <th>\\r\\n                            N°\\r\\n                        </th>\\r\\n                        <th>\\r\\n                            Titolo\\r\\n                        </th>\\r\\n                        <th style=\\\"text-align: right;\\\">\\r\\n                            <img src=\\\"assets/immagini/ascoltata.png\\\" style=\\\"width: 20px; height: 15px;\\\">\\r\\n                        </th>\\r\\n                        <th style=\\\"text-align: right;\\\">\\r\\n                            <img src=\\\"assets/immagini/preferito.png\\\" style=\\\"width: 20px; height: 20px;\\\">\\r\\n                        </th>\\r\\n                        <th>                    \\r\\n                        </th>\\r\\n                        <th>                    \\r\\n                        </th>\\r\\n                    </tr>\\r\\n                    <tr>\\r\\n                        <th colspan=\\\"6\\\"><hr /></th>\\r\\n                    </tr>\\r\\n                    <tr *ngFor=\\\"let brano of album.brani; index as i;\\\">\\r\\n                        <td>\\r\\n                            {{brano.Traccia}}\\r\\n                        </td>\\r\\n                        <td>\\r\\n                            {{brano.Text}}\\r\\n                        </td>\\r\\n                        <td style=\\\"text-align: right;\\\">\\r\\n                            {{+brano.Ascoltata}}\\r\\n                        </td>\\r\\n                        <td style=\\\"text-align: right;\\\">\\r\\n                            {{brano.Stelle}}\\r\\n                        </td>\\r\\n                        <td style=\\\"text-align: right;\\\">\\r\\n                            <img src=\\\"assets/immagini/eliminadx.png\\\" title=\\\"Elimina Brano\\\" style=\\\"cursor: pointer; width: 25px; height: 25px;\\\" (click)=\\\"eliminaBrano(brano);\\\">\\r\\n                        </td>\\r\\n                        <td style=\\\"text-align: right;\\\">\\r\\n                            <img src=\\\"assets/immagini/matitadx.png\\\" title=\\\"Rinomina Brano\\\" style=\\\"cursor: pointer; width: 25px; height: 25px;\\\" (click)=\\\"rinominaBrano(brano);\\\">\\r\\n                        </td>\\r\\n                    </tr>\\r\\n                </table>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n<div *ngIf=\\\"mascheraRinomina || scaricamentoImmagine\\\" style=\\\"position: absolute; left: 0px; top: 0px; width: 100%; height: 100%; background-color: #999; opacity: .5; z-index: 1000;\\\">\\r\\n</div>\\r\\n<div *ngIf=\\\"mascheraRinomina\\\"\\r\\n    style=\\\"\\r\\n        padding: 3px;\\r\\n        position: absolute;\\r\\n        top: 35%;\\r\\n        left: 35%;\\r\\n        width: auto;\\r\\n        height: auto;\\r\\n        background-color: #f9ff9b;\\r\\n        border: 1px solid #999;\\r\\n        border-radius: 4px;\\r\\n        z-index: 1001;\\r\\n        box-shadow: 0px 0px 22px 6px rgba(0,0,0,0.75);\\r\\n    \\\">\\r\\n    <h4>Rinomina {{tipologia}}</h4>\\r\\n    <hr />\\r\\n    <table style=\\\"width: 100%; min-width: 450px;\\\" cellpadding=\\\"0\\\" cellspacing=\\\"0\\\">\\r\\n        <tr>\\r\\n            <td>\\r\\n                <span *ngIf=\\\"tipologia == 'Brano'\\\" style=\\\"font-size: 18px; font-weight: bold;\\\">Traccia</span>\\r\\n                <span *ngIf=\\\"tipologia == 'Album'\\\" style=\\\"font-size: 18px; font-weight: bold;\\\">Anno</span>\\r\\n                &nbsp;\\r\\n            </td>\\r\\n            <td>\\r\\n                <input style=\\\"font-size: 18px; width: 100%;\\\" type=\\\"number\\\" [(ngModel)]=\\\"nuovoNumero\\\" />\\r\\n            </td>\\r\\n        </tr>\\r\\n        <tr>\\r\\n            <td>\\r\\n                <span style=\\\"font-size: 18px; font-weight: bold;\\\">Nome</span>\\r\\n            </td>\\r\\n            <td>\\r\\n                <input style=\\\"font-size: 18px; width: 100%;\\\" type=\\\"text\\\" [(ngModel)]=\\\"nuovoNome\\\" />\\r\\n            </td>\\r\\n        </tr>\\r\\n    </table>\\r\\n    <hr />\\r\\n    <div style=\\\"width: 100%; height: 35px;\\\">\\r\\n        <div style=\\\"width: 50%; float: left; text-align: center;\\\">\\r\\n            <!-- <img src=\\\"assets/immagini/icona_INDIETRO.png\\\" style=\\\"cursor: pointer; width: 35px; height: 35px;\\\" (click)=\\\"mascheraRinomina = false\\\"> -->\\r\\n            &nbsp;\\r\\n        </div>\\r\\n        <div style=\\\"width: 50%; float: left; text-align: center;\\\">\\r\\n            <img src=\\\"assets/immagini/icona_SALVA.png\\\" style=\\\"cursor: pointer; width: 35px; height: 35px;\\\" (click)=\\\"salvaRinomina()\\\">\\r\\n        </div>\\r\\n    </div>\\r\\n\\r\\n    <div style=\\\"position: absolute; top: 0px; right: 1px;\\\">\\r\\n        <img src=\\\"assets/immagini/elimina_quadrato.png\\\" style=\\\"cursor: pointer; width: 25px; height: 25px;\\\" (click)=\\\"mascheraRinomina = false\\\">\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n<!-- <div *ngIf=\\\"mascheraImmAlbum\\\" style=\\\"position: absolute; left: 0px; top: 0px; width: 100%; height: 100%; background-color: #999; opacity: .5; z-index: 1000;\\\">\\r\\n</div> -->\\r\\n<div *ngIf=\\\"mascheraImmAlbum\\\"\\r\\n    style=\\\"\\r\\n        padding: 3px;\\r\\n        position: absolute;\\r\\n        top: 5%;\\r\\n        left: 5%;\\r\\n        width: 85%;\\r\\n        height: 85%;\\r\\n        background-color: #f9ff9b;\\r\\n        border: 1px solid #999;\\r\\n        border-radius: 4px;\\r\\n        z-index: 1001;\\r\\n        box-shadow: 0px 0px 22px 6px rgba(0,0,0,0.75);\\r\\n        overflow-x: auto;\\r\\n    \\\">\\r\\n    <div style=\\\"width: auto; \\\">\\r\\n        <div *ngFor=\\\"let imm of immAlbum; index as k;\\\" class=\\\"bottoncione\\\">\\r\\n            <img [src]=\\\"imm.Path\\\" style=\\\"cursor: pointer; width: 130px; height: 130px;\\\" (click)=\\\"impostaImmagineAlbum(imm);\\\">\\r\\n            <br />\\r\\n            Kb. {{imm.Dimensioni}}\\r\\n            <br />\\r\\n        </div>\\r\\n    </div>\\r\\n\\r\\n    <div style=\\\"position: absolute; top: 0px; right: 1px;\\\">\\r\\n        <img src=\\\"assets/immagini/elimina_quadrato.png\\\" style=\\\"cursor: pointer; width: 25px; height: 25px;\\\" (click)=\\\"mascheraImmAlbum = false; scaricamentoImmagine = false;\\\">\\r\\n    </div>\\r\\n</div>\"","export default \"Immagini: {{immaginiArtista.length}}\\r\\n<hr />\\r\\n<div *ngFor=\\\"let immagine of immaginiArtista; index as i;\\\" class=\\\"bottoncione\\\">\\r\\n    <img [src]=\\\"immagine.Immagine\\\" style=\\\"width: 100%; height: 100%;\\\" (click)=\\\"premutaImmagine(immagine, $event, i)\\\" />\\r\\n</div>\\r\\n\\r\\n<!-- <div *ngIf=\\\"visualizzaPopup\\\" \\r\\n    style=\\\"position: absolute; background-color: #fdfd5e; padding: 3px; width: auto; height: auto; border: 1px solid #999;\\\"\\r\\n    [style.left.px]=\\\"popupLeft\\\" [style.top.px]=\\\"popupTop\\\">\\r\\n    {{testoImmagine}}\\r\\n    <br />\\r\\n</div> -->\\r\\n\\r\\n<div\\r\\n*ngIf=\\\"visualizzaImmagine == true\\\"\\r\\n style=\\\"\\r\\n  position: absolute;\\r\\n  background-color: white;\\r\\n  left: 5%;\\r\\n  top: 5%;\\r\\n  width: 90%;\\r\\n  height: 90%;\\r\\n  border-radius: 5px;\\r\\n  border: 1px solid #999;\\r\\n  -webkit-box-shadow: 0px 0px 22px 6px rgba(0,0,0,0.75);\\r\\n  -moz-box-shadow: 0px 0px 22px 6px rgba(0,0,0,0.75);\\r\\n  box-shadow: 0px 0px 22px 6px rgba(0,0,0,0.75);\\r\\n  text-align: center;\\r\\n  z-index: 1002;\\r\\n\\\">\\r\\n    <div style=\\\"width: 100%; height: 40px; border-bottom: 1px solid #999;\\\">\\r\\n        <div style=\\\"width: calc(100% - 150px); height: 40px; float: left; text-align: left;\\\">\\r\\n            <div style=\\\"float: left; width: 30px; text-align: center;\\\">\\r\\n                <img src=\\\"assets/immagini/icona_INDIETRO.png\\\" title=\\\"Indietro\\\" style=\\\"cursor: pointer; width: 25px; height: 25px;\\\" (click)=\\\"indietroImmagine()\\\">\\r\\n            </div>\\r\\n            <div style=\\\"float: left; width: calc(100% - 60px); text-align: center; height: 35px; overflow: auto;\\\">\\r\\n                <h5>{{testoImmagine}}</h5>\\r\\n            </div>\\r\\n            <div style=\\\"float: left; width: 30px; text-align: center;\\\">\\r\\n                <img src=\\\"assets/immagini/icona_AVANTI.png\\\" title=\\\"Avanti\\\" style=\\\"cursor: pointer; width: 25px; height: 25px;\\\" (click)=\\\"avantiImmagine()\\\">\\r\\n            </div>\\r\\n        </div>\\r\\n        <div style=\\\"width: 150px; height: 40px; float: left; text-align: right; padding-right: 30px;\\\">\\r\\n            <img src=\\\"assets/immagini/icona_ELIMINA-TAG.png\\\" title=\\\"Elimina Immagine\\\" style=\\\"cursor: pointer; width: 25px; height: 25px;\\\" (click)=\\\"eliminaImmagine()\\\">\\r\\n            <img src=\\\"assets/immagini/icona_DOWNLOAD-TAG.png\\\" title=\\\"Scarica Immagine\\\" style=\\\"cursor: pointer; width: 25px; height: 25px;\\\" (click)=\\\"scaricaImmagine()\\\">\\r\\n        </div>\\r\\n    </div>\\r\\n    <div [ngStyle]=\\\"{'background-image': getUrl()}\\\" style=\\\"width: 100%; height: calc(100% - 40px); background-repeat: no-repeat; background-size: contain; background-position: center;\\\" ></div>\\r\\n\\r\\n    <div style=\\\"position: absolute; top: 0px; right: 1px;\\\">\\r\\n        <img src=\\\"assets/immagini/elimina_quadrato.png\\\" style=\\\"cursor: pointer; width: 25px; height: 25px;\\\" (click)=\\\"visualizzaImmagine = false\\\">\\r\\n    </div>\\r\\n</div>\"","export default \"<div #divScroll style=\\\"width: 100%; height: 100%; overflow: auto; padding-bottom: 20px;\\\">\\r\\n  <div style=\\\"height: auto; white-space: nowrap; font-size: 12px;\\\">\\r\\n    <ul *ngIf=\\\"visibile && brani\\\">\\r\\n      <li *ngFor=\\\"let artista of brani; index as i;\\\">\\r\\n        <span style=\\\"cursor: pointer; margin-left: 5px;\\\" (click)=\\\"visibile[i][0] = !visibile[i][0]\\\">\\r\\n          <img *ngIf=\\\"!visibile[i][0]\\\" src=\\\"assets/immagini/menu.png\\\" width=\\\"20px\\\" height=\\\"20px\\\">\\r\\n          <img *ngIf=\\\"visibile[i][0]\\\" src=\\\"assets/immagini/menu_aperto.png\\\" width=\\\"20px\\\" height=\\\"20px\\\">\\r\\n          &nbsp;\\r\\n        </span>\\r\\n        <span [style.color]=\\\"visibile[i][0] === true ? '#80ff60' : 'white'\\\" \\r\\n          style=\\\"cursor: pointer;\\\"\\r\\n          title=\\\"{{ artista.text }}\\\"\\r\\n          [attr.id]=\\\"prendeNomeSistemato(artista.text)\\\">\\r\\n          <img *ngIf=\\\"Amministratore == 'S'\\\" src=\\\"assets/immagini/AggiornaConcorso.png\\\" title=\\\"Imposta Tags Artista\\\" style=\\\"cursor: pointer; width: 20px; height: 20px;\\\" (click)=\\\"impostaTagArtista(artista.text)\\\">\\r\\n          &nbsp;{{ artista.text }}\\r\\n        </span>\\r\\n        <ul>\\r\\n          <span *ngIf=\\\"visibile[i][0]\\\">\\r\\n            <li *ngFor=\\\"let album of artista.children; index as j;\\\">\\r\\n              <span *ngIf=\\\"mostraBrani\\\" style=\\\"cursor: pointer; margin-left: 15px;\\\" (click)=\\\"visibile[i][j + 1] = !visibile[i][j + 1]\\\">\\r\\n                <img *ngIf=\\\"!visibile[i][j + 1]\\\" src=\\\"assets/immagini/menu.png\\\" width=\\\"20px\\\" height=\\\"20px\\\">\\r\\n                <img *ngIf=\\\"visibile[i][j + 1]\\\" src=\\\"assets/immagini/menu_aperto.png\\\" width=\\\"20px\\\" height=\\\"20px\\\">\\r\\n                &nbsp;\\r\\n              </span>\\r\\n              <span *ngIf=\\\"mostraBrani\\\" \\r\\n                style=\\\"cursor: pointer;\\\"\\r\\n                title=\\\"{{ album.anno }} - {{ album.text }}\\\"\\r\\n                [style.color]=\\\"visibile[i][j + 1] === true ? '#80ff60' : 'white'\\\">\\r\\n                <!-- <img src=\\\"assets/immagini/AggiornaConcorso.png\\\" title=\\\"Imposta Tags Album\\\" style=\\\"cursor: pointer; width: 20px; height: 20px;\\\" (click)=\\\"impostaTagArtistaAlbum(artista.text, album.text)\\\">\\r\\n                &nbsp; -->\\r\\n                {{ album.anno }} - {{ album.text }}\\r\\n              </span>\\r\\n              <span *ngIf=\\\"!mostraBrani\\\" style=\\\"cursor: pointer; margin-left: 35px; font-size: 13px;\\\" \\r\\n                title=\\\"{{ album.anno }} - {{ album.text }}\\\"\\r\\n                [style.color]=\\\"visibile[i][j + 1] === true ? '#80ff60' : 'white'\\\" (click)=\\\"clickatoAlbum(i, j)\\\">\\r\\n                <!-- <img src=\\\"assets/immagini/AggiornaConcorso.png\\\" title=\\\"Imposta Tags Album\\\" style=\\\"cursor: pointer; width: 20px; height: 20px;\\\" (click)=\\\"impostaTagArtistaAlbum(artista.text, album.text)\\\">\\r\\n                &nbsp; -->\\r\\n                {{ album.Anno }} - {{ album.text }}\\r\\n              </span>\\r\\n              <ul *ngIf=\\\"mostraBrani\\\">\\r\\n                <span *ngIf=\\\"visibile[i][j + 1]\\\">\\r\\n                  <li *ngFor=\\\"let brano of album.children; index as k;\\\">\\r\\n                    <span style=\\\"cursor: pointer;\\\"\\r\\n                      [style.color]=\\\"brano.id === numeroBrano ? '#ffeb00' : brano.locale == true ? '#95fbf2' : 'white'\\\"\\r\\n                      [style.background-color]=\\\"brano.id === numeroBrano ? '#ddd' : 'transparent'\\\"\\r\\n                    >\\r\\n                      <div style=\\\"height: 25px; margin-left: 45px; overflow: hidden; width: calc(100% - 40px);\\\">\\r\\n                        <!-- <div [style.width]=\\\"brano.locale === false ? 'calc(100% - 105px)' : 'calc(100% - 125px)'\\\" -->\\r\\n                        <div (mouseover)=\\\"aprePopup($event, prendeTesto(brano, artista.text, album.anno + '-' + album.text))\\\" (mouseleave)=\\\"posY = -1000\\\"\\r\\n                          style=\\\"float: left; overflow: hidden; width: 100%;\\\">\\r\\n                          <!-- title=\\\"{{brano.traccia}}-{{brano.text}}\\\" -->\\r\\n                          <span (click)=\\\"numeroBrano = brano.id; suSSD = brano.locale; caricaBrano();\\\">\\r\\n                            {{brano.traccia}}-{{ brano.text }}\\r\\n                            &nbsp;<img *ngIf=\\\"deviceGirante == 'Android'\\\" src=\\\"assets/immagini/icona_info.png\\\" width=\\\"25px\\\" height=\\\"25px\\\" (click)=\\\"mostraInfos(brano, artista.text, album.anno + '-' + album.text)\\\">\\r\\n                          </span>\\r\\n                        </div>\\r\\n                        <!-- <div style=\\\"width: 20px; float: left; text-align: center;\\\">\\r\\n                          <img *ngIf=\\\"brano.locale === true\\\" src=\\\"assets/immagini/icona_SALVA.png\\\" title=\\\"Brano locale\\\" style=\\\"cursor: pointer; width: 20px; height: 20px;\\\">\\r\\n                        </div>\\r\\n                        <div style=\\\"width: 35px; float: left; text-align: center;\\\">\\r\\n                          <img *ngIf=\\\"brano.locale === false\\\" src=\\\"assets/immagini/preferito.png\\\" title=\\\"Bellezza\\\" style=\\\"cursor: pointer; width: 20px; height: 20px;\\\"><span *ngIf=\\\"brano.locale === false\\\">{{brano.stelle}}&nbsp;</span>\\r\\n                        </div>\\r\\n                        <div style=\\\"width: 35px; float: left; text-align: center;\\\">\\r\\n                          <img *ngIf=\\\"brano.locale === false\\\" src=\\\"assets/immagini/ascoltata.png\\\" title=\\\"Ascoltata\\\" style=\\\"cursor: pointer; width: 20px; height: 15px;\\\"><span *ngIf=\\\"brano.locale === false\\\">{{brano.ascoltata}}</span>\\r\\n                        </div>\\r\\n                        <div style=\\\"width: 35px; float: left; text-align: center;\\\">\\r\\n                          <img *ngIf=\\\"brano.locale === true\\\" title=\\\"Brano in locale\\\" src=\\\"assets/immagini/hd4.png\\\" style=\\\"cursor: pointer; width: 20px; height: 15px;\\\">\\r\\n                        </div>\\r\\n                        <div style=\\\"width: 35px; float: left; text-align: center;\\\">\\r\\n                          <img *ngIf=\\\"brano.tags != '-'\\\" src=\\\"assets/immagini/icona_info.png\\\" title=\\\"Tags\\\" style=\\\"cursor: pointer; width: 20px; height: 20px;\\\" (click)=\\\"mostraTag(brano)\\\">\\r\\n                          <span *ngIf=\\\"brano.tags == '-'\\\">&nbsp;</span>\\r\\n                        </div> -->\\r\\n                      </div>\\r\\n                      <div style=\\\"clear: both;\\\"></div>\\r\\n                    </span>\\r\\n                  </li>\\r\\n                </span>\\r\\n              </ul>\\r\\n            </li>\\r\\n          </span>\\r\\n        </ul>\\r\\n      </li>\\r\\n    </ul>\\r\\n  </div>\\r\\n</div>\\r\\n\\r\\n<div *ngIf=\\\"fMostraTag == true\\\" \\r\\n  style=\\\"box-shadow: rgb(0 0 0 / 75%) 0px 0px 24px 2px;\\r\\n    position: fixed;\\r\\n    width: auto;\\r\\n    max-width: 50%;\\r\\n    height: auto;\\r\\n    z-index: 9999;\\r\\n    left: 50%;\\r\\n    min-width: 150px;\\r\\n    transform: translateX(-50%);\\r\\n    top: 35%;\\r\\n    padding: 5px;\\r\\n    overflow: hidden;\\r\\n    background-color: white;\\r\\n    border-radius: 3px;\\r\\n    border: 1px solid #999;\\r\\n    text-align: left;\\\">\\r\\n  \\r\\n  <!-- <table style=\\\"margin-top: 25px; width: 100%;\\\" cellapdding=\\\"0px\\\" cellspacing=\\\"0px\\\">\\r\\n    <tr *ngFor=\\\"let tag of tagsBrano; index as j;\\\">\\r\\n      <td style=\\\"text-align: left;\\\">\\r\\n        {{tag.Tag}}\\r\\n      </td>\\r\\n    </tr>\\r\\n  </table> -->\\r\\n  <div style=\\\"width: 100%; padding-top: 20px;\\\"   \\r\\n    [innerHtml]=\\\"testoPopup\\\"\\r\\n    >\\r\\n  </div>\\r\\n\\r\\n  <div style=\\\"position: absolute; top: 0px; left: 0px; width: 100%;\\\">\\r\\n    <div style=\\\"width: calc(100% - 30px); float: left; font-weight: bold;\\\">\\r\\n      Tags Brano\\r\\n    </div>\\r\\n    <div style=\\\"width: 30px; float: left; text-align: right;\\\">\\r\\n      <img src=\\\"assets/immagini/elimina_quadrato.png\\\" style=\\\"cursor: pointer; width: 25px; height: 25px;\\\" (click)=\\\"fMostraTag = false\\\">\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\\r\\n<div *ngIf=\\\"fMostraTagArtista == true\\\" style=\\\"box-shadow: rgb(0 0 0 / 75%) 0px 0px 24px 2px;\\r\\n  position: fixed;\\r\\n  width: auto;\\r\\n  max-width: 50%;\\r\\n  height: auto;\\r\\n  min-width: 150px;\\r\\n  z-index: 9999;\\r\\n  left: 35%;\\r\\n  transform: translateX(-50%);\\r\\n  top: 35%;\\r\\n  padding: 5px;\\r\\n  overflow: hidden;\\r\\n  background-color: white;\\r\\n  border-radius: 3px;\\r\\n  border: 1px solid #999;\\r\\n  text-align: center;\\\">\\r\\n  \\r\\n  <table style=\\\"margin-top: 25px; width: 100%;\\\" cellapdding=\\\"0px\\\" cellspacing=\\\"0px\\\">\\r\\n    <tr *ngFor=\\\"let tag of tagsArtista; index as j;\\\">\\r\\n      <td>\\r\\n        <img *ngIf=\\\"Amministratore == 'S'\\\" title=\\\"Elimina tag\\\" src=\\\"assets/immagini/icona_ELIMINA-TAG.png\\\" (click)=\\\"eliminaTagArtista(tag.idTag)\\\" style=\\\"cursor: pointer; width: 25px; height: 25px;\\\">\\r\\n      </td>\\r\\n      <td style=\\\"text-align: left;\\\">\\r\\n        {{tag.Tag}}\\r\\n      </td>\\r\\n    </tr>\\r\\n    <tr style=\\\"text-align: left;\\\">\\r\\n      <td colspan=\\\"3\\\">\\r\\n        <img *ngIf=\\\"Amministratore == 'S'\\\" title=\\\"Aggiungi tag\\\" src=\\\"assets/immagini/icona_CERCA.png\\\" (click)=\\\"aggiungeTagArtista()\\\" style=\\\"cursor: pointer; width: 25px; height: 25px;\\\">\\r\\n        <img *ngIf=\\\"Amministratore == 'S'\\\" title=\\\"Refresh tag\\\" src=\\\"assets/immagini/icona_REFRESH.png\\\" (click)=\\\"refreshTagArtista()\\\" style=\\\"cursor: pointer; width: 25px; height: 25px;\\\">\\r\\n      </td>\\r\\n    </tr>\\r\\n  </table>\\r\\n\\r\\n  <div style=\\\"position: absolute; top: 0px; left: 0px; width: 100%;\\\">\\r\\n    <div style=\\\"width: calc(100% - 30px); float: left; font-weight: bold;\\\">\\r\\n      Tags Artista\\r\\n    </div>\\r\\n    <div style=\\\"width: 30px; float: left; text-align: right;\\\">\\r\\n      <img src=\\\"assets/immagini/elimina_quadrato.png\\\" style=\\\"cursor: pointer; width: 25px; height: 25px;\\\" (click)=\\\"fMostraTagArtista = false\\\">\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\\r\\n<!-- Finestra tags [handle]=\\\"handleTV\\\" -->\\r\\n<div *ngIf=\\\"mostraAggiungeTag == true\\\" \\r\\n  style=\\\"box-shadow: rgb(0 0 0 / 75%) 0px 0px 24px 2px;\\r\\n    position: fixed;\\r\\n    width: auto;\\r\\n    max-width: 50%;\\r\\n    height: auto;\\r\\n    z-index: 9999;\\r\\n    left: 60%;\\r\\n    transform: translateX(-50%);\\r\\n    transform: translateY(-50%);\\r\\n    max-height: 80%;\\r\\n    top: 50%;\\r\\n    padding: 5px;\\r\\n    overflow: hidden;\\r\\n    background-color: white;\\r\\n    border-radius: 3px;\\r\\n    border: 1px solid #999;\\r\\n    text-align: center;\\\">\\r\\n\\r\\n  <div style=\\\"width: 100%; max-height: 400px; overflow: auto; margin-top: 20px;\\\">\\r\\n    <table style=\\\"width: 100%;\\\" cellapdding=\\\"0px\\\" cellspacing=\\\"0px\\\">\\r\\n      <tr>\\r\\n        <th>\\r\\n        </th>\\r\\n        <th>\\r\\n        </th>\\r\\n        <th>\\r\\n          ID\\r\\n        </th>\\r\\n        <th>\\r\\n          Tag\\r\\n        </th>\\r\\n      </tr>\\r\\n      <tr *ngFor=\\\"let tag of listaTagsVisualizzati; index as j;\\\">\\r\\n        <td>\\r\\n          <img *ngIf=\\\"Amministratore == 'S'\\\" title=\\\"Seleziona tag\\\" src=\\\"assets/immagini/matitadx.png\\\" (click)=\\\"selezionaTag(tag.idTag, tag.Tag)\\\" style=\\\"cursor: pointer; width: 25px; height: 25px;\\\">\\r\\n        </td>\\r\\n        <td>\\r\\n          <img *ngIf=\\\"Amministratore == 'S'\\\" title=\\\"Elimina tag\\\" src=\\\"assets/immagini/icona_ELIMINA-TAG.png\\\" (click)=\\\"eliminaTagDaLista(tag.idTag)\\\" style=\\\"cursor: pointer; width: 25px; height: 25px;\\\">\\r\\n        </td>\\r\\n        <td>\\r\\n          {{tag.idTag}}\\r\\n        </td>\\r\\n        <td>\\r\\n          {{tag.Tag}}\\r\\n        </td>\\r\\n      </tr>\\r\\n      <tr *ngIf=\\\"Amministratore == 'S'\\\" >\\r\\n        <td colspan=\\\"4\\\"><hr /></td>\\r\\n      </tr>\\r\\n      <tr *ngIf=\\\"Amministratore == 'S'\\\" style=\\\"text-align: left;\\\">\\r\\n        <td colspan=\\\"1\\\">\\r\\n          <span style=\\\"font-weight: bold;\\\">Tag</span>\\r\\n        </td>\\r\\n        <td colspan=\\\"3\\\">\\r\\n          <input type=\\\"text\\\" [(ngModel)]=\\\"nuovoTag\\\" style=\\\"width: 100%; min-width: 250px;\\\">\\r\\n        </td>\\r\\n      </tr>\\r\\n      <tr *ngIf=\\\"Amministratore == 'S'\\\" style=\\\"text-align: left;\\\">\\r\\n        <td colspan=\\\"4\\\">\\r\\n          <img title=\\\"Aggiungi tag\\\" src=\\\"assets/immagini/icona_SALVA.png\\\" (click)=\\\"aggiungeTagALista()\\\" style=\\\"cursor: pointer; width: 25px; height: 25px;\\\">\\r\\n        </td>\\r\\n      </tr>\\r\\n    </table>\\r\\n  </div>\\r\\n\\r\\n  <div style=\\\"position: absolute; top: 0px; left: 0px; width: 100%;\\\">\\r\\n    <div style=\\\"width: calc(100% - 60px); float: left; font-weight: bold;\\\">\\r\\n      Lista Tags\\r\\n    </div>\\r\\n    <div style=\\\"width: 60px; float: left; text-align: right;\\\">\\r\\n      <!-- <img #handleTV src=\\\"assets/immagini/move_window_logo.png\\\" style=\\\"cursor: pointer; width: 25px; height: 25px;\\\" title=\\\"Sposta finestra\\\">\\r\\n      &nbsp; -->\\r\\n      <img src=\\\"assets/immagini/elimina_quadrato.png\\\" style=\\\"cursor: pointer; width: 25px; height: 25px;\\\" (click)=\\\"mostraAggiungeTag = false\\\">\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\\r\\n<!-- CARICAMENTO IN CORSO -->\\r\\n<div *ngIf=\\\"caricamentoInCorso == true\\\" \\r\\n  style=\\\"z-index: 1599; left: 0px; top: 0px; width: 100%; height: 100%; position: absolute; background-color: black; opacity: .65;\\\">\\r\\n</div>\\r\\n<div \\r\\n  *ngIf=\\\"caricamentoInCorso == true\\\"\\r\\n  style=\\\"\\r\\n    position: fixed;\\r\\n    left: calc(50% - 125px);\\r\\n    top: calc(50% - 175px);\\r\\n    width: 250px;\\r\\n    height: 350px;\\r\\n    z-index: 1500;\\r\\n  \\\"\\r\\n>\\r\\n  <img src=\\\"assets/immagini/wait2.gif\\\" style=\\\"width: 100%; height: 100%;\\\">\\r\\n</div>\\r\\n<!-- CARICAMENTO IN CORSO -->\\r\\n\\r\\n<div \\r\\n  style=\\\"position: fixed; width: auto; height: auto; padding: 5px; background-color: white; border-radius: 3px; border: 1px solid #999; z-index: 1600;\\\"\\r\\n  [style.left.px]=\\\"posX\\\"\\r\\n  [style.top.px]=\\\"posY\\\"\\r\\n  [innerHtml]=\\\"testoPopup\\\"\\r\\n>\\r\\n</div>\"","export default \"<div *ngIf=\\\"mascheraVisibile == true\\\" \\r\\n  style=\\\"z-index: 2000; left: 0px; top: 0px; width: 100%; height: 100%; position: absolute; background-color: black; opacity: .65;\\\">\\r\\n</div>\\r\\n\\r\\n<div *ngIf=\\\"mascheraVisibile\\\" \\r\\n    class=\\\"finestra\\\"\\r\\n>\\r\\n    <h5>Upload Brani</h5>\\r\\n    <hr />\\r\\n    <label for=\\\"file\\\">Scelta File</label>\\r\\n    <input type=\\\"file\\\"\\r\\n       id=\\\"file\\\"\\r\\n       multiple\\r\\n       (change)=\\\"appoggiaFiles($event.target.files)\\\">\\r\\n    <hr />\\r\\n\\r\\n    <div style=\\\"width: 100%;\\\">\\r\\n        <div style=\\\"width: 80%; float: left; text-align: left; \\\">\\r\\n            <input type=\\\"checkbox\\\" [checked]=\\\"effettuaRefreshBrani == true\\\" (click)=\\\"cambioRefreshBrani($event)\\\" /> &nbsp;\\r\\n            <span style=\\\"font-size: 15px; color: blue;\\\">Effettua refresh brani</span>\\r\\n        </div>\\r\\n        <div style=\\\"width: 20%; float: left; text-align: right;\\\">\\r\\n            <button mat-raised-button color=\\\"primary\\\" (click)=\\\"handleFileInput()\\\">Esegui</button>\\r\\n        </div>\\r\\n    </div>\\r\\n\\r\\n    <div style=\\\"position: absolute; top: 0px; right: 1px;\\\">\\r\\n        <img src=\\\"assets/immagini/elimina_quadrato.png\\\" style=\\\"cursor: pointer; width: 25px; height: 25px;\\\" (click)=\\\"mascheraVisibile = false; fChiusuraMaschera();\\\">\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n<div *ngIf=\\\"mascheraVisibile == true && attendiUpload == true\\\"\\r\\n    class=\\\"finestra\\\"\\r\\n    style=\\\"padding: 10px; width: 40%; height: auto; text-align: center; z-index: 2001; background-color: #fdf7b0;\\\"\\r\\n>\\r\\n    Attendere prego... <br />\\r\\n    Caricamento in corso...<hr />\\r\\n    Caricamento brano {{ qualeFile + 1 }}/{{ fileCount }}\\r\\n</div>\\r\\n\\r\\n<div *ngIf=\\\"mascheraVisibile == true && visuaLog == true\\\"\\r\\n    class=\\\"finestra\\\"\\r\\n    style=\\\"padding: 10px;\\r\\n        width: 80%;\\r\\n        height: 80%;\\r\\n        left: 10%;\\r\\n        top: 10%;\\r\\n        text-align: center;\\r\\n        z-index: 2002;\\r\\n        background-color: #fffeef;\\r\\n        white-space: pre;\\r\\n        text-align: left;\\r\\n        overflow: auto;\\\"\\r\\n    [innerHtml]=\\\"contenutoLog\\\"\\r\\n    >\\r\\n\\r\\n</div>\\r\\n\\r\\n<div *ngIf=\\\"mascheraVisibile == true && visuaLog == true\\\" style=\\\"position: absolute; top: 0px; right: 1px; z-index: 2001;\\\">\\r\\n    <img src=\\\"assets/immagini/elimina_quadrato.png\\\" style=\\\"cursor: pointer; width: 25px; height: 25px;\\\" (click)=\\\"chiudeLog()\\\">\\r\\n</div>\"","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __createBinding(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","import { trigger, style, animate, transition, state } from '@angular/animations';\r\n\r\nexport const fade = [\r\n  trigger('fade', [\r\n    state('in', style({ opacity: '1' })),\r\n    state('out', style({ opacity: '0' })),\r\n    transition('* <=> *', [\r\n      animate(500)\r\n    ])\r\n  ])\r\n];\r\n","export default \"mat-slider {\\n  width: 100%;\\n}\\n\\ninput[type=checkbox] {\\n  /* Double-sized Checkboxes */\\n  /* IE */\\n  /* FF */\\n  -webkit-transform: scale(1.5);\\n  /* Safari and Chrome */\\n  /* Opera */\\n  transform: scale(1.5);\\n  padding: 10px;\\n}\\n\\ntr {\\n  margin-top: 2px;\\n}\\n\\n.bottoncione {\\n  margin: 10px;\\n  width: 130px;\\n  height: 100px;\\n  border: 1px solid #999;\\n  background-color: #ccc;\\n  border-radius: 4px;\\n  float: left;\\n  text-align: center;\\n  cursor: pointer;\\n  box-shadow: 0px 0px 12px 3px rgba(0, 0, 0, 0.35);\\n}\\n\\n.bottoncione:hover {\\n  box-shadow: 0px 0px 2px 1px rgba(0, 0, 0, 0.35);\\n  border: 1px solid white;\\n}\\n\\n.iconaDentro {\\n  width: 130px;\\n  height: 70px;\\n}\\n\\n.barraDebug {\\n  position: absolute;\\n  background-color: gray;\\n  opacity: 0.65;\\n  top: 45px;\\n  width: calc(75% - 10px);\\n  border: 1px solid #999;\\n  border-radius: 3px;\\n  left: 5px;\\n  height: 27px;\\n  text-align: right;\\n  color: #ffee73;\\n  z-index: 1001;\\n}\\n\\n.downloadMask {\\n  position: absolute;\\n  top: 72px;\\n  left: 5px;\\n  width: auto;\\n  max-width: calc(100% - 10px);\\n  white-space: nowrap;\\n  height: 27px;\\n  background-color: burlywood;\\n  border: 1px solid #999;\\n  border-radius: 3px;\\n  padding: 2px;\\n  text-align: center;\\n  color: red;\\n  opacity: 0.75;\\n  z-index: 1003;\\n  white-space: nowrap;\\n  overflow: hidden;\\n}\\n\\n.successivoMask {\\n  position: absolute;\\n  top: 45px;\\n  left: 5px;\\n  width: auto;\\n  max-width: calc(100% - 10px);\\n  white-space: nowrap;\\n  height: 27px;\\n  background-color: #c8ffc5;\\n  border: 1px solid #999;\\n  border-radius: 3px;\\n  padding: 2px;\\n  text-align: center;\\n  color: #027b0b;\\n  opacity: 0.75;\\n  z-index: 1002;\\n  white-space: nowrap;\\n  overflow: hidden;\\n}\\n\\n/* width */\\n\\n::-webkit-scrollbar {\\n  width: 8px;\\n  height: 8px;\\n}\\n\\n/* Track */\\n\\n::-webkit-scrollbar-track {\\n  background: #f1f1f1;\\n}\\n\\n/* Handle */\\n\\n::-webkit-scrollbar-thumb {\\n  background: #888;\\n}\\n\\n/* Handle on hover */\\n\\n::-webkit-scrollbar-thumb:hover {\\n  background: #555;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvRDpcXFNvcmdlbnRpXFxBbmd1bGFyXFxsb29XZWJQbGF5ZXIvc3JjXFxhcHBcXGFwcC5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvYXBwLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsV0FBQTtBQ0NGOztBREVBO0VBRUUsNEJBQUE7RUFDMkIsT0FBQTtFQUNDLE9BQUE7RUFDNUIsNkJBQUE7RUFBK0Isc0JBQUE7RUFDTCxVQUFBO0VBQzFCLHFCQUFBO0VBQ0EsYUFBQTtBQ0lGOztBRERBO0VBQ0UsZUFBQTtBQ0lGOztBRERBO0VBQ0UsWUFBQTtFQUNBLFlBQUE7RUFDQSxhQUFBO0VBQ0Esc0JBQUE7RUFDQSxzQkFBQTtFQUNBLGtCQUFBO0VBQ0EsV0FBQTtFQUNBLGtCQUFBO0VBQ0EsZUFBQTtFQUdBLGdEQUFBO0FDSUY7O0FEREE7RUFHRSwrQ0FBQTtFQUNBLHVCQUFBO0FDSUY7O0FEREE7RUFDRSxZQUFBO0VBQ0EsWUFBQTtBQ0lGOztBRERBO0VBQ0Usa0JBQUE7RUFDQSxzQkFBQTtFQUNBLGFBQUE7RUFDQSxTQUFBO0VBQ0EsdUJBQUE7RUFDQSxzQkFBQTtFQUNBLGtCQUFBO0VBQ0EsU0FBQTtFQUNBLFlBQUE7RUFDQSxpQkFBQTtFQUNBLGNBQUE7RUFDQSxhQUFBO0FDSUY7O0FEREE7RUFDRSxrQkFBQTtFQUNBLFNBQUE7RUFDQSxTQUFBO0VBQ0EsV0FBQTtFQUNBLDRCQUFBO0VBQ0EsbUJBQUE7RUFDQSxZQUFBO0VBQ0EsMkJBQUE7RUFDQSxzQkFBQTtFQUNBLGtCQUFBO0VBQ0EsWUFBQTtFQUNBLGtCQUFBO0VBQ0EsVUFBQTtFQUNBLGFBQUE7RUFDQSxhQUFBO0VBQ0EsbUJBQUE7RUFDQSxnQkFBQTtBQ0lGOztBRERBO0VBQ0Usa0JBQUE7RUFDQSxTQUFBO0VBQ0EsU0FBQTtFQUNBLFdBQUE7RUFDQSw0QkFBQTtFQUNBLG1CQUFBO0VBQ0EsWUFBQTtFQUNBLHlCQUFBO0VBQ0Esc0JBQUE7RUFDQSxrQkFBQTtFQUNBLFlBQUE7RUFDQSxrQkFBQTtFQUNBLGNBQUE7RUFDQSxhQUFBO0VBQ0EsYUFBQTtFQUNBLG1CQUFBO0VBQ0EsZ0JBQUE7QUNJRjs7QURBQSxVQUFBOztBQUNBO0VBQ0UsVUFBQTtFQUNBLFdBQUE7QUNHRjs7QURBQSxVQUFBOztBQUNBO0VBQ0UsbUJBQUE7QUNHRjs7QURBQSxXQUFBOztBQUNBO0VBQ0UsZ0JBQUE7QUNHRjs7QURBQSxvQkFBQTs7QUFDQTtFQUNFLGdCQUFBO0FDR0YiLCJmaWxlIjoic3JjL2FwcC9hcHAuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJtYXQtc2xpZGVyIHtcclxuICB3aWR0aDogMTAwJTtcclxufVxyXG5cclxuaW5wdXRbdHlwZT1jaGVja2JveF1cclxue1xyXG4gIC8qIERvdWJsZS1zaXplZCBDaGVja2JveGVzICovXHJcbiAgLW1zLXRyYW5zZm9ybTogc2NhbGUoMS41KTsgLyogSUUgKi9cclxuICAtbW96LXRyYW5zZm9ybTogc2NhbGUoMS41KTsgLyogRkYgKi9cclxuICAtd2Via2l0LXRyYW5zZm9ybTogc2NhbGUoMS41KTsgLyogU2FmYXJpIGFuZCBDaHJvbWUgKi9cclxuICAtby10cmFuc2Zvcm06IHNjYWxlKDEuNSk7IC8qIE9wZXJhICovXHJcbiAgdHJhbnNmb3JtOiBzY2FsZSgxLjUpO1xyXG4gIHBhZGRpbmc6IDEwcHg7XHJcbn1cclxuXHJcbnRyIHtcclxuICBtYXJnaW4tdG9wOiAycHg7XHJcbn1cclxuXHJcbi5ib3R0b25jaW9uZSB7XHJcbiAgbWFyZ2luOiAxMHB4O1xyXG4gIHdpZHRoOiAxMzBweDsgXHJcbiAgaGVpZ2h0OiAxMDBweDsgXHJcbiAgYm9yZGVyOiAxcHggc29saWQgIzk5OTsgXHJcbiAgYmFja2dyb3VuZC1jb2xvcjogI2NjYzsgXHJcbiAgYm9yZGVyLXJhZGl1czogNHB4O1xyXG4gIGZsb2F0OiBsZWZ0O1xyXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICBjdXJzb3I6IHBvaW50ZXI7IFxyXG4gIC13ZWJraXQtYm94LXNoYWRvdzogMHB4IDBweCAxMnB4IDNweCByZ2JhKDAsMCwwLDAuMzUpO1xyXG4gIC1tb3otYm94LXNoYWRvdzogMHB4IDBweCAxMnB4IDNweCByZ2JhKDAsMCwwLDAuMzUpO1xyXG4gIGJveC1zaGFkb3c6IDBweCAwcHggMTJweCAzcHggcmdiYSgwLDAsMCwwLjM1KTtcclxufVxyXG5cclxuLmJvdHRvbmNpb25lOmhvdmVyIHtcclxuICAtd2Via2l0LWJveC1zaGFkb3c6IDBweCAwcHggMnB4IDFweCByZ2JhKDAsMCwwLDAuMzUpO1xyXG4gIC1tb3otYm94LXNoYWRvdzogMHB4IDBweCAycHggMXB4IHJnYmEoMCwwLDAsMC4zNSk7XHJcbiAgYm94LXNoYWRvdzogMHB4IDBweCAycHggMXB4IHJnYmEoMCwwLDAsMC4zNSk7XHJcbiAgYm9yZGVyOiAxcHggc29saWQgd2hpdGU7IFxyXG59XHJcblxyXG4uaWNvbmFEZW50cm8ge1xyXG4gIHdpZHRoOiAxMzBweDtcclxuICBoZWlnaHQ6IDcwcHg7XHJcbn1cclxuXHJcbi5iYXJyYURlYnVnIHtcclxuICBwb3NpdGlvbjogYWJzb2x1dGU7IFxyXG4gIGJhY2tncm91bmQtY29sb3I6IGdyYXk7XHJcbiAgb3BhY2l0eTogLjY1O1xyXG4gIHRvcDogNDVweDsgXHJcbiAgd2lkdGg6IGNhbGMoNzUlIC0gMTBweCk7IFxyXG4gIGJvcmRlcjogMXB4IHNvbGlkICM5OTk7XHJcbiAgYm9yZGVyLXJhZGl1czogM3B4OyBcclxuICBsZWZ0OiA1cHg7IFxyXG4gIGhlaWdodDogMjdweDsgXHJcbiAgdGV4dC1hbGlnbjogcmlnaHQ7IFxyXG4gIGNvbG9yOiAjZmZlZTczOzsgXHJcbiAgei1pbmRleDogMTAwMTtcclxufVxyXG5cclxuLmRvd25sb2FkTWFzayB7XHJcbiAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gIHRvcDogNzJweDtcclxuICBsZWZ0OiA1cHg7XHJcbiAgd2lkdGg6IGF1dG87XHJcbiAgbWF4LXdpZHRoOiBjYWxjKDEwMCUgLSAxMHB4KTtcclxuICB3aGl0ZS1zcGFjZTogbm93cmFwO1xyXG4gIGhlaWdodDogMjdweDtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiBidXJseXdvb2Q7IFxyXG4gIGJvcmRlcjogMXB4IHNvbGlkICM5OTk7XHJcbiAgYm9yZGVyLXJhZGl1czogM3B4OyBcclxuICBwYWRkaW5nOiAycHg7XHJcbiAgdGV4dC1hbGlnbjogY2VudGVyOyBcclxuICBjb2xvcjogcmVkO1xyXG4gIG9wYWNpdHk6IC43NTtcclxuICB6LWluZGV4OiAxMDAzO1xyXG4gIHdoaXRlLXNwYWNlOiBub3dyYXA7XHJcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcclxufVxyXG5cclxuLnN1Y2Nlc3Npdm9NYXNrIHtcclxuICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgdG9wOiA0NXB4O1xyXG4gIGxlZnQ6IDVweDtcclxuICB3aWR0aDogYXV0bzsgXHJcbiAgbWF4LXdpZHRoOiBjYWxjKDEwMCUgLSAxMHB4KTtcclxuICB3aGl0ZS1zcGFjZTogbm93cmFwO1xyXG4gIGhlaWdodDogMjdweDtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjYzhmZmM1OyBcclxuICBib3JkZXI6IDFweCBzb2xpZCAjOTk5OyBcclxuICBib3JkZXItcmFkaXVzOiAzcHg7IFxyXG4gIHBhZGRpbmc6IDJweDtcclxuICB0ZXh0LWFsaWduOiBjZW50ZXI7IFxyXG4gIGNvbG9yOiAjMDI3YjBiOztcclxuICBvcGFjaXR5OiAuNzU7XHJcbiAgei1pbmRleDogMTAwMjtcclxuICB3aGl0ZS1zcGFjZTogbm93cmFwO1xyXG4gIG92ZXJmbG93OiBoaWRkZW47XHJcbn1cclxuXHJcblxyXG4vKiB3aWR0aCAqL1xyXG46Oi13ZWJraXQtc2Nyb2xsYmFyIHtcclxuICB3aWR0aDogOHB4O1xyXG4gIGhlaWdodDogOHB4O1xyXG59XHJcblxyXG4vKiBUcmFjayAqL1xyXG46Oi13ZWJraXQtc2Nyb2xsYmFyLXRyYWNrIHtcclxuICBiYWNrZ3JvdW5kOiAjZjFmMWYxOyBcclxufVxyXG4gXHJcbi8qIEhhbmRsZSAqL1xyXG46Oi13ZWJraXQtc2Nyb2xsYmFyLXRodW1iIHtcclxuICBiYWNrZ3JvdW5kOiAjODg4OyBcclxufVxyXG5cclxuLyogSGFuZGxlIG9uIGhvdmVyICovXHJcbjo6LXdlYmtpdC1zY3JvbGxiYXItdGh1bWI6aG92ZXIge1xyXG4gIGJhY2tncm91bmQ6ICM1NTU7IFxyXG59IiwibWF0LXNsaWRlciB7XG4gIHdpZHRoOiAxMDAlO1xufVxuXG5pbnB1dFt0eXBlPWNoZWNrYm94XSB7XG4gIC8qIERvdWJsZS1zaXplZCBDaGVja2JveGVzICovXG4gIC1tcy10cmFuc2Zvcm06IHNjYWxlKDEuNSk7XG4gIC8qIElFICovXG4gIC1tb3otdHJhbnNmb3JtOiBzY2FsZSgxLjUpO1xuICAvKiBGRiAqL1xuICAtd2Via2l0LXRyYW5zZm9ybTogc2NhbGUoMS41KTtcbiAgLyogU2FmYXJpIGFuZCBDaHJvbWUgKi9cbiAgLW8tdHJhbnNmb3JtOiBzY2FsZSgxLjUpO1xuICAvKiBPcGVyYSAqL1xuICB0cmFuc2Zvcm06IHNjYWxlKDEuNSk7XG4gIHBhZGRpbmc6IDEwcHg7XG59XG5cbnRyIHtcbiAgbWFyZ2luLXRvcDogMnB4O1xufVxuXG4uYm90dG9uY2lvbmUge1xuICBtYXJnaW46IDEwcHg7XG4gIHdpZHRoOiAxMzBweDtcbiAgaGVpZ2h0OiAxMDBweDtcbiAgYm9yZGVyOiAxcHggc29saWQgIzk5OTtcbiAgYmFja2dyb3VuZC1jb2xvcjogI2NjYztcbiAgYm9yZGVyLXJhZGl1czogNHB4O1xuICBmbG9hdDogbGVmdDtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICBjdXJzb3I6IHBvaW50ZXI7XG4gIC13ZWJraXQtYm94LXNoYWRvdzogMHB4IDBweCAxMnB4IDNweCByZ2JhKDAsIDAsIDAsIDAuMzUpO1xuICAtbW96LWJveC1zaGFkb3c6IDBweCAwcHggMTJweCAzcHggcmdiYSgwLCAwLCAwLCAwLjM1KTtcbiAgYm94LXNoYWRvdzogMHB4IDBweCAxMnB4IDNweCByZ2JhKDAsIDAsIDAsIDAuMzUpO1xufVxuXG4uYm90dG9uY2lvbmU6aG92ZXIge1xuICAtd2Via2l0LWJveC1zaGFkb3c6IDBweCAwcHggMnB4IDFweCByZ2JhKDAsIDAsIDAsIDAuMzUpO1xuICAtbW96LWJveC1zaGFkb3c6IDBweCAwcHggMnB4IDFweCByZ2JhKDAsIDAsIDAsIDAuMzUpO1xuICBib3gtc2hhZG93OiAwcHggMHB4IDJweCAxcHggcmdiYSgwLCAwLCAwLCAwLjM1KTtcbiAgYm9yZGVyOiAxcHggc29saWQgd2hpdGU7XG59XG5cbi5pY29uYURlbnRybyB7XG4gIHdpZHRoOiAxMzBweDtcbiAgaGVpZ2h0OiA3MHB4O1xufVxuXG4uYmFycmFEZWJ1ZyB7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgYmFja2dyb3VuZC1jb2xvcjogZ3JheTtcbiAgb3BhY2l0eTogMC42NTtcbiAgdG9wOiA0NXB4O1xuICB3aWR0aDogY2FsYyg3NSUgLSAxMHB4KTtcbiAgYm9yZGVyOiAxcHggc29saWQgIzk5OTtcbiAgYm9yZGVyLXJhZGl1czogM3B4O1xuICBsZWZ0OiA1cHg7XG4gIGhlaWdodDogMjdweDtcbiAgdGV4dC1hbGlnbjogcmlnaHQ7XG4gIGNvbG9yOiAjZmZlZTczO1xuICB6LWluZGV4OiAxMDAxO1xufVxuXG4uZG93bmxvYWRNYXNrIHtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICB0b3A6IDcycHg7XG4gIGxlZnQ6IDVweDtcbiAgd2lkdGg6IGF1dG87XG4gIG1heC13aWR0aDogY2FsYygxMDAlIC0gMTBweCk7XG4gIHdoaXRlLXNwYWNlOiBub3dyYXA7XG4gIGhlaWdodDogMjdweDtcbiAgYmFja2dyb3VuZC1jb2xvcjogYnVybHl3b29kO1xuICBib3JkZXI6IDFweCBzb2xpZCAjOTk5O1xuICBib3JkZXItcmFkaXVzOiAzcHg7XG4gIHBhZGRpbmc6IDJweDtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICBjb2xvcjogcmVkO1xuICBvcGFjaXR5OiAwLjc1O1xuICB6LWluZGV4OiAxMDAzO1xuICB3aGl0ZS1zcGFjZTogbm93cmFwO1xuICBvdmVyZmxvdzogaGlkZGVuO1xufVxuXG4uc3VjY2Vzc2l2b01hc2sge1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHRvcDogNDVweDtcbiAgbGVmdDogNXB4O1xuICB3aWR0aDogYXV0bztcbiAgbWF4LXdpZHRoOiBjYWxjKDEwMCUgLSAxMHB4KTtcbiAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcbiAgaGVpZ2h0OiAyN3B4O1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjYzhmZmM1O1xuICBib3JkZXI6IDFweCBzb2xpZCAjOTk5O1xuICBib3JkZXItcmFkaXVzOiAzcHg7XG4gIHBhZGRpbmc6IDJweDtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICBjb2xvcjogIzAyN2IwYjtcbiAgb3BhY2l0eTogMC43NTtcbiAgei1pbmRleDogMTAwMjtcbiAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcbn1cblxuLyogd2lkdGggKi9cbjo6LXdlYmtpdC1zY3JvbGxiYXIge1xuICB3aWR0aDogOHB4O1xuICBoZWlnaHQ6IDhweDtcbn1cblxuLyogVHJhY2sgKi9cbjo6LXdlYmtpdC1zY3JvbGxiYXItdHJhY2sge1xuICBiYWNrZ3JvdW5kOiAjZjFmMWYxO1xufVxuXG4vKiBIYW5kbGUgKi9cbjo6LXdlYmtpdC1zY3JvbGxiYXItdGh1bWIge1xuICBiYWNrZ3JvdW5kOiAjODg4O1xufVxuXG4vKiBIYW5kbGUgb24gaG92ZXIgKi9cbjo6LXdlYmtpdC1zY3JvbGxiYXItdGh1bWI6aG92ZXIge1xuICBiYWNrZ3JvdW5kOiAjNTU1O1xufSJdfQ== */\"","\r\nimport { AfterViewInit, Component, ElementRef, ErrorHandler, Inject, NgZone, OnInit, SecurityContext, SystemJsNgModuleLoader, ViewChild } from '@angular/core';\r\nimport 'rxjs/add/operator/map';\r\nimport { MatSliderChange } from '@angular/material/slider';\r\nimport { TreeviewItem } from 'ngx-treeview';\r\nimport { HttpService } from './services/httpclient.service';\r\nimport { DomSanitizer, ɵELEMENT_PROBE_PROVIDERS__POST_R3__ } from '@angular/platform-browser';\r\nimport { fade } from './animations';\r\nimport { DatePipe, DOCUMENT } from '@angular/common';\r\nimport { saveAs } from 'file-saver';\r\nimport { timeStamp } from 'console';\r\nimport { ConnectionService } from 'ng-connection-service';\r\nimport { ThrowStmt } from '@angular/compiler';\r\nimport { CaricaBranoComponent } from './varie/caricabrano.component';\r\nimport { ComponentFile } from './varie/files';\r\nimport { YouTubeComponent } from './varie/youtube.component';\r\nimport { UtilityComponent } from './varie/utility.component';\r\nimport { HappiComponent } from './varie/happi-dev.component';\r\nimport { CaricaBranoAutomaticoComponent } from './varie/caricabranoautomatico.component';\r\nimport { THIS_EXPR } from '@angular/compiler/src/output/output_ast';\r\nimport { HttpHeaders } from '@angular/common/http';\r\nimport { VoiceRecognitionService } from './services/speech.service';\r\nimport { StorageComponent } from './varie/storage.component';\r\nimport { SpeechRecognitionListeningOptions, SpeechRecognition } from '@ionic-native/speech-recognition/ngx';\r\nimport { SplashScreen } from '@ionic-native/splash-screen/ngx';\r\nimport { Alert } from 'selenium-webdriver';\r\n// import { DeviceDetectorService } from 'ngx-device-detector';\r\n// import { timer } from 'rxjs/observable/timer'\r\nimport { Observable } from 'rxjs/observable'\r\n// import * as workerTimers from 'worker-timers';\r\nimport { ClasseTimer } from './varie/classetimer.component';\r\nimport { CheckReteComponent } from './varie/checkrete';\r\nimport { GestioneAndroidComponent } from './varie/gestione_android.component';\r\nimport { MediaObject } from '@awesome-cordova-plugins/media/ngx';\r\nimport { ApiService } from './services/api2.service';\r\n// import { BackgroundMode } from '@awesome-cordova-plugins/background-mode/ngx';\r\n\r\n@Component({\r\n  selector: 'app-root',\r\n  templateUrl: './app.component.html',\r\n  styleUrls: ['./app.component.scss'],\r\n  animations: fade,\r\n  providers: [VoiceRecognitionService]\r\n})\r\n\r\nexport class AppComponent implements OnInit, AfterViewInit {\r\n  @ViewChild(\"videoPlayer\", { static: false }) videoplayer;\r\n  @ViewChild('videoPlayerLocale', { static: false }) videoplayerLocale: ElementRef;\r\n  @ViewChild(\"divImmagine1\", { static: false }) divImmagine1;\r\n  @ViewChild(\"divImmagine2\", { static: false }) divImmagine2;\r\n  @ViewChild('scrollMe') private myScrollContainer: ElementRef;\r\n\r\n  testoScrollabile = ['', ''];\r\n  scrollTimer = [null, null];\r\n  posizioneCarattere = [0, 0];\r\n  lunghezzaCampo = [0, 0];\r\n\r\n  debug = false;\r\n  moadalitaLite = true;\r\n  debuggone = '';\r\n  debuggone2 = '';\r\n  filtroImpostatoDebug = '';\r\n  ultimaVoltaLettoBrani = -1;\r\n  braniSD = '';\r\n  visuaTagBrano = false;\r\n  mascheraUploadVisibile = false;\r\n  esclusioni = '';\r\n  visuaTasti = true;\r\n  Utenti;\r\n  mostraSceltaUtenti = false;\r\n  passwordBox = false;\r\n  utenteScelto;\r\n  pwd = '';\r\n  numeroBranoAttuale = -1;\r\n  \r\n  zIndex = [ 1000, 1001, 1002, 1003, 1004, 1005, 1006, 1007, 1008, 1009, 1010, 1011 ];\r\n  nomiDiv = [ '', 'divDebug', 'divFiltroBrani', 'divListaBrani', \r\n            'divInfoArtista', 'divMenu', 'divOpzioni',\r\n            'divUtility', 'divGestioneBrani', 'divUguali', 'divTesto',\r\n            'divBarraTasti' ];\r\n  lastClickZIndex = -1;\r\n\r\n  filtroStandard = [ 'MP3MICA', 'MP3ANGEL', 'CARTON' ];\r\n\r\n  caricamentoInCorso = false;\r\n  letturaSD = false;\r\n  cartellaEsaminata = '';\r\n\r\n  menuMostrato = false;\r\n  mascheraFiltroBrani = false;\r\n  mascheraBrani = false;\r\n  mascheraOpzioni = false;\r\n  mascheraArtisti = false;\r\n  mascheraTesto = false;\r\n  mascheraAbout = false;\r\n\r\n  caricamentoInCorsoIA = false;\r\n  pannelloUtility = false;\r\n  vecchioMilli = 0;\r\n  // tutteLeCanzoni = true;\r\n  canzoniMamma = false;\r\n  eliminaMamma = false;\r\n  consideraStelle = false;\r\n  numeroStelle = 5;\r\n  letteraItem;\r\n  filtroImpostato = '';\r\n  title = 'looWebPlayer';\r\n  immagineSfondo = '';\r\n  immagineBrano;\r\n  titoloBrano = '';\r\n  titoloBranoPerTesto = '';\r\n  estensioneBrano = '';\r\n  artista = '';\r\n  anno;\r\n  traccia;\r\n  dataBrano;\r\n  dimensione;\r\n  album = '';\r\n  random = 'S';\r\n  // visuaTesto = 'S';\r\n  staSuonando = false;\r\n  pathBrano = '';\r\n  audio = new Audio();\r\n  audioAndroid: MediaObject;\r\n  tipo = '';\r\n  // interval;\r\n  intervalSalvataggio;\r\n  intervalDurata;\r\n  inizioImmagini = -1;\r\n  quanteImmagini;\r\n  opacita = .95;\r\n  youTubeVideos;\r\n  // bellezzeJSON;\r\n  immaginiArtista;\r\n  quantiBraniFiltrati = 0;\r\n  quantiBraniTutti = 0;\r\n  tuttiIBrani;\r\n  brani = '';\r\n  volteAscoltatoBrano = 0;\r\n  immaginiCambiate = 0;\r\n  mascheraGestioneBrani = false;\r\n  mascheraGestioneUguali = false;\r\n  albumSelezionato;\r\n  uguali;\r\n  ugualiDettaglio;\r\n  ugualiSelezionato;\r\n  staAspettandoCaricamento = false;\r\n  impostatoBranoFinito = false;\r\n  checkRicaricaBraniLocali = false;\r\n  staLeggendoBrano = false;\r\n\r\n  intervalImmagine;\r\n  opacitaImmagine1 = .75;\r\n  opacitaImmagine2 = 1;\r\n  sfuma = true;\r\n  cicla = true;\r\n  finitoAttesa = false;\r\n  erroreImmagine = false;\r\n\r\n  scritte;\r\n  qualeScritta = 0;\r\n  intervalScritte;\r\n  contaTimerScritte = 0;\r\n  canzoniLocali = false;\r\n\r\n  state = 'in';\r\n  counter = 0;\r\n  enableAnimation = false;\r\n  appoSfondo = '';\r\n\r\n  numeroBrano = -1;\r\n  quantiBrani = -1;\r\n  immagini;\r\n  ascoltati = new Array();\r\n  ascoltate = 0;\r\n  ascoltata = 0;\r\n  durata = 1;\r\n  posizioneBrano = 0;\r\n  contaTimer = 0;\r\n  contaTimerSalvataggio = 0;\r\n  contaTimerOpacity = 0;\r\n  utenza = '';\r\n  idUtenza = -1;\r\n  Amministratore = '';\r\n  braniFiltrati;\r\n  //ultimoFiltroArray;\r\n  nonSalvareFiltro = true;\r\n  datiJSON;\r\n  // datiJSONAccorpati;\r\n  bellezza = ['', '', '', '', '', '', '', ''];\r\n  linguaggio = 'OR';\r\n  linguaggioIcona = '';\r\n\r\n  volteAscoltata;\r\n  testo;\r\n  testoTradotto;\r\n\r\n  tempoPassato = '';\r\n  tempoTotale = '';\r\n  tempoTotaleBrano = -1;\r\n  scaricatoAutomaticamente = false;\r\n  vecchioConsideraStelle = undefined;\r\n\r\n  urlsArtista;\r\n  dischiArtista;\r\n  membriArtista;\r\n\r\n  configTV = {\r\n    hasAllCheckBox: false,\r\n    hasFilter: false,\r\n    hasCollapseExpand: true,\r\n    decoupleChildFromParent: false,\r\n    maxHeight: 500\r\n  };\r\n  itemsCanzoni;\r\n  itemsCanzoniFiltrate;\r\n\r\n  modalitaYouTube = 'N';\r\n  videoSource = '';\r\n  urlWS = '';\r\n  urlMP3 = '';\r\n  urlImmagine = '';\r\n\r\n  staCaricandoVideo = false;\r\n  numeroVideo = -1;\r\n\r\n  elem;\r\n  bTuttoSchermo = false;\r\n\r\n  bRicercaBrano = false;\r\n  testoRicerca = '';\r\n  listaFiltrata;\r\n  hover;\r\n\r\n  // operazioneInCorso = '';\r\n\r\n  timerInterval1;\r\n  timerInterval2;\r\n\r\n  videoNONCaricato;\r\n\r\n  messaggioVisualizzato = false;\r\n  messaggio;\r\n  timerMessaggio;\r\n  coloreSfondoMessaggio;\r\n  maiVotate = false;\r\n  \r\n  deviceGirante = '';\r\n  fFiles = ComponentFile;\r\n  imms;\r\n  isConnected = true;  \r\n  noInternetConnection: boolean;\r\n  caricatoProssimoBrano = -1;\r\n  titoloBranoAutomatico = '';\r\n\r\n  limitaBrani = false;\r\n  numeroLimiteBrani = 100;\r\n\r\n  branoPresenteSuSD = false;\r\n  // haEseguitoGiaIlCostruttore = false;\r\n  pathBranoProssimo = '';\r\n  cuffieAttive = false;\r\n  lastCanzoniLocali = undefined;\r\n  lastIsConnected = undefined;\r\n  lastConsideraStelle = undefined;\r\n  lastMaiVotate = undefined;\r\n\r\n  public tt = this;\r\n  lastDown = 0;\r\n  lastUp = 0;\r\n  speechDisponibile = undefined;\r\n  comandiVocaliAttivi = false;\r\n  comandoVocale = '';\r\n\r\n  // os;\r\n  // isMobile;\r\n  // isTablet;\r\n  // isDesktopDevice;\r\n  pathApp;\r\n  ceCordova;\r\n  // userAgent;\r\n  // browser;\r\n  // device;\r\n  // osVers;\r\n\r\n  classeTimer;\r\n\r\n  mostraAggiungeTag = false;\r\n  tagsBrano;\r\n  listaTags;\r\n  listaTagsVisualizzati;\r\n  nuovoTag = '';\r\n  tagsRicerca;\r\n\r\n  urlPerUpload;\r\n\r\n  // public tt = this;\r\n  // cuffie = new CuffieComponent();\r\n\r\n  constructor(\r\n    private http: HttpService,\r\n    // private backgroundMode: BackgroundMode,\r\n    // private files: ComponentFile,\r\n    private datePipe: DatePipe,\r\n    private sanitizer: DomSanitizer,\r\n    private apiService: ApiService,\r\n    public ytComponent: YouTubeComponent,\r\n    public utility: UtilityComponent,\r\n    private connectionService: ConnectionService,\r\n    private Happi: HappiComponent,\r\n    public caricaBrano: CaricaBranoComponent,\r\n    private caricaBranoAutomatico: CaricaBranoAutomaticoComponent,\r\n    @Inject(DOCUMENT) private document: any,\r\n    public speechService : VoiceRecognitionService,\r\n    private file: ComponentFile,\r\n    public storage: StorageComponent,\r\n    private speechRecognition: SpeechRecognition,\r\n    private splashScreen: SplashScreen,\r\n    // private deviceService: DeviceDetectorService,\r\n    private checkRete: CheckReteComponent,\r\n    public gestAndroid: GestioneAndroidComponent,\r\n  ) {    \r\n    this.splashScreen.show();\r\n    \r\n    document.addEventListener(\"backbutton\", onBackKeyDown, false);\r\n    function onBackKeyDown() {\r\n      if (confirm('Chiudo il player ?')) {\r\n        navigator['app'].exitApp();\r\n      }\r\n    }\r\n  }\r\n\r\n  prendeLivelloSegnale() {\r\n  }\r\n\r\n  azionaVoce(disponibile) {\r\n    return;\r\n\r\n    if (this.comandiVocaliAttivi === false) {\r\n      return;\r\n    }\r\n\r\n    const options: SpeechRecognitionListeningOptions = {\r\n      language: 'it-IT',\r\n      matches: 9999,\r\n      showPopup: false,\r\n      showPartial: true\r\n    };\r\n    let lastDetto = '';\r\n\r\n    if (disponibile) {\r\n      this.utility.scriveDebug(this, 'Speech recognition attivato');\r\n\r\n      this.speechRecognition.startListening(options)\r\n      .subscribe(\r\n        (matches: Array<string>) => {\r\n          // this._ngZone.run(() => {\r\n            this.utility.scriveDebug(this, 'Speech recognition lunghezza match: ' + matches.length);\r\n            matches.forEach(element => {\r\n              this.utility.scriveDebug(this, 'Speech recognition elementi: ' + element);\r\n            });\r\n\r\n            const detto = (matches.length > 0) ? matches[matches.length - 1] : \"\";\r\n            if (detto && detto !== '' && detto !== lastDetto) {\r\n              lastDetto = detto;\r\n\r\n              this.comandoVocale = detto;\r\n              // alert(detto);\r\n  \r\n              this.utility.parsaTesto(this, detto);\r\n            }\r\n          // });\r\n        },\r\n        (onerror) => {\r\n          this.utility.scriveDebug(this, 'Speech recognition error: ' + onerror);\r\n\r\n          setTimeout(() => {\r\n            this.azionaVoce(this.speechDisponibile);\r\n          }, 100);\r\n        }\r\n      )\r\n    } else {\r\n      alert('Speech recognition non disponibile');\r\n    }\r\n  }\r\n\r\n  attivaMonitorConnessione() {\r\n    this.utility.scriveDebug(this, 'Controllo Connessione internet');\r\n    this.apiService.impostaConnesso(true);\r\n    this.connectionService.monitor().subscribe(isConnected => {\r\n      this.isConnected = isConnected;\r\n      this.apiService.impostaConnesso(isConnected);\r\n      this.utility.scriveDebug(this, 'Connessione internet:' + isConnected);\r\n      /* if (this.deviceGirante === 'Android') {\r\n        if (isConnected === false) {\r\n          this.utility.scriveDebug(this, 'Connessione internet mancante. Attivo brani locali');\r\n          this.lastCanzoniLocali = this.canzoniLocali;\r\n          this.lastConsideraStelle = this.consideraStelle;\r\n          this.lastMaiVotate = this.maiVotate;          \r\n          this.lastIsConnected = isConnected;\r\n\r\n          this.canzoniLocali = true;\r\n          this.consideraStelle = false;\r\n          this.maiVotate = false;\r\n          this.utility.filtraBrani(this);\r\n        } else {\r\n          if (this.canzoniLocali === undefined) {\r\n            this.utility.scriveDebug(this, 'Connessione internet attiva.');\r\n            this.canzoniLocali =  localStorage.getItem('CanzoniLocali') === 'S' ? true : false;\r\n            this.consideraStelle =  localStorage.getItem('ConsideraStelle') === 'S' ? true : false;\r\n            this.maiVotate =  localStorage.getItem('maiVotate') === 'S' ? true : false;\r\n      \r\n            this.utility.filtraBrani(this);\r\n          } else {\r\n            if (this.lastIsConnected !== undefined) {\r\n              this.lastIsConnected = undefined;\r\n              this.utility.scriveDebug(this, 'Connessione internet attiva. Imposto ultimo canzoni locali');\r\n              this.canzoniLocali = this.lastCanzoniLocali;\r\n              this.consideraStelle = this.lastConsideraStelle;\r\n              this.maiVotate = this.lastMaiVotate;    \r\n              this.utility.filtraBrani(this);\r\n            }\r\n          }\r\n        }\r\n      } */\r\n      if (this.isConnected) {  \r\n        this.noInternetConnection=false;  \r\n      } else {  \r\n        this.noInternetConnection=true;  \r\n      }  \r\n    });\r\n  }\r\n\r\n  attivaCuffie(tt) {\r\n    // document.addEventListener(\"deviceready\", onDeviceReady.bind(null, t), false);\r\n    document.addEventListener(\"deviceready\", onDeviceReady, false);\r\n    function onDeviceReady() {\r\n      tt.scriveDebug('Detector cuffie attivato');\r\n      window['HeadsetDetection'].registerRemoteEvents(function(status) {\r\n        tt.scriveDebug('Detector cuffie. Cambio status: ' + status);\r\n        switch (status) {\r\n          case 'headsetAdded':\r\n            tt.scriveDebug('Cuffie attaccate');\r\n            tt.cuffieAttive = true;\r\n            break;\r\n          case 'headsetRemoved':\r\n            tt.scriveDebug('Cuffie staccate');\r\n            tt.cuffieAttive = false;\r\n            if (tt.staSuonando) {\r\n              tt.play(true);\r\n            }\r\n            break;\r\n        };\r\n      });\r\n\r\n      /* document.addEventListener(\"startcallbutton\", onStartCallKeyDown, false);\r\n      function onStartCallKeyDown() {\r\n        alert('Premuto tasto inizio chiamata');\r\n      }\r\n      this.utility.scriveDebug(this, 'Attivato controllo inizio chiamata');\r\n\r\n      document.addEventListener(\"volumedownbutton\", onVolumeDownKeyDown, false);\r\n      function onVolumeDownKeyDown() {\r\n        const ora = Date.now();\r\n        if (ora - tt.lastDown < 1000) {\r\n          tt.scriveDebug('Indietro canzone');\r\n          tt.indietroBrano();\r\n        } else {\r\n          // tt.audio.setVolume(10);\r\n          // tt.scriveDebug('Premuto tasto volume giù');\r\n        }\r\n        tt.lastDown = ora;\r\n      }\r\n      // this.utility.scriveDebug(this, 'Attivato controllo volume giù');\r\n\r\n      document.addEventListener(\"volumeupbutton\", onVolumeUpKeyDown, false);\r\n      function onVolumeUpKeyDown() {\r\n        const ora = Date.now();\r\n        if (ora - tt.lastUp < 1000) {\r\n          tt.scriveDebug('Avanti canzone');\r\n          tt.avantiBrano();\r\n        } else {\r\n          // tt.audio.setVolume(90);\r\n          // tt.scriveDebug('Premuto tasto volume sù');\r\n        }\r\n        tt.lastUp = ora;\r\n      }\r\n      // this.utility.scriveDebug(this, 'Attivato controllo volume sù'); */\r\n      \r\n      /* document.addEventListener(\"backbutton\", onBackKeyDown, false);\r\n      function onBackKeyDown() {\r\n        if (confirm('Chiudo il player ?')) {\r\n          navigator['app'].exitApp();\r\n        }\r\n      } */  \r\n      // this.utility.scriveDebug(this, 'Attivato controllo tasto indietro');\r\n    }\r\n    // document.addEventListener(\"deviceready\", onDeviceReady.bind(this), false);\r\n  }\r\n\r\n  // controllaFileLocali() {\r\n    /* if (this.deviceGirante === 'Android') {\r\n      // setTimeout(() => {\r\n        const indice = 3;\r\n        ComponentFile.esisteFile[indice] = '';\r\n        const cartellaJSON1 = 'LooigiSoft';\r\n        const nomeFileJSON1 = 'looWebPlayer/jsonBraniLocali.json';\r\n        this.utility.scriveDebug(this, 'Controllo esistenza file locale jsonBraniLocali.json');\r\n  \r\n        this.file.checkIfFileExists(this, cartellaJSON1, nomeFileJSON1).then(Ritorno => {\r\n          this.utility.scriveDebug(this, 'Esiste file locale jsonBraniLocali.json: ' + Ritorno);\r\n          if (Ritorno === 'SI') {\r\n            setTimeout(() => {\r\n              this.leggeFileBraniLocali();\r\n            }, 100);\r\n          } else {\r\n            setTimeout(() => {\r\n              this.files.prendeTuttiIFilesInLocale(this, indice).then((Ritorno) => {\r\n                this.sistemaStrutturaBraniLocali(true);\r\n              });\r\n            }, 10);\r\n  \r\n            /* let q = 0;\r\n            const si2 = setInterval(() => {\r\n              if (!ComponentFile.staLeggendoFiles[indice] && this.datiJSON) {\r\n                this.utility.scriveDebug(this, 'Files locali letti');\r\n                clearInterval(si2);\r\n  \r\n                this.sistemaStrutturaBraniLocali(true);\r\n              } else {\r\n                q++;\r\n                if (q > 100) {\r\n                  clearInterval(si2);\r\n                  this.utility.visualizzaMessaggio(this, 'Problemi nel caricare il JSON', true);\r\n                }\r\n              }\r\n            }, 1000);\r\n          }\r\n        }); */\r\n      // }, 5000);\r\n\r\n      /* let q = 0;\r\n      const t1 = setInterval(() => {\r\n        if (ComponentFile.esisteFile[indice] !== '') {\r\n          // alert('Esistenza file brani locali: ' + Files.esisteFile);\r\n          clearInterval(t1);\r\n\r\n          if (this.checkRicaricaBraniLocali === true) {\r\n            ComponentFile.esisteFile[indice] = 'NO';\r\n          }\r\n\r\n          if (ComponentFile.esisteFile[indice] === 'SI') {\r\n            this.utility.scriveDebug(this, 'Esiste file locale jsonBraniLocali.json');\r\n            ComponentFile.staLeggendoFiles[indice] = false;\r\n            this.leggeFileBraniLocali();\r\n          } else {            \r\n            setTimeout(() => {\r\n              this.utility.scriveDebug(this, 'NON Esiste file locale jsonBraniLocali.json');\r\n              ComponentFile.staLeggendoFiles[indice] = true;\r\n              this.files.prendeTuttiIFilesInLocale(this, indice);\r\n\r\n              let q = 0;\r\n              const si2 = setInterval(() => {\r\n                if (!ComponentFile.staLeggendoFiles[indice] && this.datiJSON) {\r\n                  this.utility.scriveDebug(this, 'Files locali letti');\r\n                  clearInterval(si2);\r\n\r\n                  this.sistemaStrutturaBraniLocali(true);\r\n                } else {\r\n                  q++;\r\n                  if (q > 100) {\r\n                    clearInterval(si2);\r\n                    this.utility.visualizzaMessaggio(this, 'Problemi nel caricare il JSON', true);\r\n                  }\r\n                }\r\n              }, 1000);      \r\n            }, 100);\r\n          }\r\n        }\r\n      }, 1000);\r\n    } */\r\n  // }\r\n\r\n  scaricaJSON() {\r\n    return new Promise(async (Ritorno) => {\r\n      this.utility.scriveDebug(this, \"Scarico JSON\");\r\n\r\n      this.getJSON(this).subscribe(data => {\r\n        this.utility.scriveDebug(this, \"Scaricato JSON\");\r\n\r\n        this.parsaJSON1(data, true);\r\n\r\n        Ritorno('OK');\r\n      });\r\n    });\r\n  }\r\n\r\n  private getJSON(t): Observable<any> {\r\n    this.utility.scriveDebug(this, 'Prende JSON di configurazione');\r\n    return this.http.get(t, 'assets/config.json?id=' + new Date());\r\n  }\r\n\r\n  parsaJSON1(data, scriviFile) {\r\n    const d = JSON.parse(data._body);\r\n    this.urlWS = d.url;\r\n    this.urlMP3 = d.urlMP3;\r\n    this.urlImmagine = d.urlImmagine;\r\n    this.apiService.impostaUrlWS(d.url);\r\n    this.apiService.impostaUrlMP3(d.urlMP3);\r\n    this.apiService.impostaUrlImmagine(d.urlImmagine);\r\n    this.urlPerUpload = d.urlUpload;\r\n\r\n    this.utility.scriveDebug(this, 'Url: ' +  this.urlWS);\r\n    this.utility.scriveDebug(this, 'Url Immagini: ' +  this.urlImmagine);\r\n    this.utility.scriveDebug(this, 'Url Upload: ' +  this.urlPerUpload);\r\n    // return;\r\n    // console.log(d.url, d.urlImmagine);\r\n\r\n    // console.log(this.numeroBrano);\r\n    // console.log(this.ultimoFiltro);\r\n\r\n    // if (scriviFile && this.deviceGirante === 'Android') {\r\n    //   Files.writeFile(this.cartellaJSON1, this.nomeFileJSON1, JSON.stringify(d));\r\n    // }\r\n\r\n    // this.creaUtenza();\r\n\r\n    UtilityComponent.haEseguitoGiaIlCostruttore = true;\r\n    this.utility.scriveDebug(this, 'Impostato flag già eseguito il costruttore: ' + UtilityComponent.haEseguitoGiaIlCostruttore);\r\n  }\r\n\r\n  ngOnInit() {\r\n    if (UtilityComponent.haEseguitoGiaIlCostruttore) {\r\n      return;\r\n    }\r\n\r\n    this.apiService.impostaThis(this, this.utility);\r\n    this.storage.leggeSettaggi(this);\r\n\r\n    this.utility.scriveDebug(this, \"Costruttore 1\");\r\n\r\n    // const devServ = this.deviceService.getDeviceInfo();\r\n    // this.os = devServ.os;\r\n    // this.userAgent = devServ.userAgent;\r\n    // this.browser = devServ.browser;\r\n    // this.device = devServ.device;\r\n    // this.osVers = devServ.os_version;\r\n    // this.isMobile = this.deviceService.isMobile();\r\n    // this.isTablet = this.deviceService.isTablet();\r\n    // this.isDesktopDevice = this.deviceService.isDesktop();\r\n\r\n    this.pathApp = document.URL;\r\n    if (this.pathApp.indexOf( 'http://' ) === -1 && this.pathApp.indexOf( 'https://' ) === -1) {\r\n      this.deviceGirante = 'Android';\r\n    } else {\r\n      this.deviceGirante = 'Web Page';\r\n    }\r\n    this.deviceGirante = 'Android';\r\n\r\n    this.utility.scriveDebug(this, \"Costruttore 2\");\r\n\r\n    if(window['cordova']){\r\n      // console.log(\"Cordova found\")\r\n      // alert('Cordova trovato');\r\n      this.ceCordova = true;\r\n      // document.addEventListener('deviceready', this.iniziaTutto);\r\n    } else {\r\n      // console.log(\"Cordova not found\")\r\n      // alert('Cordova NON trovato');\r\n      this.ceCordova = false;\r\n    }\r\n\r\n    // setTimeout(() => {\r\n      this.utility.scriveDebug(this, \"Costruttore 3\");\r\n\r\n      this.splashScreen.hide();\r\n\r\n      this.utenza = localStorage.getItem('utenza');\r\n      this.idUtenza = +localStorage.getItem('idUtenza');\r\n      this.Amministratore = localStorage.getItem('tipoUtente');\r\n  \r\n      this.attivaMonitorConnessione();\r\n\r\n      const t = localStorage.getItem('tutteLeCanzoni');\r\n      this.filtroImpostato = localStorage.getItem('FiltroTesto');\r\n      this.canzoniMamma =  localStorage.getItem('CanzoniMamma') === 'S' ? true : false;\r\n      this.eliminaMamma =  localStorage.getItem('TutteCanzoni') === 'S' ? true : false;\r\n      if (this.isConnected === true) {\r\n        this.consideraStelle =  localStorage.getItem('ConsideraStelle') === 'S' ? true : false;\r\n        this.canzoniLocali =  localStorage.getItem('CanzoniLocali') === 'S' ? true : false;\r\n        this.maiVotate =  localStorage.getItem('maiVotate') === 'S' ? true : false;\r\n  \r\n        if (this.deviceGirante !== 'Android') {\r\n          this.canzoniLocali = false;\r\n        }\r\n      } else {\r\n        if (this.deviceGirante === 'Android') {\r\n          this.utility.scriveDebug(this, 'Connessione non valida. Imposto solo canzoni locali');\r\n          this.canzoniLocali =  true;\r\n          this.consideraStelle = false;\r\n          this.maiVotate = false;\r\n        }\r\n      }\r\n      \r\n      // if (this.canzoniMamma === true) {\r\n        // this.filtroImpostato = '';\r\n      // }\r\n      const tutte = t === 'S' ? true : false;\r\n  \r\n      this.controllaEsistenzaCookieBellezza();\r\n      \r\n      /* setTimeout(() => {\r\n        this.mascheraBrani = true;\r\n        setTimeout(() => {\r\n          this.mascheraBrani = false;\r\n          // console.log(this.ultimoFiltroArray);\r\n        }, 100);\r\n      }, 100); */\r\n      this.nonSalvareFiltro = false;\r\n  \r\n      // console.log('UTENZA / ID', this.utenza, this.idUtenza);\r\n      this.utility.scriveDebug(this, \"Utenza: \" + this.idUtenza + ' - ' + this.utenza + ' (' + this.Amministratore + ')');\r\n\r\n      this.titoloBranoAutomatico = '';\r\n      this.fFiles.operazioneSuFile = '';\r\n    \r\n      const tag = document.createElement('script');\r\n  \r\n      tag.src = \"https://www.youtube.com/iframe_api\";\r\n      document.body.appendChild(tag);\r\n\r\n      this.elem = document.documentElement;\r\n\r\n      this.numeroBrano = +localStorage.getItem('numero_brano');\r\n      this.numeroBranoAttuale = +localStorage.getItem('numero_brano');\r\n      \r\n      this.scaricaJSON().then((Ritorno) => {\r\n        if (Ritorno === 'OK') {\r\n          this.utility.scriveDebug(this, 'Ricerca utenza:' + Ritorno);\r\n          if (this.isConnected) {\r\n            this.utility.cercaUtenza(this).then((Ritorno) => {\r\n              this.utility.scriveDebug(this, 'Ricercata utenza:' + Ritorno);\r\n              if (Ritorno === 'OK') {\r\n                this.checkRete.settaFramePrincipale(this);\r\n                this.checkRete.AttivaControllo();\r\n      \r\n                if (this.deviceGirante === 'Android') {\r\n                  this.gestAndroid.iniziaTutto(this);\r\n                } else {\r\n                  this.iniziaTutto();\r\n                }\r\n              } else {\r\n                this.utility.scriveDebug(this, 'Problemi nella lettura dell\\'utenza: ' + Ritorno);\r\n              }\r\n            });\r\n          } else {\r\n            // Mancanza di rete. Per il momento vedo se esiste il cookie dell'utenza\r\n            if (!this.utenza || this.utenza === null || this.utenza === '') {\r\n              if (this.deviceGirante === 'Android') {\r\n                this.gestAndroid.iniziaTutto(this);\r\n              } else {\r\n                this.iniziaTutto();\r\n              }\r\n          } else {\r\n              // Non c'è... Muoio così\r\n              alert('Mancanza di rete e del cookie dell\\'utenza');\r\n            }\r\n          }\r\n        } else {\r\n          // Non è riuscito a scaricare il file config.json\r\n        }\r\n      });\r\n\r\n    // }, 2000);\r\n\r\n    this.settaZIndex(this.nomiDiv.length - 1);\r\n  }\r\n\r\n  iniziaTutto() {\r\n    // setTimeout(() => {\r\n      this.utility.scriveDebug(this, 'Inizia tutto');\r\n\r\n      // this.caricamentoInCorso = true;\r\n  \r\n      // setTimeout(() => {\r\n        /* this.utility.scriveDebug(this, 'Costruttore: Ha Già eseguito: ' + UtilityComponent.haEseguitoGiaIlCostruttore);\r\n        if (UtilityComponent.haEseguitoGiaIlCostruttore === true) {\r\n          return;\r\n        } */\r\n    \r\n        /* const app = document.URL.indexOf( 'http://' ) === -1 && document.URL.indexOf( 'https://' ) === -1;\r\n        if ( app ) {\r\n          this.deviceGirante = 'Android';\r\n        } else {\r\n          this.deviceGirante = 'Web Page';\r\n        } */\r\n    \r\n        // this.utility.scriveDebug(this, 'Device:' + this.deviceGirante);\r\n    \r\n        // console.log(this.ultimoFiltroArray);\r\n    \r\n        /* if (this.deviceGirante === 'Android') {\r\n          this.controllaFileLocali();\r\n\r\n          this.prendeLivelloSegnale();\r\n        }\r\n        this.utility.scriveDebug(this, \"Init 2\"); */\r\n\r\n        // this.scaricaJSON();\r\n        // this.utility.scriveDebug(this, \"Init 3\");\r\n        \r\n        /* if (this.deviceGirante === 'Android') {\r\n          if (this.comandiVocaliAttivi === true) {\r\n            // Recognition delle chiacchiere Android\r\n            this.speechRecognition.hasPermission()\r\n            .then((hasPermission: boolean) => {\r\n    \r\n              if (!hasPermission) {\r\n              this.speechRecognition.requestPermission()\r\n                .then(\r\n                  () => console.log('Granted'),\r\n                  () => console.log('Denied')\r\n                )\r\n              }\r\n            });\r\n    \r\n            this.speechRecognition.isRecognitionAvailable()\r\n              .then((available: boolean) => { this.speechDisponibile = available; this.azionaVoce(available); } )\r\n            // Recognition delle chiacchiere Android\r\n          }\r\n    \r\n          this.attivaCuffie(this);\r\n        } else {    \r\n          if (this.comandiVocaliAttivi === true) {\r\n            // Recognition delle chiacchiere Windows\r\n            this.speechService.init(this);\r\n            this.speechService.start();  \r\n            // Recognition delle chiacchiere Windows\r\n          }\r\n        } */\r\n    \r\n        // setTimeout(() => {\r\n        // this.utility.scriveDebug(this, \"Init 3\");\r\n        // }, 100);\r\n      // }, 100);\r\n      \r\n      // this.leggeTags();\r\n      // this.utility.scriveDebug(this, \"Init 4\");\r\n      // }, 100);\r\n      this.utility.caricaJsonBrani(this).then((Ritorno: string) => {\r\n        if (Ritorno.indexOf('ERROR: ') === -1) {\r\n            let ok = true;\r\n            // console.log(JSON.parse(Ritorno));\r\n            try {\r\n              this.datiJSON = JSON.parse(Ritorno);\r\n            } catch (e) {\r\n              ok = false;\r\n              this.apiService.eliminaJSON(this, this.idUtenza)\r\n              .map(response => this.apiService.controllaRitorno(response))\r\n                .subscribe(\r\n                  data => {\r\n                    alert('Problemi nel leggere il json dei brani. Struttura non valida.\\nRiavviare l\\'applicazione');\r\n                  }\r\n              );\r\n            }\r\n            \r\n            if (ok) {\r\n              this.utility.prosegueCaricaJsonBrani2(this, false);\r\n\r\n              this.prosegueCaricaTutto();\r\n          \r\n              this.impostaBellezza();\r\n\r\n              this.leggeTags();\r\n\r\n              this.caricaBranoDaID();\r\n\r\n              this.startTimerScritte();\r\n            }\r\n        } else {\r\n          // Problemi nel caricare il json dei brani\r\n          alert('Problemi nel caricare il json dei brani');\r\n        }\r\n    });\r\n  }\r\n\r\n  leggeTags() {\r\n    this.utility.scriveDebug(this, \"Lettura Tags: Inizio\");\r\n    const t = setInterval(() => {\r\n      if (this.apiService.urlWS) {\r\n        this.utility.scriveDebug(this, \"Lettura Tags: Lettura\");\r\n        clearInterval(t);\r\n        this.listaTags = new Array();\r\n        this.apiService.ritornaTuttiITags()\r\n        .map(response => this.apiService.controllaRitorno(response))\r\n          .subscribe(\r\n            data => {\r\n              const data2 = this.apiService.prendeSoloDatiValidi(data);\r\n              this.utility.scriveDebug(this, \"Lettura Tags: Fine\");\r\n              if (data2.indexOf('ERROR:') === -1) {\r\n                if (data2 && data2 !== '') {\r\n                  const dd = data2.split('§');\r\n                  dd.forEach(element => {\r\n                    if (element && element !== '') {\r\n                      const d2 = element.split(';');\r\n                      const tt = {\r\n                        idTag: +d2[0],\r\n                        Tag: d2[1]\r\n                      }\r\n                      this.listaTags.push(tt);\r\n                    }\r\n                  });\r\n                }\r\n                // console.log(this.listaTags);\r\n              }\r\n            },\r\n          (error) => {\r\n            if (error instanceof Error) {\r\n              this.utility.visualizzaMessaggio(this, 'Lettura Lista Tags: ' + error.message, true);\r\n            }\r\n        });\r\n      }\r\n    }, 1000)\r\n  }\r\n\r\n  ngAfterViewInit() {\r\n    // console.log('Div tree', this.divToScroll);\r\n    // this.scrollaTesto('divTestScroll', this.testoProva, 0);\r\n  }\r\n\r\n  // caricaTutto() {\r\n    // alert('3');\r\n    // console.log(this.idUtenza, this.utenza);\r\n    // this.utility.scriveDebug(this, 'Carica tutto 1');\r\n\r\n    /* if (this.deviceGirante === 'Android') {\r\n      const indice = 4;\r\n      ComponentFile.esisteFile[indice] = '';\r\n      const cartellaJSON1 = 'LooigiSoft';\r\n      const nomeFileJSON1 = 'looWebPlayer/jsonBrani.json'\r\n      this.utility.scriveDebug(this, 'Esiste file locale jsonBrani.json');\r\n\r\n      this.file.checkIfFileExists(this, cartellaJSON1, nomeFileJSON1).then(Ritorno => {\r\n        this.utility.scriveDebug(this, 'Esiste file locale jsonBrani.json: ' + Ritorno);\r\n        if (Ritorno === 'SI') {\r\n          this.leggeFileBrani();\r\n        } else {\r\n          this.continuaACaricareTutto();\r\n        }\r\n      });\r\n    } else {\r\n      this.caricaJsonBrani();\r\n    }\r\n    if (this.isConnected) {\r\n      this.caricaJsonBrani();\r\n    } else {\r\n      if (this.deviceGirante === 'Android') {\r\n        const indice = 4;\r\n        ComponentFile.esisteFile[indice] = '';\r\n        const cartellaJSON1 = 'LooigiSoft';\r\n        const nomeFileJSON1 = 'looWebPlayer/jsonBrani.json'\r\n        this.utility.scriveDebug(this, 'Esiste file locale jsonBrani.json');\r\n\r\n        this.file.checkIfFileExists(this, cartellaJSON1, nomeFileJSON1).then(Ritorno => {\r\n          this.utility.scriveDebug(this, 'Esiste file locale jsonBrani.json: ' + Ritorno);\r\n          if (Ritorno === 'SI') {\r\n            this.leggeFileBrani();\r\n          } else {\r\n            // this.continuaACaricareTutto();\r\n            this.utility.scriveDebug(this, 'Connessione di rete non presente e file json non presente in locale.<br />Stoppo tutto');\r\n          }\r\n        });\r\n      } */\r\n    // }\r\n  // }\r\n\r\n  /* continuaACaricareTutto() {\r\n    if (this.isConnected) {\r\n      this.caricaJsonBrani();\r\n    } else {\r\n      this.leggeFileBrani();\r\n    }\r\n  } */\r\n\r\n  /* leggeFileBrani() {\r\n    if (this.datiJSON) {\r\n      return;\r\n    }\r\n\r\n    // TENTATIVO DI EVITARE RICARICAMENTI INUTILI\r\n    const ora = new Date().getTime();\r\n    if (ora - this.ultimaVoltaLettoBrani < 500 && this.ultimaVoltaLettoBrani !== -1) {\r\n      return;\r\n    }\r\n    this.ultimaVoltaLettoBrani = ora;\r\n    // TENTATIVO DI EVITARE RICARICAMENTI INUTILI\r\n\r\n    // alert('5');\r\n    if (this.deviceGirante === 'Android') {\r\n      const indice = 0;\r\n      this.caricamentoInCorso = false;\r\n\r\n      ComponentFile.fileJSON[indice] = '';\r\n      const path = ComponentFile.pathSD + '/LooigiSoft/looWebPlayer/jsonBrani.json'\r\n      this.file.readFile(this, path, indice).then((Ritorno: string) => {\r\n        this.datiJSON = JSON.parse(Ritorno);\r\n        this.utility.scriveDebug(this, 'Letto file locale jsonBrani.json. Righe ' + this.datiJSON.length);\r\n\r\n        this.prosegueCaricaTutto();\r\n        this.caricaBranoDaID();\r\n      });\r\n      /* const si = setInterval(() => {\r\n        if (ComponentFile.fileJSON[indice] !== '') {\r\n          // alert('6');\r\n          clearInterval(si);\r\n\r\n          this.datiJSON = JSON.parse(ComponentFile.fileJSON[indice]);\r\n          this.utility.scriveDebug(this, 'Letto file locale jsonBrani.json. Righe ' + this.datiJSON.length);\r\n\r\n          this.prosegueCaricaTutto();\r\n          this.prosegueCaricaJSON();\r\n        }\r\n      }, 100) */\r\n    // } else {\r\n    //   this.prosegueCaricaTutto();\r\n    //   this.caricaBranoDaID();\r\n    // }\r\n  // } */\r\n\r\n  prosegueCaricaTutto() {  \r\n    // let c = 0;\r\n    // const t = setInterval(() => {\r\n      // console.log('Attesa dati json', new Date());\r\n      // c++;\r\n      // this.utility.scriveDebug(this, 'Attesa dati json: ' + c);\r\n      // if (this.datiJSON) {\r\n        // clearInterval(t);\r\n        this.utility.scriveDebug(this, 'Letto file locale jsonBrani.json 2. Filtro brani');\r\n\r\n        /* const b = new Array();\r\n        const bb = { Ascoltata: 0, Estensione: '.mp3', id: 90000, Stelle: 0, path: 'W Pippetto', Text: 'Pippo Pippo', Traccia: '00', locale: true };\r\n        b.push(bb);\r\n        const n = { text: 'Brani SD', collapsed: true, children: [{ Anno: '0000', collapsed: true, text: 'Locale', children: b }] };\r\n        this.datiJSON.push(n); */\r\n        \r\n        // console.log('Dati json arrivati', this.datiJSON);\r\n        this.utility.filtraBrani(this);\r\n        \r\n        // this.utility.apreTree(this);\r\n        // this.apreAlbero = !this.apreAlbero;\r\n\r\n        // this.braniFiltrati = JSON.parse(JSON.stringify(this.braniFiltrati));\r\n        // console.log(this.braniFiltrati);\r\n        // console.log(this.bellezzeJSON);\r\n        // console.log(this.numeroBrano);\r\n      // }\r\n    // }, 1000)\r\n  }\r\n\r\n  impostaDatiJSON(d) {\r\n    this.datiJSON = d;\r\n\r\n    this.utility.filtraBrani(this);\r\n  }\r\n\r\n  caricaBranoDaID() {    \r\n    /* const t = localStorage.getItem('tutteLeCanzoni');\r\n    this.filtroImpostato = localStorage.getItem('FiltroTesto');\r\n    this.canzoniMamma =  localStorage.getItem('CanzoniMamma') === 'S' ? true : false;\r\n    this.eliminaMamma =  localStorage.getItem('TutteCanzoni') === 'S' ? true : false;\r\n    if (this.isConnected === true) {\r\n      this.consideraStelle =  localStorage.getItem('ConsideraStelle') === 'S' ? true : false;\r\n      this.canzoniLocali =  localStorage.getItem('CanzoniLocali') === 'S' ? true : false;\r\n      this.maiVotate =  localStorage.getItem('maiVotate') === 'S' ? true : false;\r\n\r\n      if (this.deviceGirante !== 'Android') {\r\n        this.canzoniLocali = false;\r\n      }\r\n    } else {\r\n      if (this.deviceGirante === 'Android') {\r\n        this.utility.scriveDebug(this, 'Connessione non valida. Imposto solo canzoni locali');\r\n        this.canzoniLocali =  true;\r\n        this.consideraStelle = false;\r\n        this.maiVotate = false;\r\n      }\r\n    }\r\n    \r\n    // if (this.canzoniMamma === true) {\r\n      // this.filtroImpostato = '';\r\n    // }\r\n    const tutte = t === 'S' ? true : false;\r\n\r\n    this.controllaEsistenzaCookieBellezza();\r\n    \r\n    /* setTimeout(() => {\r\n      this.mascheraBrani = true;\r\n      setTimeout(() => {\r\n        this.mascheraBrani = false;\r\n        // console.log(this.ultimoFiltroArray);\r\n      }, 100);\r\n    }, 100); */\r\n    // this.nonSalvareFiltro = false; \r\n\r\n    this.utility.scriveDebug(this, 'Caricato tutto 2. Caricato JSON brani');\r\n\r\n    if (this.numeroBrano === 0) {\r\n      this.numeroBrano = 1;\r\n      this.numeroBranoAttuale = 1;\r\n      this.utility.scriveDebug(this, 'Caricato tutto 3. Carico brano ' + this.numeroBrano);\r\n      this.caricaBrano.caricaBrano(this);\r\n      this.ascoltata++;\r\n      this.ascoltati.push(this.numeroBrano);\r\n    } else {\r\n      this.utility.scriveDebug(this, 'Caricato tutto 4. Carico brano ' + this.numeroBrano);\r\n      this.caricaBrano.caricaBrano(this);\r\n      this.ascoltata++;\r\n      this.ascoltati.push(this.numeroBrano);\r\n      // console.log(this.variabiliGlobali.urlWS, this.variabiliGlobali.urlPerUpload);\r\n    }\r\n\r\n    this.utility.scriveDebug(this, 'Carico JSON brani. TERMINATO');\r\n\r\n    // this.attivaMonitorConnessione();\r\n  }\r\n\r\n  /* nonHaTrovatoJSON() {\r\n    this.apiService.ritornaJSONBrani(\r\n      this.idUtenza\r\n    ).map(response => this.apiService.controllaRitorno(response))\r\n    .subscribe(\r\n      data => {\r\n        this.caricamentoInCorso = false;\r\n        this.utility.scriveDebug(this, 'Carico JSON brani: OK');\r\n        // alert('2: ' + data);\r\n        if (data) { \r\n          const data2 = this.apiService.prendeSoloDatiValidi(data);\r\n          if (data2.indexOf('ERROR:') === -1 && data2.length > 10) {\r\n            try {\r\n              this.datiJSON = JSON.parse(data2);\r\n            } catch (e) {\r\n              console.log('Problemi sul dati JSON');\r\n              this.refreshCanzoniSenzaDomanda();\r\n            }\r\n  \r\n            if (this.deviceGirante === 'Android') {\r\n              this.file.writeFile(this, 6, 'LooigiSoft', 'looWebPlayer/jsonBrani.json', JSON.stringify(this.datiJSON)).then((Ritorno) => {\r\n\r\n              });\r\n            }\r\n\r\n            this.prosegueCaricaJSON();\r\n          } else {\r\n            // alert('data2');\r\n            this.utility.visualizzaMessaggio(this, 'Carica JSON: ' + data2, true);\r\n          }\r\n        } else {\r\n          // alert('Nessun dato ricevuto');\r\n          this.utility.visualizzaMessaggio(this, 'Carica JSON: Nessun dato ricevuto', true);\r\n        }\r\n      },\r\n      (error) => {\r\n        this.caricamentoInCorso = false;\r\n        this.utility.visualizzaMessaggio(this, 'Carica JSON: ' + error.message, true);\r\n      }\r\n    );\r\n  } */\r\n\r\n  caricaDettaglioArtista(forza) {\r\n    if (!this.isConnected) {\r\n      return;\r\n    }\r\n\r\n    this.caricamentoInCorsoIA = true;\r\n    // console.log('Prendo dettaglio artista', this.artista);\r\n    this.urlsArtista = new Array();\r\n    this.dischiArtista = new Array();\r\n    this.membriArtista = new Array();\r\n\r\n    this.apiService.tornaDettagliArtista(\r\n      this.artista,\r\n      forza\r\n    ).map(response => this.apiService.controllaRitorno(response))\r\n    .subscribe(\r\n      data => {\r\n        this.caricamentoInCorso = false;\r\n\r\n        if (data) {\r\n          const data2 = this.apiService.prendeSoloDatiValidi(data);\r\n          const campi = data2.split('|');\r\n          const dettaglioArtista = campi[0];\r\n          const sUrl = campi[1];\r\n          const sDischi = campi[2];\r\n          const sMembri = campi[3];\r\n          \r\n          if (sUrl && sUrl !== '') {\r\n            const url = sUrl.split('§');\r\n            url.forEach(element => {\r\n              if (element !== '') {\r\n                const c = element.split(';');\r\n                const u = {\r\n                  Indirizzo: this.utility.effettuaReplace(this.utility.effettuaReplace(c[0], '*PI*', '|'), '*PV*', ';'),\r\n                  Tipologia: c[1]\r\n                };\r\n                this.urlsArtista.push(u);\r\n              }\r\n            });\r\n          }\r\n\r\n          if (sDischi && sDischi !== '') {\r\n            const dischi = sDischi.split('§');\r\n            dischi.forEach(element => {\r\n              if (element !== '') {\r\n                const c = element.split(';');\r\n                let ok = true;\r\n                this.dischiArtista.forEach(element2 => {\r\n                  if (ok && element2.Titolo === c[0]) {\r\n                    ok = false;\r\n                  }\r\n                });\r\n                if (ok) {\r\n                  const u = {\r\n                    Titolo: this.utility.effettuaReplace(this.utility.effettuaReplace(c[0], '*PI*', '|'), '*PV*', ';'),\r\n                    DataDisco: c[1],\r\n                    Tipologia: this.utility.effettuaReplace(this.utility.effettuaReplace(c[2], '*PI*', '|'), '*PV*', ';'),\r\n                    Presente: c[3]\r\n                  };\r\n                  this.dischiArtista.push(u);\r\n                }\r\n              }\r\n            });\r\n            this.dischiArtista.sort((a, b) => b.DataDisco.localeCompare(a.DataDisco));\r\n          }\r\n\r\n          if (sMembri && sMembri !== '') {\r\n            const membri = sMembri.split('§');\r\n            membri.forEach(element => {\r\n              if (element !== '') {\r\n                const c = element.split(';');\r\n                const u = {\r\n                  Nome: this.utility.effettuaReplace(this.utility.effettuaReplace(c[0], '*PI*', '|'), '*PV*', ';'),\r\n                  Tipologia: this.utility.effettuaReplace(this.utility.effettuaReplace(c[1], '*PI*', '|'), '*PV*', ';'),\r\n                  Inizio: c[2],\r\n                  Fine: c[3],\r\n                  Finito: c[4],\r\n                  TipoArtista: this.utility.effettuaReplace(this.utility.effettuaReplace(c[5], '*PI*', '|'), '*PV*', ';'),\r\n                  Ruolo: c[6],\r\n                  Sesso: c[7],\r\n                  Nazione: c[8],\r\n                  Citta: c[9],\r\n                  DataNascita: c[10],\r\n                  DataMorte: c[11]\r\n                };                \r\n                this.membriArtista.push(u);\r\n\r\n                if (u.Finito === 'N' && u.TipoArtista === 'Person') {\r\n                  if (u.Inizio) {\r\n                    this.scritte.push('Membro della band dal ' + u.Inizio + ': ' + u.Nome);\r\n                  } else {\r\n                    this.scritte.push('Membro della band: ' + u.Nome);\r\n                  }\r\n                }\r\n              }\r\n            });\r\n            this.membriArtista.sort((a, b) => a.Inizio.localeCompare(b.Inizio));\r\n          }\r\n\r\n          // console.log(this.membriArtista);\r\n          // console.log(this.dischiArtista);\r\n          // console.log(this.urlsArtista);\r\n          this.caricamentoInCorsoIA = false;\r\n        } else {\r\n          this.caricamentoInCorsoIA = false;\r\n        }\r\n      },\r\n      (error) => {\r\n        if (error instanceof Error) {\r\n          this.caricamentoInCorsoIA = false;\r\n          console.log('Error nel caricamento delle info', error);\r\n        }\r\n      }\r\n    );\r\n\r\n  }\r\n\r\n  controllaEsistenzaCookieBellezza() {\r\n    return;\r\n  }\r\n  \r\n  /* apriPlaylist() {\r\n    this.mascheraBrani = true\r\n  } */\r\n\r\n  impostaBellezza() {\r\n     // console.log('Prendo bellezza brano', this.numeroBrano);\r\n    const bellezza2 = this.utility.ritornaStelleBrano(this, this.numeroBrano, true);\r\n    // console.log('Prendo bellezza brano', this.numeroBrano, bellezza2);\r\n\r\n    for (let i = 0; i < bellezza2; i++) {\r\n      this.bellezza[i] = 'assets/immagini/preferito.png';\r\n    }\r\n    for (let i = bellezza2; i <= 10; i++) {\r\n      this.bellezza[i] = 'assets/immagini/preferito_vuoto.png';\r\n    }\r\n  }\r\n\r\n  spostamentoBarra(event: MatSliderChange) {\r\n    this.accendeOpacita();\r\n\r\n    // console.log(\"This is emitted as the thumb slides\");\r\n\r\n    if (this.deviceGirante !== 'Android') {\r\n      this.audio.currentTime = event.value;\r\n    } else {\r\n      this.audioAndroid.seekTo(event.value);\r\n    }\r\n    this.posizioneBrano = event.value;\r\n    this.tempoPassato = this.converteTempo(this.posizioneBrano);\r\n\r\n    // console.log(event.value, this.audio.currentTime);\r\n\r\n    if (this.videoNONCaricato === true) {\r\n      if (this.videoplayer) {\r\n        setTimeout(() => {\r\n          this.videoplayer.seekTo(+this.posizioneBrano, true);\r\n        }, 100);\r\n      }\r\n    } else {\r\n      if (this.videoplayerLocale) {\r\n        // this.videoplayerLocale.nativeElement.mute();\r\n        setTimeout(() => {\r\n          this.videoplayerLocale.nativeElement.currentTime = +this.posizioneBrano;\r\n        }, 100);\r\n      }\r\n    }\r\n  }\r\n\r\n  startTimerScritte() {\r\n    if (this.moadalitaLite) {\r\n      return;\r\n    }\r\n    \r\n    if (this.intervalScritte) {\r\n      clearInterval(this.intervalScritte);\r\n    }\r\n    this.intervalScritte = setInterval(() => {\r\n      this.contaTimerScritte++;\r\n      if (this.contaTimerScritte > 3) {\r\n        this.contaTimerScritte = 0;\r\n        this.qualeScritta++;\r\n        // console.log(this.contaTimerScritte);\r\n        if (this.scritte) {\r\n          if (this.qualeScritta > this.scritte.length - 1) {\r\n            this.qualeScritta = 0;\r\n          }\r\n        }\r\n      }\r\n    }, 1000);\r\n  }\r\n\r\n  converteTempo(e) {\r\n    if (e) {\r\n      let ee = e;\r\n      let minuti = 0;\r\n      let secondi = 0;\r\n      while (ee > 59) {\r\n        minuti++;\r\n        ee -= 60;\r\n      }\r\n      secondi += ee;\r\n      let min = minuti.toString().trim();\r\n      if (min.length === 1) {\r\n        min = '0' + min;\r\n      }\r\n      let sec = secondi.toString().trim();\r\n      if (sec.indexOf('.') > - 1) {\r\n        sec = sec.substring(0, sec.indexOf('.'));\r\n      }\r\n      if (sec.length === 1) {\r\n        sec = '0' + sec;\r\n      }\r\n      if (sec === '-0') {\r\n        sec = '00';\r\n      }\r\n\r\n      // console.log(minuti,secondi,min,sec);\r\n\r\n      return min + ':' + sec;\r\n    } else {\r\n      return '00:00';\r\n    }\r\n  }\r\n\r\n  startTimerAndroid() {\r\n    this.utility.scriveDebug(this, 'Start Timer Android. Inizio');\r\n    this.accendeOpacita();\r\n\r\n    /* if (this.timerAndroid) {\r\n      this.pauseTimer();\r\n    } */\r\n    this.scaricatoAutomaticamente = false;\r\n    this.caricatoProssimoBrano = -1;\r\n    this.titoloBranoAutomatico = '';\r\n    this.fFiles.operazioneSuFile = '';\r\n\r\n    /* this.timerAndroid = workerTimers.setInterval(() => {\r\n      this.funzionteTick();\r\n    }, 1000); */\r\n    // if (!this.classeTimer) {\r\n      this.classeTimer = new ClasseTimer(this);\r\n      this.classeTimer.parto();\r\n    // }\r\n  }\r\n\r\n  /* startTimer() {\r\n    this.utility.scriveDebug(this, 'Start Timer. Inizio');\r\n    this.accendeOpacita();\r\n\r\n    if (this.interval) {\r\n      this.pauseTimer();\r\n    }\r\n    this.scaricatoAutomaticamente = false;\r\n    this.caricatoProssimoBrano = -1;\r\n    this.titoloBranoAutomatico = '';\r\n    this.fFiles.operazioneSuFile = '';\r\n\r\n    this.interval = setInterval(() => {\r\n      this.funzionteTick();\r\n    }, 1000);\r\n  } */\r\n\r\n  funzioneTick() {\r\n    if (this.mascheraBrani) {\r\n      this.accendeOpacita();\r\n      this.contaTimerOpacity = 0;\r\n    }\r\n    // console.log(this.posizioneBrano);\r\n    this.posizioneBrano++;\r\n    // this.utility.scriveDebug(this, 'Posizione brano: ' + this.posizioneBrano + ' Durata: ' + this.tempoTotaleBrano);\r\n\r\n    this.utility.scriveDebug(this, 'Tick1: ' + this.posizioneBrano);\r\n\r\n    this.tempoPassato = this.converteTempo(this.posizioneBrano);\r\n    this.utility.scriveDebug(this, 'Tick2: ' + this.tempoPassato);\r\n\r\n    if (this.deviceGirante !== 'Android') {\r\n      if ((this.audio.ended || this.posizioneBrano > this.tempoTotaleBrano) && this.impostatoBranoFinito === false) {\r\n        // clearInterval(this.interval);\r\n        this.impostatoBranoFinito = true;\r\n        this.utility.scriveDebug(this, 'Fine brano, carico il successivo');\r\n        if (this.caricatoProssimoBrano > -1) {\r\n          this.numeroBrano = this.caricatoProssimoBrano;\r\n        } else {\r\n          this.numeroBrano = this.prendeNumeroProssimoBrano(2);\r\n        }\r\n        this.numeroBranoAttuale = this.numeroBrano;      \r\n        // console.log(this.numeroBrano);\r\n        // return;\r\n\r\n        if (this.numeroBrano > 0) {\r\n          this.caricaBrano.caricaBrano(this);\r\n\r\n          this.utility.scriveDebug(this, 'Fine brano, caricato il successivo: ' + this.numeroBrano);\r\n        }\r\n      }\r\n    } else {\r\n      // if (this.durata === -1) {\r\n        if (this.audioAndroid) {\r\n          const dur = this.audioAndroid.getDuration();\r\n          this.utility.scriveDebug(this, 'Tick. Durata: ' + dur + ' - ' + this.durata);\r\n          if (dur > 0 && dur > this.durata) {\r\n            // setTimeout(() => {\r\n              this.durata = dur;\r\n              this.utility.scriveDebug(this, 'Arrivata durata brano:' + this.durata);\r\n              this.tempoTotaleBrano = this.durata;\r\n              this.tempoTotale = this.converteTempo(this.durata);\r\n              this.utility.scriveDebug(this, 'Conversione durata brano:' + this.tempoTotale);\r\n            // }, 2000);\r\n          }\r\n        }\r\n      // }\r\n      \r\n      if (this.durata > -1) {\r\n        if (this.posizioneBrano > 15 && this.tempoTotaleBrano > 75 && !this.scaricatoAutomaticamente && this.posizioneBrano < 25) {\r\n          this.utility.scriveDebug(this, 'Start timer. Prendo prossimo brano in automatico');\r\n          // Prende prossimo brano\r\n          this.gestAndroid.scaricaProssimoBranoInAutomatico(this);\r\n        }\r\n  \r\n        if (this.posizioneBrano > this.tempoTotaleBrano && this.impostatoBranoFinito === false) {\r\n          // clearInterval(this.interval);\r\n          this.impostatoBranoFinito = true;\r\n          this.utility.scriveDebug(this, 'Fine brano, carico il successivo');\r\n          if (this.caricatoProssimoBrano > -1) {\r\n            this.numeroBrano = this.caricatoProssimoBrano;\r\n          } else {\r\n            this.numeroBrano = this.prendeNumeroProssimoBrano(2);\r\n          }\r\n          this.numeroBranoAttuale = this.numeroBrano;      \r\n          // console.log(this.numeroBrano);\r\n          // return;\r\n\r\n          if (this.numeroBrano > 0) {\r\n            this.caricaBrano.caricaBrano(this);\r\n\r\n            this.utility.scriveDebug(this, 'Fine brano, caricato il successivo: ' + this.numeroBrano);\r\n          }\r\n        }\r\n      }\r\n      this.utility.scriveDebug(this, 'Tick. Uscita');\r\n    }\r\n\r\n    this.contaTimerOpacity++;\r\n    if (this.contaTimerOpacity === 5) {\r\n      this.opacita = .05;\r\n    }\r\n    // this.contaTimer++;\r\n    // if (this.contaTimer > 15) {\r\n    //   this.cambiaImmagine();\r\n      // console.log(this.immagineSfondo);\r\n    // }\r\n  }\r\n\r\n  startTimerImmagine() {\r\n    if (this.moadalitaLite === true) {\r\n      return;\r\n    }\r\n\r\n    if (this.modalitaYouTube === 'S') {\r\n      return;\r\n    }\r\n\r\n    this.utility.scriveDebug(this, 'Start timer immagine');\r\n    if (this.intervalImmagine) {\r\n      clearInterval(this.intervalImmagine);\r\n    }\r\n    if (this.cicla === true || (this.cicla === false && this.staSuonando)) {\r\n      this.intervalImmagine = setInterval(() => {\r\n        clearInterval(this.intervalImmagine);\r\n        if (this.modalitaYouTube === 'S') {\r\n          return;\r\n        }\r\n    \r\n        if (this.sfuma) {\r\n          this.cambiaImmagine1();\r\n        } else {\r\n          this.cambiaImmagine2();\r\n        }\r\n      }, 15000)\r\n    }\r\n  }\r\n\r\n  cambiaImmagine1() {\r\n    if (this.modalitaYouTube === 'S') {\r\n      return;\r\n    }\r\n\r\n    // console.log('Cambia immagine 1');\r\n    if (this.timerInterval1) {\r\n      clearInterval(this.timerInterval1);\r\n    }\r\n    this.timerInterval1 = setInterval(() => {\r\n      // console.log(this.opacitaImmagine1, this.opacitaImmagine2);\r\n\r\n      this.opacitaImmagine1 -= .05;\r\n      this.opacitaImmagine2 -= .05;\r\n\r\n      if (+this.opacitaImmagine1 < 0) {\r\n        this.opacitaImmagine1 = 0;\r\n      }\r\n      if (+this.opacitaImmagine2 < 0) {\r\n        this.opacitaImmagine1 = 0;\r\n        this.opacitaImmagine2 = 0;\r\n\r\n        clearInterval(this.timerInterval1);\r\n\r\n        this.utility.scriveDebug(this, 'Cambio immagine');\r\n        this.cambiaImmagine2();\r\n      }\r\n    }, 150);\r\n  }\r\n\r\n  prendeImmagine() {\r\n    this.contaTimer = 0;\r\n    const r = Math.floor(Math.random() * (this.quanteImmagini - this.inizioImmagini + 1) + this.inizioImmagini);\r\n    console.log('PRENDE IMMAGINE', r, this.quanteImmagini, this.inizioImmagini);\r\n\r\n    if (this.immagini && this.immagini[r]) {\r\n      if (this.immagini[r].immagine.indexOf('.gif') === -1) {\r\n        this.appoSfondo = this.apiService.ritornaUrlImmagine() + 'ImmaginiMusica/' + this.artista + '/' +\r\n          this.immagini[r].cartella + '/' + this.immagini[r].immagine;\r\n      } else {\r\n        this.appoSfondo = this.apiService.ritornaUrlImmagine() + 'GifsMusica/' + this.artista + '/' + this.immagini[r].immagine;\r\n      }\r\n    }\r\n    this.immaginiCambiate++;\r\n    if (this.immaginiCambiate > 5) {\r\n      this.immaginiCambiate = 0;\r\n      this.scaricaNuovaImmagine();\r\n    }\r\n    // console.log('Cambio immagine', this.appoSfondo, this.immaginiCambiate);\r\n  }\r\n\r\n  cambiaImmagine2() {\r\n    if (this.timerInterval2) {\r\n      clearInterval(this.timerInterval2);\r\n    }\r\n    if (this.modalitaYouTube === 'S') {\r\n      return;\r\n    }\r\n\r\n    let conta = 0;\r\n    this.finitoAttesa = false;\r\n    this.erroreImmagine = false;\r\n\r\n    this.timerInterval2 = setInterval(() => {\r\n      if (this.finitoAttesa === true) {\r\n        this.utility.scriveDebug(this, 'Fine attesa immagine: ' + conta);\r\n        if (this.erroreImmagine === true) {\r\n          conta++;\r\n          if (+conta < 5) {\r\n            // console.log('Riprovo dopo Fine attesa 2', conta);\r\n            this.finitoAttesa = false;\r\n            this.erroreImmagine = false;\r\n            this.controllaImmagineSeEsiste();          \r\n          } else {\r\n            clearInterval(this.timerInterval2);\r\n            this.appoSfondo = 'assets/immagini/looWPIcon.png';\r\n            setTimeout(() => {\r\n              this.immagineSfondo = this.appoSfondo;\r\n\r\n              this.utility.scriveDebug(this, 'Immagine sfondo: ' + this.immagineSfondo);\r\n                            \r\n              if (this.deviceGirante === 'Android') {\r\n                const b = this.appoSfondo.split('/');\r\n\r\n                this.file.writeFile(this, 3, 'LooigiSoft', 'looWebPlayer/Immagini/' + this.artista + '/' +\r\n                  this.album + '/' + b[b.length - 1], this.immagineSfondo).then((Ritorno) => {\r\n                });\r\n              }\r\n\r\n              this.cambiaImmagine3();\r\n            }, 100);\r\n          }\r\n        } else {\r\n          clearInterval(this.timerInterval2);\r\n        }\r\n      }\r\n    }, 0, 1000)\r\n\r\n    this.controllaImmagineSeEsiste();\r\n  }\r\n\r\n  controllaImmagineSeEsiste() {\r\n    if (!this.isConnected) {\r\n      return;\r\n    }\r\n\r\n    this.prendeImmagine();\r\n\r\n    let imm = this.appoSfondo;\r\n    imm = imm.replace(this.urlImmagine, '');\r\n    imm = imm.replace('Immagini/', '');\r\n    this.utility.scriveDebug(this, 'Controllo immagine se esiste: ' + imm);\r\n\r\n    this.apiService.esisteImm(\r\n      imm\r\n    ).map(response => this.apiService.controllaRitorno(response))\r\n    .subscribe(\r\n      data => {\r\n        if (data) {\r\n          const data2 = this.apiService.prendeSoloDatiValidi(data);\r\n          // console.log('Controllo immagine se esiste. Ritorno: ', data2);\r\n          this.finitoAttesa = true;\r\n          if (data2.indexOf('ERROR:') === -1) {\r\n            setTimeout(() => {\r\n              this.appoSfondo = data2;\r\n              this.immagineSfondo = this.appoSfondo;\r\n\r\n              this.utility.scriveDebug(this, 'Immagine sfondo dopo controllo: ' + this.immagineSfondo);\r\n                            \r\n              /* \r\n              QUI PER SALVARE TUTTE LE IMMAGINI CHE GIRANO\r\n              if (this.deviceGirante === 'Android') {\r\n                const b = this.appoSfondo.split('/');\r\n\r\n                this.utility.scriveImmagineSeNonEsiste(this, this.artista, this.album, b[b.length - 1], this.immagineSfondo);\r\n              } */\r\n\r\n              // this.cambiaImmagine3();\r\n            }, 100);\r\n          } else {\r\n            this.erroreImmagine = true;\r\n            // alert(data2);\r\n            // this.utility.visualizzaMessaggio(this, 'Controllo immagine: ' + data2, true);\r\n          }\r\n        }\r\n      },\r\n      (error) => {\r\n        this.erroreImmagine = true;\r\n        if (error instanceof Error) {\r\n          this.utility.visualizzaMessaggio(this, 'Controllo Immagine: ' + error.message, true);\r\n        }\r\n      }\r\n    );\r\n  }\r\n\r\n  cambiaImmagine3() {\r\n    const t = setInterval(() => {\r\n      // console.log(this.opacitaImmagine1, this.opacitaImmagine2);\r\n\r\n      this.opacitaImmagine1 += .05;\r\n      this.opacitaImmagine2 += .05;\r\n\r\n      if (+this.opacitaImmagine1 > 1) {\r\n        this.opacitaImmagine1 = 1;\r\n      }\r\n      if (+this.opacitaImmagine2 > .85) {\r\n        this.opacitaImmagine1 = .65;\r\n        this.opacitaImmagine2 = .85;\r\n\r\n        clearInterval(t);\r\n\r\n        this.startTimerImmagine();\r\n      }\r\n    }, 150);\r\n  }\r\n\r\n  pauseTimer() {\r\n    // if (this.deviceGirante === 'Android') {\r\n      if (this.classeTimer) {\r\n        // this.timerAndroid = undefined;\r\n        // workerTimers.clearInterval(this.timerAndroid);\r\n        this.classeTimer.stoppaTimer();\r\n        this.classeTimer = undefined;\r\n      }\r\n    /* } else {\r\n      if (this.interval) {\r\n        clearInterval(this.interval);\r\n      }\r\n    } */\r\n  }\r\n\r\n  getUrl() {\r\n    if (this.immagineSfondo && this.immagineSfondo !== '') {\r\n      // console.log('url(\\'' + this.immagineSfondo.replace('\\'', '%27').replace(' ', '%20') + '\\')');\r\n      return 'url(\\'' + this.immagineSfondo.replace('\\'', '%27').replace(' ', '%20') + '\\')';\r\n    } else {\r\n      return null;\r\n    }\r\n  }\r\n\r\n  play(s) {\r\n   this.accendeOpacita();\r\n\r\n   if (s === false) {\r\n      this.staSuonando = false;\r\n      if (this.deviceGirante !== 'Android') {\r\n        if (this.audio) {\r\n          this.audio.pause();\r\n        }\r\n      } else {\r\n        if (this.audioAndroid) {\r\n          this.audioAndroid.pause();\r\n        }\r\n      }\r\n\r\n      if (this.videoNONCaricato === true) {\r\n        if (this.videoplayer) {\r\n          this.videoplayer.pauseVideo();\r\n        }\r\n      } else {\r\n        if (this.videoplayerLocale) {\r\n          // this.videoplayerLocale.nativeElement.mute();\r\n          this.videoplayerLocale.nativeElement.pause();\r\n        }\r\n      }\r\n\r\n      this.pauseTimer();\r\n      \r\n      if (this.cicla === false) {\r\n        clearInterval(this.intervalImmagine);\r\n      }\r\n    } else {\r\n      this.staSuonando = true;\r\n      if (this.deviceGirante !== 'Android') {\r\n        if (this.audio) {\r\n          if (!this.staCaricandoVideo) {\r\n            this.audio.play();\r\n          }\r\n        }\r\n      } else {\r\n        if (this.audioAndroid) {\r\n          if (!this.staCaricandoVideo) {\r\n            this.audioAndroid.play();\r\n          }\r\n        }\r\n      }\r\n\r\n      if (this.videoNONCaricato === true) {\r\n        if (this.videoplayer) {\r\n          this.videoplayer.playVideo();\r\n        }\r\n      } else {\r\n        if (this.videoplayerLocale) {\r\n          // this.videoplayerLocale.nativeElement.mute();\r\n          this.videoplayerLocale.nativeElement.play();\r\n        }\r\n      }\r\n\r\n      this.pauseTimer();\r\n\r\n      if (this.modalitaYouTube === 'N') {\r\n        if (this.deviceGirante === 'Android') {\r\n          this.startTimerAndroid();\r\n        } else {\r\n          // this.startTimer();\r\n          this.startTimerAndroid();\r\n        }\r\n      }\r\n\r\n      // if (this.cicla === false) {\r\n        this.startTimerImmagine();\r\n      // }\r\n    }\r\n  }\r\n\r\n  indietroBrano() {\r\n    this.utility.scriveDebug(this, 'Indietro brano.');\r\n    if (ComponentFile.staScaricandoFile === true) {\r\n      this.utility.scriveDebug(this, 'Indietro brano, download in corso. Lo interrompo.');\r\n      ComponentFile.interrompiDownload = true;\r\n    }\r\n\r\n    this.accendeOpacita();\r\n\r\n    // if (this.interval) {\r\n    //   clearInterval(this.interval);\r\n    // }\r\n    this.pauseTimer();\r\n\r\n    this.impostatoBranoFinito = false;\r\n\r\n    this.staCaricandoVideo = true;\r\n    if (this.videoNONCaricato === true) {\r\n      try {\r\n        this.videoplayer.stopVideo();\r\n      } catch (e) {\r\n\r\n      }\r\n    } else {\r\n      try {\r\n        // this.videoplayerLocale.nativeElement.mute();\r\n        this.videoplayerLocale.nativeElement.stop();\r\n      } catch (e) {\r\n\r\n      }\r\n    }\r\n\r\n    if (this.ascoltata > 0) {\r\n      this.ascoltata--;\r\n      // console.log('Indietro', this.ascoltati, this.ascoltati[this.ascoltata]);\r\n\r\n      let brano = undefined;\r\n      this.braniFiltrati.forEach(element => {\r\n        if (!brano) {\r\n          element.children.forEach(element2 => {\r\n            if (!brano) {\r\n              element2.children.forEach(element3 => {\r\n                if (!brano) {\r\n                  if (+element3.id === +this.ascoltati[this.ascoltata]) {\r\n                    brano = element3;\r\n                  }\r\n                }\r\n              });\r\n            }\r\n          });\r\n        }\r\n      });\r\n        \r\n      this.numeroBrano = brano.id; //  this.ascoltati[this.ascoltata];\r\n      this.numeroBranoAttuale = brano.id;\r\n      // console.log(this.numeroBrano, this.ascoltati[this.ascoltata]);\r\n      if (this.deviceGirante !== 'Android') {\r\n        this.audio.pause();\r\n      } else {\r\n        this.audioAndroid.pause();\r\n      }\r\n      this.caricaBrano.caricaBrano(this);\r\n    }\r\n  }\r\n\r\n  accendeOpacita() {\r\n    if (this.modalitaYouTube === 'N') {\r\n      this.opacita = .95;\r\n      this.contaTimerOpacity = 0;\r\n    }\r\n  }\r\n\r\n  avantiBrano() {\r\n    this.utility.scriveDebug(this, 'Avanti brano, carico il successivo. Brani filtrati: ' + this.braniFiltrati.length + ' - Dati JSON: ' + this.datiJSON.length);\r\n\r\n    if (!this.braniFiltrati || !this.datiJSON) {\r\n      return;\r\n    }\r\n\r\n    /* if (this.interval) {\r\n      clearInterval(this.interval);\r\n    } */\r\n    this.pauseTimer();\r\n    \r\n    if (this.intervalDurata) {\r\n      clearInterval(this.intervalDurata);\r\n    }\r\n\r\n    this.impostatoBranoFinito = false;\r\n\r\n    if (ComponentFile.staScaricandoFile === true) {\r\n      this.utility.scriveDebug(this, 'Avanti brano, download in corso. Lo interrompo.');\r\n      ComponentFile.interrompiDownload = true;\r\n    }\r\n\r\n    this.accendeOpacita();\r\n\r\n    // console.log(this.ascoltata, this.ascoltate, this.ascoltati);\r\n    this.staCaricandoVideo = true;\r\n    if (this.videoNONCaricato === true) {\r\n      try {\r\n        this.videoplayer.stopVideo();\r\n      } catch (e) {\r\n\r\n      }\r\n    } else {\r\n      try {\r\n        // this.videoplayerLocale.nativeElement.mute();\r\n        this.videoplayerLocale.nativeElement.stop();\r\n      } catch (e) {\r\n\r\n      }\r\n    }\r\n\r\n    this.utility.scriveDebug(this, 'Avanti brano, ascoltata ' + this.ascoltata + '/' + this.ascoltate);\r\n    if (this.ascoltata <= this.ascoltate) {\r\n      this.ascoltata++;\r\n      this.numeroBrano = this.ascoltati[this.ascoltata];\r\n      this.numeroBranoAttuale = this.numeroBrano;\r\n      this.utility.scriveDebug(this, 'Avanti brano, prendo vecchio: ' + this.numeroBrano);\r\n      if (this.deviceGirante !== 'Android') {\r\n        if (this.audio) {\r\n          this.audio.pause();\r\n        }\r\n      } else {\r\n\r\n      }\r\n      this.caricaBrano.caricaBrano(this);\r\n    } else {\r\n      this.ascoltata++;\r\n      if (this.deviceGirante !== 'Android') {\r\n        if (this.audio) {\r\n          this.audio.pause();\r\n        }\r\n      } else {\r\n        if (this.audioAndroid) {\r\n          this.audioAndroid.pause();\r\n        }\r\n      }\r\n\r\n      this.utility.scriveDebug(this, 'Avanti brano, cerco nuovo');\r\n      this.utility.scriveDebug(this, 'Avanti brano, brano caricato automaticamente: ' + this.caricatoProssimoBrano);\r\n      if (this.caricatoProssimoBrano > -1) {\r\n        this.numeroBrano = this.caricatoProssimoBrano;\r\n      } else {\r\n        this.numeroBrano = this.prendeNumeroProssimoBrano(1);\r\n      }\r\n      this.numeroBranoAttuale = this.numeroBrano;\r\n      this.utility.scriveDebug(this, 'Avanti brano, prendo nuovo: ' + this.numeroBrano);\r\n      if (this.numeroBrano === -1) {\r\n        this.utility.scriveDebug(this, 'Avanti brano. Ritornato -1. Ricarico un altro');\r\n        setTimeout(() => {\r\n          this.avantiBrano();\r\n        }, 100);\r\n        return;\r\n      }\r\n      this.ascoltati.push(this.numeroBrano);\r\n      // console.log(this.numeroBrano);\r\n      /* let q = 0;\r\n      while(this.numeroBrano === -1 && q !== -1) {\r\n        this.numeroBrano = this.prendeNumeroProssimoBrano(3);\r\n        // console.log(this.numeroBrano);\r\n        q++;\r\n        if (q === 100) {\r\n          q = -1;\r\n          console.log('----------------------------------');\r\n          console.log('ERRORE SU RILEVAMENTO BRANI');\r\n          console.log('Quanti Brani Selezionati: ', this.ultimoFiltroArray.length);\r\n          console.log('Brani: ', this.datiJSON);\r\n          console.log('----------------------------------');\r\n          alert('Problemi con la rilevazione del nuovo brano. Guardare la console');\r\n        }\r\n      } */\r\n\r\n      // console.log(this.numeroBrano);\r\n      // return;\r\n\r\n      this.caricaBrano.caricaBrano(this);\r\n\r\n      this.utility.scriveDebug(this, 'Avanti brano. Caricato');\r\n    }\r\n\r\n    // console.log('Avanti brano. Imposto bellezza');\r\n    // return;\r\n\r\n    this.impostaBellezza();\r\n\r\n    // console.log(this.ascoltati, this.ascoltata);\r\n  }\r\n\r\n  prendeNumeroProssimoBrano(daDove) {\r\n    if (!this.braniFiltrati) {\r\n      alert('Nessun brano in archivio');\r\n      return;\r\n    }\r\n    // this.debuggone = '';\r\n    let random: number = -1;\r\n    let q = 0;\r\n    let brano = undefined;\r\n\r\n    // console.log(this.braniFiltrati);\r\n    // const quantiBraniSelezionati = this.braniFiltrati.length;\r\n    this.utility.scriveDebug(this, 'Modalità Random: ' + this.random);\r\n\r\n    // if (!this.quantiBraniFiltrati || this.quantiBraniFiltrati === 0) {\r\n    //   this.quantiBraniFiltrati = this.braniFiltrati.length;\r\n    // }\r\n    let tentativi = 0;\r\n    let esce = false;\r\n\r\n    while ((!brano || !brano.id || brano.id === '') && esce === false) {\r\n      if (this.random === 'S') {\r\n        this.utility.scriveDebug(this, 'Inizio Random: ' + random);\r\n        this.utility.scriveDebug(this, 'Già preso: ' + this.braniFiltrati[random]);\r\n        this.utility.scriveDebug(this, 'Quanti brani filtrati: ' + this.quantiBraniFiltrati);\r\n        // while (random === -1 || this.braniFiltrati[random] === '' || !this.braniFiltrati[random]) {\r\n        while (random === -1) {\r\n          random = Math.floor(Math.random() * (this.quantiBraniFiltrati - 1 + 1)) + 1;\r\n          this.utility.scriveDebug(this, 'Testo Random: ' + random);\r\n        }\r\n        this.utility.scriveDebug(this, 'Fine Random: ' + random);\r\n      } else {\r\n        random = this.numeroBrano + 1;\r\n        if (random > this.quantiBraniFiltrati - 1) {\r\n          random = 1;\r\n        }\r\n      }\r\n      // const id = this.braniFiltrati[random];\r\n\r\n      this.utility.scriveDebug(this, 'Brani filtrati: ' + this.quantiBraniFiltrati);\r\n      this.utility.scriveDebug(this, 'Random: ' + random);\r\n      \r\n      if (this.braniFiltrati) {\r\n        this.braniFiltrati.forEach(element => {\r\n          if (!brano) {\r\n            element.children.forEach(element2 => {\r\n              if (!brano) {\r\n                element2.children.forEach(element3 => {\r\n                  if (!brano) {\r\n                    q++;\r\n                    if (q === random) {\r\n                      brano = element3;\r\n                      this.pathBranoProssimo = element3.path;\r\n                      this.branoPresenteSuSD = element3.locale;\r\n                    }\r\n                  }\r\n                });\r\n              }\r\n            });\r\n          }\r\n        });\r\n      }\r\n\r\n      if (this.deviceGirante === 'Android' && this.isConnected === false && this.branoPresenteSuSD === false) {\r\n        brano = undefined;\r\n        this.utility.scriveDebug(this, 'Assenza di connessione, dispositivo Android e brano non su SD. Riprovo');\r\n      } else {\r\n        if (!brano.id || brano.id === '') {\r\n          this.utility.scriveDebug(this, 'Nessuna informazione sul brano. Riprovo a cercarne un altro');\r\n          tentativi++;\r\n          if (tentativi > 10) {\r\n            alert('Troppi tentativi nel rilevare il numero del brano');\r\n            esce = true;\r\n          }\r\n        } else {\r\n          this.utility.scriveDebug(this, 'Brano rilevato con id ' + random  + ': ' + JSON.stringify(brano));\r\n          this.utility.scriveDebug(this, 'ID Brano rilevato: ' + brano.id);\r\n          this.utility.scriveDebug(this, 'Brano rilevato: ' + brano.text);\r\n          this.utility.scriveDebug(this, 'Path brano: ' + this.pathBranoProssimo);    \r\n        }\r\n      }\r\n    }\r\n    \r\n    if (this.deviceGirante === 'Android' && this.branoPresenteSuSD && brano.text && brano.text !== '') {\r\n      ComponentFile.filesInMemoria.forEach(element => {\r\n        if (element.toUpperCase().indexOf(brano.text.toUpperCase().trim()) > -1) {\r\n          this.branoPresenteSuSD = true;\r\n        }\r\n      });\r\n    }\r\n\r\n    this.caricatoProssimoBrano = -1;\r\n    \r\n    this.utility.scriveDebug(this, 'Brano su SD: ' + this.branoPresenteSuSD);\r\n\r\n    if (brano && brano.id) {\r\n      return brano.id;\r\n    } else {\r\n      return -1;\r\n    }\r\n  }\r\n\r\n  cambioSelezioneTV(e) {\r\n    if (this.nonSalvareFiltro === true) {\r\n      return;\r\n    }\r\n\r\n    this.braniFiltrati = ',' + e.toString() + ',';\r\n    // console.log('Cambio selezione', e)\r\n    // this.ultimoFiltroArray = this.braniFiltrati.split(',');\r\n    // console.log(this.ultimoFiltroArray);\r\n    this.contaTimerSalvataggio = 0;\r\n    this.accendeTimerSalvataggio();\r\n  }\r\n\r\n  cambioFiltroTV(e) {\r\n    // console.log(e);\r\n    // console.log(this.itemsCanzoniFiltrate);\r\n  }\r\n\r\n  accendeTimerSalvataggio() {\r\n    if (this.intervalSalvataggio) {\r\n      clearInterval(this.intervalSalvataggio);\r\n    }\r\n    this.intervalSalvataggio = setInterval(() => {\r\n      this.contaTimerSalvataggio++;\r\n      if (this.contaTimerSalvataggio === 2) {\r\n        this.contaTimerSalvataggio = 0;\r\n        clearInterval(this.intervalSalvataggio);\r\n\r\n        // localStorage.setItem('Dati_' + this.letteraItem, this.ultimoFiltro);\r\n        // console.log('Filtro salvato');\r\n      }\r\n    }, 1000);\r\n  }\r\n\r\n  sistemaTesto(testo) {\r\n    let t = '';\r\n    if (testo) {\r\n      t = testo;\r\n      while (t.indexOf('***PV***') > -1) {\r\n        t = t.replace('***PV***', ';');\r\n      }\r\n      while (t.indexOf('§') > -1) {\r\n        t = t.replace('§', '<br />');\r\n      }\r\n      while (t.indexOf('%20') > -1) {\r\n        t = t.replace('%20', ' ');\r\n      }\r\n    }\r\n\r\n    return t;\r\n  }\r\n\r\n  refreshCanzoni() {\r\n    if (!this.isConnected) {\r\n      return;\r\n    }\r\n\r\n    if (confirm('Si vogliono ricaricare i dati delle canzoni ?')) {\r\n      this.refreshCanzoniSenzaDomanda();\r\n    }\r\n  }\r\n\r\n  refreshCanzoniSenzaDomanda() {\r\n    if (!this.isConnected) {\r\n      return;\r\n    }\r\n\r\n    this.caricamentoInCorso = true;\r\n    this.apiService.refreshDB(\r\n      this.idUtenza\r\n    ).map(response => this.apiService.controllaRitorno(response))\r\n    .subscribe(\r\n      data => {\r\n        if (data) {\r\n          this.caricamentoInCorso = false;\r\n          const data2 = this.apiService.prendeSoloDatiValidi(data);\r\n          // console.log(data2);\r\n          if (data2.indexOf('ERROR:') === -1) {\r\n            this.utility.visualizzaMessaggio(this, 'Refresh Brani: Dati ricaricati', false);\r\n            // localStorage.removeItem('bellezzeJSON');\r\n            // // this.caricaTutto();\r\n          } else {\r\n            // alert(data2);\r\n            this.utility.visualizzaMessaggio(this, 'Refresh brani: ' + data2, true);\r\n          }\r\n        }\r\n      },\r\n      (error) => {\r\n        if (error instanceof Error) {\r\n          this.utility.visualizzaMessaggio(this, 'Refresh Brani: ' + error.message, true);\r\n        }\r\n      }\r\n    );\r\n  }\r\n\r\n  refreshCanzoniHARD(chiedeConferma) {\r\n    if (!this.isConnected) {\r\n      return;\r\n    }\r\n\r\n    if (!chiedeConferma) {\r\n      this.refreshCanzoniSenzaDomandaHard();\r\n    } else {\r\n      if (confirm('Si vogliono ricaricare COMPLETAMENTE i dati delle canzoni ?\\nL\\'operazione sarà molto lunga')) {\r\n        this.refreshCanzoniSenzaDomandaHard();\r\n      }\r\n    }\r\n  }\r\n\r\n  refreshCanzoniSenzaDomandaHard() {\r\n    if (!this.isConnected) {\r\n      return;\r\n    }\r\n\r\n    this.caricamentoInCorso = true;\r\n    this.apiService.refreshDBHard(\r\n      this.idUtenza\r\n    ).map(response => this.apiService.controllaRitorno(response))\r\n    .subscribe(\r\n      data => {\r\n        if (data) {\r\n          this.caricamentoInCorso = false;\r\n          const data2 = this.apiService.prendeSoloDatiValidi(data);\r\n          // console.log(data2);\r\n          if (data2.indexOf('ERROR:') === -1) {\r\n            this.utility.visualizzaMessaggio(this, 'Refresh Brani: Dati ricaricati', false);\r\n            // localStorage.removeItem('bellezzeJSON');\r\n            // // this.caricaTutto();\r\n          } else {\r\n            // alert(data2);\r\n            this.utility.visualizzaMessaggio(this, 'Refresh brani: ' + data2, true);\r\n          }\r\n        }\r\n      },\r\n      (error) => {\r\n        if (error instanceof Error) {\r\n          this.utility.visualizzaMessaggio(this, 'Refresh Brani: ' + error.message, true);\r\n        }\r\n      }\r\n    );\r\n  }\r\n\r\n  effettuaReplace(str, find, replace) {\r\n    const escapedFind = find.replace(/([.*+?^=!:${}()|\\[\\]\\/\\\\])/g, '\\\\$1');\r\n    return str.replace(new RegExp(escapedFind, 'g'), replace);\r\n  }\r\n\r\n  tuttoSchermo() {\r\n    if (this.bTuttoSchermo) {\r\n      if (this.document.exitFullscreen) {\r\n        this.document.exitFullscreen();\r\n      } else if (this.document.mozCancelFullScreen) {\r\n        /* Firefox */\r\n        this.document.mozCancelFullScreen();\r\n      } else if (this.document.webkitExitFullscreen) {\r\n        /* Chrome, Safari and Opera */\r\n        this.document.webkitExitFullscreen();\r\n      } else if (this.document.msExitFullscreen) {\r\n        /* IE/Edge */\r\n        this.document.msExitFullscreen();\r\n      }\r\n      this.bTuttoSchermo = false;\r\n    } else {\r\n      if (this.elem.requestFullscreen) {\r\n        this.elem.requestFullscreen();\r\n      } else if (this.elem.mozRequestFullScreen) {\r\n        /* Firefox */\r\n        this.elem.mozRequestFullScreen();\r\n      } else if (this.elem.webkitRequestFullscreen) {\r\n        /* Chrome, Safari and Opera */\r\n        this.elem.webkitRequestFullscreen();\r\n      } else if (this.elem.msRequestFullscreen) {\r\n        /* IE/Edge */\r\n        this.elem.msRequestFullscreen();\r\n      }\r\n      this.bTuttoSchermo = true;\r\n    }\r\n  }\r\n\r\n  settaStelle(n) {\r\n    if (!this.isConnected) {\r\n      return;\r\n    }\r\n\r\n    // titoloBrano = '';\r\n    // artista = '';\r\n    // album = '';\r\n\r\n    const params = {\r\n      idCanzone: this.numeroBrano,\r\n      Stelle: n\r\n    };\r\n\r\n    this.utility.scriveDebug(this, 'Setta stelle: ' + JSON.stringify(params));\r\n\r\n    this.apiService.impostaStelle(\r\n      this.idUtenza,\r\n      params\r\n    ).map(response => this.apiService.controllaRitorno(response))\r\n    .subscribe(\r\n      data => {\r\n        if (data) {\r\n          const data2 = this.apiService.prendeSoloDatiValidi(data);\r\n          this.utility.scriveDebug(this, 'Setta stelle. Ritorno: ' + data2);\r\n          if (data2.indexOf('ERROR:') === -1) {\r\n            for (let i = 0; i < n; i++) {\r\n              this.bellezza[i] = 'assets/immagini/preferito.png';\r\n            }\r\n            for (let i = n; i <= 10; i++) {\r\n              this.bellezza[i] = 'assets/immagini/preferito_vuoto.png';\r\n            }\r\n            this.utility.visualizzaMessaggio(this, 'Stelle impostate: ' + n, false);\r\n\r\n            this.datiJSON.forEach(element => {\r\n              element.children.forEach(element2 => {\r\n                element2.children.forEach(element3 => {\r\n                  if (element3.id === this.numeroBrano) {\r\n                    element3.Stelle = n;\r\n                  }\r\n                });\r\n              });\r\n            });\r\n\r\n            this.storage.checkTutteLeCanzoni(this);\r\n          } else {\r\n            // alert(data2);\r\n            this.utility.visualizzaMessaggio(this, 'Imposta Stelle: ' + data2, true);\r\n          }\r\n        }\r\n      },\r\n      (error) => {\r\n        if (error instanceof Error) {\r\n          this.utility.visualizzaMessaggio(this, 'Imposta Stelle: ' + error.message, true);\r\n        }\r\n      }\r\n    );\r\n  }\r\n\r\n  clickSuTreeView(e) {\r\n    this.caricatoProssimoBrano = -1;\r\n    const brano = e.srcElement.innerText;\r\n    // console.log(brano);\r\n    setTimeout(() => {\r\n      this.nonSalvareFiltro = false;\r\n    }, 100);\r\n  }\r\n\r\n  cambiaFiltro(e) {\r\n    if (e.length > 1) {\r\n      this.listaFiltrata = new Array();\r\n      this.hover = new Array();\r\n      this.datiJSON.forEach(element => {\r\n        if (\r\n          element.Album.toUpperCase().indexOf(e.toUpperCase()) > -1 ||\r\n          element.Artista.toUpperCase().indexOf(e.toUpperCase()) > -1 ||\r\n          element.Brano.toUpperCase().indexOf(e.toUpperCase()) > -1\r\n        ) {\r\n          this.listaFiltrata.push(element);\r\n          this.hover.push(false);\r\n        }\r\n      });\r\n      // console.log('Filtro:',this.listaFiltrata);\r\n    }\r\n  }\r\n\r\n  selezioneBranoFiltrato(b) {\r\n    // console.log(b);\r\n    this.numeroBrano = b.Id;\r\n    this.numeroBranoAttuale = this.numeroBrano;\r\n\r\n    if (this.deviceGirante !== 'Android') {\r\n      if (this.audio) {\r\n        this.audio.pause();\r\n      }\r\n    } else {\r\n      if (this.audioAndroid) {\r\n        this.audioAndroid.pause();\r\n      }\r\n    }\r\n\r\n    this.caricaBrano.caricaBrano(this);\r\n  }\r\n\r\n  eliminaImmagine() {\r\n    if (!this.isConnected) {\r\n      return;\r\n    }\r\n\r\n    if (this.immagineSfondo === '') {\r\n      alert('Nessuna immagine presente');\r\n      return;\r\n    }\r\n    let imm = this.immagineSfondo;\r\n    imm = imm.replace(this.urlWS, '');\r\n    imm = imm.replace('Brani/', '');\r\n\r\n    if (this.debug === true) {\r\n      console.log(imm);\r\n    }\r\n    this.apiService.eliminaImm(\r\n      imm\r\n    ).map(response => this.apiService.controllaRitorno(response))\r\n    .subscribe(\r\n      data => {\r\n        if (data) {\r\n          const data2 = this.apiService.prendeSoloDatiValidi(data);\r\n          // console.log(data2);\r\n          if (data2.indexOf('ERROR:') === -1) {\r\n            this.cambiaImmagine1();\r\n            // alert('Immagine eliminata');\r\n            this.utility.visualizzaMessaggio(this, 'Immagine eliminata', false);\r\n          } else {\r\n            // alert(data2);\r\n            this.utility.visualizzaMessaggio(this, 'Elimina immagine: ' + data2, true);\r\n          }\r\n        }\r\n      },\r\n      (error) => {\r\n        if (error instanceof Error) {\r\n          this.utility.visualizzaMessaggio(this, 'Elimina immagine: ' + error.message, true);\r\n        }\r\n      }\r\n    );\r\n  }\r\n\r\n  scaricaFileEliminazioni() {\r\n    if (!this.isConnected) {\r\n      return;\r\n    }\r\n\r\n    const nomeFile = this.urlWS + 'Eliminazioni.txt';\r\n    // console.log(nomeFile);\r\n    var xhr = new XMLHttpRequest();\r\n    xhr.open(\"GET\", nomeFile, true);\r\n    xhr.responseType = \"blob\";\r\n    xhr.onload = function(){\r\n        var urlCreator = window.URL || window.webkitURL;\r\n        var imageUrl = urlCreator.createObjectURL(this.response);\r\n        var tag = document.createElement('a');\r\n        tag.href = imageUrl;\r\n        tag.download = 'Eliminazioni.txt';\r\n        document.body.appendChild(tag);\r\n        tag.click();\r\n        document.body.removeChild(tag);\r\n    }\r\n    xhr.send();    \r\n  }\r\n\r\n  scaricaImmagine() {\r\n    if (!this.isConnected) {\r\n      return;\r\n    }\r\n\r\n    let imm = this.immagineSfondo;\r\n    imm = imm.replace(this.urlWS, '');\r\n    imm = imm.replace('Brani/', '');\r\n    const imm2 = imm.split('/');\r\n    const nomeFile = imm2[imm2.length - 1];\r\n    console.log(imm);\r\n\r\n    this.apiService.controllaSeGiaScaricata(\r\n      imm\r\n    ).map(response => this.apiService.controllaRitorno(response))\r\n    .subscribe(\r\n      data => {\r\n        if (data) {\r\n          const data2 = this.apiService.prendeSoloDatiValidi(data);\r\n          console.log(data2);\r\n          if (data2.indexOf('ERROR:') === -1) {\r\n            var xhr = new XMLHttpRequest();\r\n            xhr.open(\"GET\", this.immagineSfondo, true);\r\n            xhr.responseType = \"blob\";\r\n            xhr.onload = function(){\r\n                var urlCreator = window.URL || window.webkitURL;\r\n                var imageUrl = urlCreator.createObjectURL(this.response);\r\n                var tag = document.createElement('a');\r\n                tag.href = imageUrl;\r\n                tag.download = 'looWebPlayer_' + nomeFile;\r\n                document.body.appendChild(tag);\r\n                tag.click();\r\n                document.body.removeChild(tag);\r\n            }\r\n            xhr.send();    \r\n          } else {\r\n            // alert(data2);\r\n            this.utility.visualizzaMessaggio(this, 'Controllo immagine: ' + data2, true);\r\n          }\r\n        }\r\n      },\r\n      (error) => {\r\n        if (error instanceof Error) {\r\n          this.utility.visualizzaMessaggio(this, 'Controllo immagine: ' + error.message, true);\r\n        }\r\n      }\r\n    );\r\n  }\r\n\r\n  settaLinguaggio() {\r\n    // console.log(this.linguaggio);\r\n    if (this.linguaggio === 'OR') {\r\n      this.linguaggio = 'IT';\r\n      this.linguaggioIcona = 'assets/immagini/italiano.png'\r\n    } else {\r\n      this.linguaggio = 'OR';\r\n      this.linguaggioIcona = 'assets/immagini/inglese.png'\r\n    }\r\n    localStorage.setItem('linguaggio', this.linguaggio);\r\n  }\r\n\r\n  eliminaVideo() {\r\n    if (!this.isConnected) {\r\n      return;\r\n    }\r\n\r\n    const vid = this.youTubeVideos[this.numeroVideo].pathUrl;\r\n\r\n    if (this.debug === true) {\r\n      console.log(vid);\r\n    }\r\n    this.apiService.eliminaVideo(\r\n      vid\r\n    ).map(response => this.apiService.controllaRitorno(response))\r\n    .subscribe(\r\n      data => {\r\n        if (data) {\r\n          const data2 = this.apiService.prendeSoloDatiValidi(data);\r\n          // console.log(data2);\r\n          if (data2.indexOf('ERROR:') === -1) {\r\n            this.youTubeVideos[this.numeroVideo].Esiste = 'N';\r\n            this.ytComponent.avanzaVideo(this);\r\n            // alert('Immagine eliminata');\r\n            this.utility.visualizzaMessaggio(this, 'Video eliminato', false);\r\n          } else {\r\n            // alert(data2);\r\n            this.utility.visualizzaMessaggio(this, 'Elimina Video: ' + data2, true);\r\n          }\r\n        }\r\n      },\r\n      (error) => {\r\n        if (error instanceof Error) {\r\n          this.utility.visualizzaMessaggio(this, 'Elimina Video: ' + error.message, true);\r\n        }\r\n      }\r\n    );\r\n  }\r\n\r\n  downloadVideo() {\r\n    if (!this.isConnected) {\r\n      return;\r\n    }\r\n\r\n    const prima = this.youTubeVideos[this.numeroVideo].linkVideo.substring(0, 1);\r\n    const videoSource = this.urlWS + 'YouTube/' + prima + '/' + this.youTubeVideos[this.numeroVideo].linkVideo +\r\n      this.youTubeVideos[this.numeroVideo].estensione;\r\n    console.log('Download ', videoSource);\r\n    const FileSaver = require('file-saver');\r\n    FileSaver.saveAs(videoSource, this.youTubeVideos[this.numeroVideo].linkVideo +\r\n      this.youTubeVideos[this.numeroVideo].estensione);\r\n  }\r\n\r\n  scaricaVideoPregressi() {\r\n    if (!this.isConnected) {\r\n      return;\r\n    }\r\n\r\n    this.apiService.scaricaVideoPregressi(\r\n    ).map(response => this.apiService.controllaRitorno(response))\r\n    .subscribe(\r\n      data => {\r\n        if (data) {\r\n          const data2 = this.apiService.prendeSoloDatiValidi(data);\r\n          // console.log(data2);\r\n          if (data2.indexOf('ERROR:') === -1) {\r\n            this.utility.visualizzaMessaggio(this, data2, false);\r\n          } else {\r\n            // alert(data2);\r\n            this.utility.visualizzaMessaggio(this, data2, true);\r\n          }\r\n        }\r\n      },\r\n      (error) => {\r\n        if (error instanceof Error) {\r\n          this.utility.visualizzaMessaggio(this, 'Scarica Video: ' + error.message, true);\r\n        }\r\n      }\r\n    );\r\n  }\r\n\r\n  scriveVolteAscoltata() {\r\n    if (!this.isConnected) {\r\n      return;\r\n    }\r\n\r\n    this.apiService.scriveVolteAscoltata(\r\n      this.idUtenza,\r\n      this.numeroBrano\r\n    ).map(response => this.apiService.controllaRitorno(response))\r\n    .subscribe(\r\n      data => {\r\n        if (data) {\r\n          const data2 = this.apiService.prendeSoloDatiValidi(data);\r\n          // console.log(data2);\r\n          if (data2.indexOf('ERROR:') === -1) {\r\n            this.ritornaVolteAscoltata()\r\n          }\r\n        }\r\n      },\r\n      (error) => {\r\n        if (error instanceof Error) {\r\n          this.utility.visualizzaMessaggio(this, 'Setta volte ascoltata: ' + error.message, true);\r\n        }\r\n      }\r\n    );\r\n  }\r\n\r\n  ritornaVolteAscoltata() {\r\n    if (!this.isConnected) {\r\n      return;\r\n    }\r\n\r\n    this.apiService.ritornaVolteAscoltata(\r\n      this.idUtenza,\r\n      this.numeroBrano\r\n    ).map(response => this.apiService.controllaRitorno(response))\r\n    .subscribe(\r\n      data => {\r\n        if (data) {\r\n          const data2 = this.apiService.prendeSoloDatiValidi(data);\r\n          // console.log(data2);\r\n          if (data2.indexOf('ERROR:') === -1) {\r\n            this.volteAscoltatoBrano = data2;\r\n          } else {\r\n            this.volteAscoltatoBrano = 0;\r\n          }\r\n        }\r\n      },\r\n      (error) => {\r\n        if (error instanceof Error) {\r\n          this.volteAscoltatoBrano = 0;\r\n          this.utility.visualizzaMessaggio(this, 'Ritorna volte ascoltata: ' + error.message, true);\r\n        }\r\n      }\r\n    );\r\n  }\r\n\r\n  scaricaNuovaImmagine() {\r\n    if (!this.isConnected) {\r\n      return;\r\n    }\r\n\r\n    // console.log('Scaricando nuova immagine', this.artista);\r\n    if (!this.staSuonando) {\r\n      return;\r\n    }\r\n\r\n    this.apiService.ScaricaNuovaImmagine(\r\n      { \r\n        Artista: this.artista,\r\n        Album: '',\r\n        Canzone: ''\r\n      }\r\n    ).map(response => this.apiService.controllaRitorno(response))\r\n    .subscribe(\r\n      data => {\r\n        if (data) {\r\n          const data2 = this.apiService.prendeSoloDatiValidi(data);\r\n          console.log('Scarica nuova immagine', data2);\r\n          if (data2.indexOf('ERROR:') === -1) {\r\n          } else {\r\n          }\r\n        }\r\n      },\r\n      (error) => {\r\n        if (error instanceof Error) {\r\n        }\r\n      }\r\n    );\r\n  }\r\n\r\n  scaricaTesto() {\r\n    if (!this.isConnected) {\r\n      return;\r\n    }\r\n\r\n    this.apiService.ScaricaTesto(\r\n      { \r\n        idCanzone: this.numeroBrano,\r\n        Artista: this.artista,\r\n        Album: this.album,\r\n        Canzone: this.titoloBranoPerTesto\r\n      }\r\n    ).map(response => this.apiService.controllaRitorno(response))\r\n    .subscribe(\r\n      data => {\r\n        if (data) {\r\n          const data2 = this.apiService.prendeSoloDatiValidi(data);\r\n          // console.log(data2);\r\n          if (data2.indexOf('ERROR:') === -1) {\r\n            const d = data2.split('|');\r\n            this.testo = this.sistemaTesto(d[0]);\r\n            this.testoTradotto = this.sistemaTesto(d[1]);\r\n\r\n            console.log(this.testo);\r\n            if (this.testo.indexOf('Nessun testo rilevato') > -1) {\r\n              this.Happi.prendeArtista(this, this.numeroBrano, this.artista, this.album, this.titoloBrano);\r\n            }\r\n          } else {\r\n            this.volteAscoltatoBrano = 0;\r\n            this.utility.visualizzaMessaggio(this, 'Ritorna scarica testo: ' + data2, true);\r\n\r\n            this.Happi.prendeArtista(this, this.numeroBrano, this.artista, this.album, this.titoloBrano);\r\n          }\r\n        }\r\n      },\r\n      (error) => {\r\n        this.volteAscoltatoBrano = 0;\r\n        this.Happi.prendeArtista(this, this.numeroBrano, this.artista, this.album, this.titoloBrano);\r\n        this.utility.visualizzaMessaggio(this, 'Ritorna scarica testo: ' + error.message, true);\r\n      }\r\n    );\r\n  }\r\n\r\n  eliminaBrutte() {\r\n    if (!this.isConnected) {\r\n      return;\r\n    }\r\n\r\n    if (!confirm('Si voglio eliminare le canzoni di bellezza < 4 ?')) {\r\n      return;\r\n    }\r\n    this.apiService.EliminaBrutte(\r\n      this.idUtenza\r\n    ).map(response => this.apiService.controllaRitorno(response))\r\n    .subscribe(\r\n      data => {\r\n        if (data) {\r\n          const data2 = this.apiService.prendeSoloDatiValidi(data);\r\n          console.log(data2);\r\n          if (data2.indexOf('ERROR:') === -1) {\r\n          } else {\r\n            this.utility.visualizzaMessaggio(this, 'Ritorna scarica testo: ' + data2, true);\r\n          }\r\n        }\r\n      },\r\n      (error) => {\r\n        if (error instanceof Error) {\r\n          this.utility.visualizzaMessaggio(this, 'Ritorna scarica testo: ' + error.message, true);\r\n        }\r\n      }\r\n    );\r\n  }\r\n\r\n  gestioneUguali() {\r\n    if (!this.isConnected) {\r\n      return;\r\n    }\r\n\r\n    this.apiService.RitornaUguali(\r\n      ).map(response => this.apiService.controllaRitorno(response))\r\n      .subscribe(\r\n        data => {\r\n          if (data) {\r\n            const data2 = this.apiService.prendeSoloDatiValidi(data);\r\n            // console.log(data2);\r\n            if (data2.indexOf('ERROR:') === -1) {\r\n              this.uguali = new Array();\r\n              const d = data2.split('§');\r\n              d.forEach(element => {\r\n                if (element) {\r\n                  const dd = element.split(';');\r\n                  const ddd = {\r\n                    Artista: dd[0],\r\n                    Brano: dd[1],\r\n                    Quante: dd[2]\r\n                  };\r\n                  this.uguali.push(ddd);\r\n                }\r\n              });\r\n              this.pannelloUtility = false;\r\n              this.mascheraGestioneUguali = true;\r\n\r\n              setTimeout(() => {\r\n                this.settaZIndex(9);\r\n              }, 100);          \r\n            } else {\r\n              this.utility.visualizzaMessaggio(this, 'Ritorna uguali: ' + data2, true);\r\n            }\r\n          }\r\n        },\r\n        (error) => {\r\n          if (error instanceof Error) {\r\n            this.utility.visualizzaMessaggio(this, 'Ritorna uguali: ' + error.message, true);\r\n          }\r\n        }\r\n    );\r\n  }\r\n\r\n  visualizzaUguali(b) {\r\n    if (!this.isConnected) {\r\n      return;\r\n    }\r\n\r\n    this.ugualiSelezionato = b;\r\n    // console.log(b);\r\n    this.apiService.RitornaUgualiDettaglio(\r\n      this.idUtenza, \r\n      {\r\n          Artista: b.Artista,\r\n          Brano: b.Brano\r\n      }\r\n    ).map(response => this.apiService.controllaRitorno(response))\r\n    .subscribe(\r\n      data => {\r\n        if (data) {\r\n          const data2 = this.apiService.prendeSoloDatiValidi(data);\r\n          // console.log('Ritorno uguali dettaglio: ', data2);\r\n          if (data2.indexOf('ERROR:') === -1) {\r\n            const uguali = new Array();\r\n            const d = data2;\r\n            const dd = d.split('§');\r\n            dd.forEach(element => {      \r\n              if (element) {\r\n                const ddd = element.split(';')\r\n                const dddd = {\r\n                  Id: ddd[0],\r\n                  Artista: b.Artista,\r\n                  Brano: b.Brano,\r\n                  Album: ddd[1],\r\n                  Bellezza: ddd[2],\r\n                  Traccia: ddd[3],\r\n                  Anno: ddd[4],\r\n                  Ascoltata: ddd[5]\r\n                };\r\n                uguali.push(dddd);\r\n              }\r\n            });\r\n            this.ugualiDettaglio = uguali;\r\n          } else {\r\n            this.utility.visualizzaMessaggio(this, 'Ritorno uguali dettaglio: ' + data2, true);\r\n          }\r\n        }\r\n      },\r\n      (error) => {\r\n        if (error instanceof Error) {\r\n          this.utility.visualizzaMessaggio(this, 'Ritorno uguali dettaglio: ' + error.message, true);\r\n        }\r\n      }\r\n    );          \r\n  }\r\n\r\n  braniAlbum(b) {\r\n    if (!this.isConnected) {\r\n      return;\r\n    }\r\n\r\n    this.albumSelezionato = b;\r\n    // console.log(b);\r\n    this.apiService.RitornaImmaginiArtista(\r\n      b.artista\r\n      ).map(response => this.apiService.controllaRitorno(response))\r\n      .subscribe(\r\n        data => {\r\n          if (data) {\r\n            const data2 = this.apiService.prendeSoloDatiValidi(data);\r\n            // console.log(data2);\r\n            if (data2.indexOf('ERROR:') === -1) {\r\n              this.immaginiArtista = new Array();\r\n              const d = data2.split('§');\r\n              d.forEach(element => {\r\n                if (element) {\r\n                  const dd = element.split(';');\r\n                  const ddd = {\r\n                    Artista: dd[0],\r\n                    Cartella: dd[1],\r\n                    Immagine: dd[2]\r\n                  };\r\n                  this.immaginiArtista.push(ddd);\r\n                }\r\n              });\r\n              // console.log(this.immaginiArtista);\r\n            } else {\r\n              this.utility.visualizzaMessaggio(this, 'Ritorna immagini artista: ' + data2, true);\r\n            }\r\n          }\r\n        },\r\n        (error) => {\r\n          if (error instanceof Error) {\r\n            this.utility.visualizzaMessaggio(this, 'Ritorna immagini artista: ' + error.message, true);\r\n          }\r\n        }\r\n    );\r\n  }\r\n\r\n  eliminaBranoUguali(b) {\r\n    if (!this.isConnected) {\r\n      return;\r\n    }\r\n\r\n    console.log(b);\r\n    if (confirm('Si vuole eliminare il brano ?')) {\r\n      this.apiService.EliminaBrano(\r\n        this.idUtenza,\r\n        { \r\n          Artista: b.Artista, Album: b.Album, Brano: b.Brano \r\n        }\r\n        ).map(response => this.apiService.controllaRitorno(response))\r\n        .subscribe(\r\n          data => {\r\n            if (data) {\r\n              const data2 = this.apiService.prendeSoloDatiValidi(data);\r\n              // console.log(data2);\r\n              if (data2.indexOf('ERROR:') === -1) {\r\n                this.gestioneUguali();\r\n                this.visualizzaUguali(this.ugualiSelezionato);\r\n                this.utility.visualizzaMessaggio(this, 'Brano eliminato', true);\r\n              } else {\r\n                this.utility.visualizzaMessaggio(this, 'Eliminazione brano: ' + data2, true);\r\n              }\r\n            }\r\n          },\r\n          (error) => {\r\n            if (error instanceof Error) {\r\n              this.utility.visualizzaMessaggio(this, 'Eliminazione brano: ' + error.message, true);\r\n            }\r\n          }\r\n      );    \r\n    }\r\n  }\r\n\r\n  goToLink(url: string){\r\n    if (!this.isConnected) {\r\n      return;\r\n    }\r\n\r\n    window.open(url, \"_blank\");\r\n  }  \r\n\r\n  ricaricaBraniLocali() {\r\n    const indice = 8;\r\n    // ComponentFile.staLeggendoFiles[indice] = true;\r\n    setTimeout(() => {\r\n      this.file.prendeTuttiIFilesInLocale(this, 5).then((Ritorno) => {\r\n        alert('Brani ricaricati');\r\n        window.location.reload();\r\n      });\r\n\r\n      /* const si2 = setInterval(() => {\r\n        if (!ComponentFile.staLeggendoFiles[indice]) {\r\n          clearInterval(si2);\r\n          alert('Brani ricaricati');\r\n          window.location.reload();\r\n        }\r\n      }, 1000); */\r\n    }, 100);\r\n  }\r\n\r\n  apreMenu() {\r\n    this.menuMostrato = !this.menuMostrato;\r\n    if (this.menuMostrato === true) {\r\n      // console.log('Apro pannello menù');\r\n      setTimeout(() => {\r\n        this.settaZIndex(5);\r\n      }, 100);\r\n    }\r\n  }\r\n\r\n  caricaBranoConClick(e) {\r\n    this.utility.scriveDebug(this, 'Brano clickato: ' + e);\r\n    this.numeroBrano = e;\r\n    this.numeroBranoAttuale = e;\r\n    setTimeout(() => {\r\n      this.caricaBrano.caricaBrano(this);\r\n    }, 100);\r\n  }\r\n\r\n  salvaLog() {\r\n    if (this.debuggone !== '') {\r\n      let d = this.debuggone;\r\n      while (d.indexOf('<br />') > -1) {\r\n        d = d.replace('<br />', '\\n');\r\n      }\r\n      this.file.writeFile(this, 9, 'LooigiSoft', 'looWebPlayer/log.txt', d).then((Ritorno) => {\r\n        this.utility.visualizzaMessaggio(this, 'Scrittura log eseguita', true);\r\n      });\r\n    }\r\n  }\r\n\r\n  converteNumeri(c) {\r\n    let cc = '';\r\n\r\n    for (let i = 0; i < c.length; i++) {\r\n      cc += c.charCodeAt(i) + ';';\r\n    }\r\n    return cc;\r\n  }\r\n\r\n  mandaEmail() {\r\n    if (this.debuggone !== '') {\r\n      const quanto = 4096;\r\n      let numero = 1;\r\n      const d = this.debuggone;\r\n\r\n      for (let i = 0; i <= d.length; i += quanto) {\r\n        let parte = this.converteNumeri(d.substring(i, i + quanto));\r\n        this.apiService.InviaMail(\r\n          { Destinatario: 'looigi@gmail.com',\r\n            Oggetto: 'Invio log LWP ' + numero, \r\n            Corpo: parte }\r\n          ).map(response => this.apiService.controllaRitorno(response))\r\n          .subscribe(\r\n            data => {\r\n              if (data) {\r\n                const data2 = this.apiService.prendeSoloDatiValidi(data);\r\n                // console.log(data2);\r\n                if (data2.indexOf('ERROR:') === -1) {\r\n                  this.utility.visualizzaMessaggio(this, 'Log inviato', true);\r\n                } else {\r\n                  this.utility.visualizzaMessaggio(this, 'Problema su invio log: ' + data2, true);\r\n                }\r\n              }\r\n            },\r\n            (error) => {\r\n              if (error instanceof Error) {\r\n                this.utility.visualizzaMessaggio(this, 'Invio log: ' + error.message, true);\r\n              }\r\n            }\r\n        );\r\n        numero++;\r\n      }\r\n    }\r\n  }\r\n\r\n  aggiungeTag() {\r\n    this.mostraAggiungeTag = true;\r\n\r\n    this.aggiornaTag();\r\n  }\r\n\r\n  aggiornaTag() {\r\n    this.listaTagsVisualizzati = new Array();\r\n    this.listaTags.forEach(element => {\r\n      let ok = 'true';\r\n      if (this.tagsBrano) {\r\n        this.tagsBrano.forEach(element2 => {\r\n          if (ok === 'true' && +element.idTag === +element2.idTag) {\r\n            ok = 'false';\r\n          }\r\n        });\r\n      }\r\n      if (ok === 'true') {\r\n        this.listaTagsVisualizzati.push(element);\r\n      }\r\n    });\r\n  }\r\n\r\n  eliminaTag(id) {\r\n    this.apiService.EliminaTagDaBrano(\r\n      this.idUtenza,\r\n      { \r\n        NumeroBrano: this.numeroBrano,\r\n        idTag: id\r\n      }\r\n      ).map(response => this.apiService.controllaRitorno(response))\r\n      .subscribe(\r\n        data => {\r\n          if (data) {\r\n            const data2 = this.apiService.prendeSoloDatiValidi(data);\r\n            if (data2.indexOf('ERROR:') === -1) {\r\n              const t = new Array();\r\n              this.tagsBrano.forEach(element => {\r\n                if (+element.idTag !== +id) {\r\n                  t.push(element);\r\n                }\r\n              });\r\n              this.tagsBrano = t;\r\n\r\n              this.aggiornaTag();\r\n\r\n              this.sistemaTagAListaBrani();\r\n            } else {\r\n              this.utility.visualizzaMessaggio(this, 'Aggiunge tag a brano: ' + data2, true);\r\n            }\r\n          }\r\n        },\r\n        (error) => {\r\n          if (error instanceof Error) {\r\n            this.utility.visualizzaMessaggio(this, 'Aggiunge tag a brano: ' + error.message, true);\r\n          }\r\n        }\r\n    )\r\n  }\r\n\r\n  selezionaTag(id, testo) {\r\n    this.apiService.AggiungeTagABrano(\r\n      this.idUtenza,\r\n      { \r\n        NumeroBrano: this.numeroBrano,\r\n        idTag: id\r\n      }\r\n      ).map(response => this.apiService.controllaRitorno(response))\r\n      .subscribe(\r\n        data => {\r\n          if (data) {\r\n            const data2 = this.apiService.prendeSoloDatiValidi(data);\r\n            if (data2.indexOf('ERROR:') === -1) {\r\n              let progressivo = 0;\r\n              this.tagsBrano.forEach(element => {\r\n                if (element.Progressivo > progressivo) {\r\n                  progressivo = element.Progressivo;\r\n                }\r\n              });\r\n              progressivo ++;\r\n              const tt = {\r\n                Progressivo: progressivo,\r\n                idTag: +id,\r\n                Tag: testo\r\n              }\r\n              this.tagsBrano.push(tt);\r\n\r\n              this.aggiornaTag();\r\n\r\n              this.sistemaTagAListaBrani();\r\n            } else {\r\n              this.utility.visualizzaMessaggio(this, 'Aggiunge tag a brano: ' + data2, true);\r\n            }\r\n          }\r\n        },\r\n        (error) => {\r\n          if (error instanceof Error) {\r\n            this.utility.visualizzaMessaggio(this, 'Aggiunge tag a brano: ' + error.message, true);\r\n          }\r\n        }\r\n    )\r\n  }\r\n\r\n  sistemaTagAListaBrani() {\r\n    // console.log(this.braniFiltrati);\r\n    // console.log(this.artista);\r\n    // console.log(this.album);\r\n    // console.log(this.titoloBrano);\r\n    this.braniFiltrati.forEach(element => {\r\n      if (element.text === this.artista) {\r\n        // console.log('Trovato artista', element);\r\n        const albums = element.children;\r\n        albums.forEach(element2 => {\r\n          if (element2.text === this.album) {\r\n            // console.log('Trovato album', element2);\r\n            const brani = element2.children;\r\n            brani.forEach(element3 => {\r\n              if (element3.text === this.titoloBrano) {\r\n                let t = '';\r\n                let progressivo = 1;\r\n                this.tagsBrano.forEach(element4 => {\r\n                  t += progressivo + ';' + element4.idTag + ';' + element4.Tag + '§';\r\n                  progressivo++;\r\n                });\r\n                element3.tags = t;\r\n                // console.log(element3, this.tagsBrano);\r\n              }\r\n            });\r\n          }\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  aggiungeTagALista() {\r\n    if (this.nuovoTag === '') {\r\n      this.utility.visualizzaMessaggio(this, 'Inserire un tag', true);\r\n      return;\r\n    }\r\n    this.apiService.SalvaTag(\r\n      { \r\n        Tag: this.nuovoTag\r\n      }\r\n      ).map(response => this.apiService.controllaRitorno(response))\r\n      .subscribe(\r\n        data => {\r\n          if (data) {\r\n            const data2 = this.apiService.prendeSoloDatiValidi(data);\r\n            if (data2.indexOf('ERROR:') === -1) {\r\n              const tt = {\r\n                idTag: +data2,\r\n                Tag: this.nuovoTag\r\n              }\r\n              this.listaTags.push(tt);\r\n              this.listaTagsVisualizzati.push(tt);\r\n              this.nuovoTag = '';\r\n            } else {\r\n              this.utility.visualizzaMessaggio(this, 'Aggiunge tag a lista: ' + data2, true);\r\n            }\r\n          }\r\n        },\r\n        (error) => {\r\n          if (error instanceof Error) {\r\n            this.utility.visualizzaMessaggio(this, 'Aggiunge tag a lista: ' + error.message, true);\r\n          }\r\n        }\r\n    )\r\n  }\r\n\r\n  eliminaTagDaLista(id) {\r\n    this.apiService.EliminaTag(\r\n      { \r\n        idTag: id\r\n      }\r\n      ).map(response => this.apiService.controllaRitorno(response))\r\n      .subscribe(\r\n        data => {\r\n          if (data) {\r\n            const data2 = this.apiService.prendeSoloDatiValidi(data);\r\n            if (data2.indexOf('ERROR:') === -1) {\r\n              const l = new Array();\r\n              this.listaTagsVisualizzati.forEach(element => {\r\n                if (+element.idTag !== +id) {\r\n                  l.push(element);\r\n                }\r\n              });\r\n              this.listaTagsVisualizzati = l;\r\n\r\n              const l2 = new Array();\r\n              this.listaTags.forEach(element => {\r\n                if (+element.idTag !== +id) {\r\n                  l2.push(element);\r\n                }\r\n              });\r\n              this.listaTags = l2;\r\n            } else {\r\n              this.utility.visualizzaMessaggio(this, 'Aggiunge tag a lista: ' + data2, true);\r\n            }\r\n          }\r\n        },\r\n        (error) => {\r\n          if (error instanceof Error) {\r\n            this.utility.visualizzaMessaggio(this, 'Aggiunge tag a lista: ' + error.message, true);\r\n          }\r\n        }\r\n    )\r\n  }\r\n\r\n  filtraBrani() {\r\n    // console.log('Filtro', this.filtroImpostato);\r\n    // if (this.filtroImpostato.length > 2) {\r\n      this.utility.filtraBrani(this);\r\n    // }\r\n  }\r\n\r\n  metteToglieTasti() {\r\n    this.visuaTasti = !this.visuaTasti;\r\n  }\r\n\r\n  cambiaUtente() {\r\n    this.apiService.creaUtenza('')\r\n    .map(response => this.apiService.controllaRitorno(response))\r\n      .subscribe(\r\n        data => {\r\n          this.utility.scriveDebug(this, 'Lettura utenza: ok');\r\n          // alert(data);\r\n          if (data) {\r\n            const data2 = this.apiService.prendeSoloDatiValidi(data);\r\n            // console.log(JSON.parse(data2));\r\n            if (data2.indexOf('ERROR:') === -1) {\r\n              // Utenza da scegliere\r\n              const d = data2.split('§');\r\n              this.Utenti = new Array();\r\n              d.forEach(element => {\r\n                if (element && element !== '') {\r\n                  const dd = element.split(';');\r\n                  const ddd = {\r\n                    idUtente: +dd[0],\r\n                    Utente: dd[1],\r\n                    Amministratore: dd[2],\r\n                    Password: dd[3]\r\n                  }\r\n                  this.Utenti.push(ddd);\r\n                }\r\n              });\r\n              // console.log('Lista Utenti', this.Utenti);\r\n              this.caricamentoInCorso = false;\r\n              this.mostraSceltaUtenti = true;\r\n            } else {\r\n              // alert('data2');\r\n              this.utility.visualizzaMessaggio(this, 'Lettura utenza: ' + data2, true);\r\n            }\r\n          } else {\r\n            this.utility.visualizzaMessaggio(this, 'Lettura utenza: Nessun dato ricevuto', true);\r\n          }\r\n        },\r\n        (error) => {\r\n          if (error instanceof Error) {\r\n            this.utility.visualizzaMessaggio(this, 'Lettura utenza: ' + error.message, true);\r\n          }\r\n        }\r\n      );\r\n  }\r\n  \r\n  selezionaUtente(u) {\r\n    this.utenteScelto = u;\r\n    this.pwd = '';\r\n    this.passwordBox = true;\r\n  }\r\n\r\n  checkPassword() {\r\n    // console.log(this.utenteScelto, this.pwd);\r\n    if (this.utenteScelto.Password === this.pwd) {\r\n      this.utenza = this.utenteScelto.Utente;\r\n      this.idUtenza = +this.utenteScelto.idUtente;\r\n      this.Amministratore = this.utenteScelto.Amministratore;\r\n\r\n      localStorage.setItem('utenza', this.utenza);\r\n      localStorage.setItem('idUtenza', this.idUtenza.toString());\r\n      localStorage.setItem('tipoUtente', this.Amministratore);\r\n\r\n      this.passwordBox = false;\r\n      this.utenteScelto = undefined;\r\n      this.pwd = '';\r\n      this.mostraSceltaUtenti = false;\r\n\r\n      // // this.caricaTutto();\r\n    } else {\r\n      alert('Passowrd errata o non valida');\r\n    }\r\n  }\r\n\r\n  uploadBrani() {\r\n    // console.log('UPLOAD');\r\n    this.mascheraUploadVisibile = !this.mascheraUploadVisibile;\r\n  }\r\n\r\n  settaZIndex(n) {\r\n    /* if (this.lastClickZIndex === n) {\r\n      return;\r\n    } */\r\n    this.lastClickZIndex = n;\r\n    let conta = 0;\r\n    let valore = 1000;\r\n    this.zIndex.forEach(element => {\r\n      if (+conta === +n) {\r\n        this.zIndex[conta] = 1900;\r\n      } else {\r\n        this.zIndex[conta] = valore;\r\n      }\r\n\r\n      valore += 10;\r\n      conta++;\r\n    });\r\n    // console.log('ZIndex: ', this.nomiDiv, this.zIndex);\r\n\r\n    let nn = 0;\r\n    this.nomiDiv.forEach(element => {\r\n      if (element && element !== '' && element !== null) {\r\n        // console.log(element);\r\n        const ogg = document.getElementById(element);\r\n        if (ogg && ogg !== null) {\r\n          ogg.style.zIndex = this.zIndex[nn].toString();\r\n        }\r\n      }\r\n      nn++;\r\n    });\r\n  }\r\n\r\n  aprePannellogestioneBrani() {\r\n    // console.log('Apro pannello gestione brani');\r\n    this.mascheraGestioneBrani = true;\r\n    setTimeout(() => {\r\n      this.settaZIndex(8);\r\n    }, 100);\r\n  }\r\n\r\n  aprePannelloUtility() {\r\n    // console.log('Apro pannello utility');\r\n    this.pannelloUtility = true;\r\n    setTimeout(() => {\r\n      this.settaZIndex(7);\r\n    }, 100);\r\n  }\r\n\r\n  apreDettaglioArtisti() {\r\n    // console.log('Apro pannello dettalio artisti');\r\n    this.mascheraArtisti = true;\r\n    setTimeout(() => {\r\n      this.settaZIndex(4);\r\n    }, 100);\r\n  }\r\n\r\n  aprePannelloDebug() {\r\n    // console.log('Apro pannello debug');\r\n    this.debug = true;\r\n    setTimeout(() => {\r\n      this.settaZIndex(1);\r\n    }, 100);\r\n  }\r\n\r\n  scrollaTesto(cosa, campo, n) {\r\n    if (campo !== '') {\r\n      const t = document.getElementById(cosa);\r\n      // console.log(t);\r\n      if (t && t !== null) {\r\n        const lungh = +t.offsetWidth;\r\n        const fs1 = t.style.fontSize;\r\n        let fs;\r\n        if (fs1 && fs1 !== null && fs1.indexOf('px') > -1) {\r\n          fs = +(fs1.replace('px', ''));\r\n        } else {\r\n          fs = 14;\r\n        }\r\n        const caratteri = Math.round(lungh / (fs * .5));\r\n\r\n        if (campo.length > caratteri) {\r\n          for (let i = 0; i <= (caratteri / 2); i++) {\r\n            campo = '_' + campo;\r\n            campo += '_';\r\n          }\r\n\r\n          console.log('Lunghezza campo: ', lungh);\r\n          console.log('Dimensione font: ', fs);\r\n          console.log('Caratteri: ', caratteri);\r\n          console.log('Scritta: >>>' + campo + '<<<');\r\n\r\n          this.lunghezzaCampo[n] = campo.length;\r\n          this.posizioneCarattere[n] = 0\r\n\r\n          this.testoScrollabile[n] = campo.substring(this.posizioneCarattere[n], this.posizioneCarattere[n] + caratteri);\r\n\r\n          if (this.scrollTimer[n] && this.scrollTimer[n] !== null) {\r\n            clearInterval(this.scrollTimer[n]);\r\n            this.scrollTimer[n] = null;\r\n          }\r\n          this.scrollTimer[n] = setInterval(() => {\r\n            this.posizioneCarattere[n]++;\r\n            if (this.posizioneCarattere[n] > this.lunghezzaCampo[n]) {\r\n              this.posizioneCarattere[n] = 0;\r\n            }\r\n            this.testoScrollabile[n] = campo.substring(this.posizioneCarattere[n], this.posizioneCarattere[n] + caratteri);\r\n          }, 100);\r\n        } else {\r\n          this.testoScrollabile[n] = campo;\r\n        }\r\n      } else {\r\n        if (this.scrollTimer[n] && this.scrollTimer[n] !== null) {\r\n          clearInterval(this.scrollTimer[n]);\r\n          this.scrollTimer[n] = null;\r\n        }\r\n        this.testoScrollabile[n] = campo;\r\n      }\r\n    } else {\r\n      if (this.scrollTimer[n] && this.scrollTimer[n] !== null) {\r\n        clearInterval(this.scrollTimer[n]);\r\n        this.scrollTimer[n] = null;\r\n      }\r\n      this.testoScrollabile[n] = '';\r\n    }\r\n  }\r\n}\r\n","import { BrowserModule } from '@angular/platform-browser';\nimport { ErrorHandler, NgModule } from '@angular/core';\n\nimport { AppComponent } from './app.component';\nimport { HttpClientModule, HttpClient } from '@angular/common/http';\nimport { ApiService } from \"./services/api2.service\";\nimport { HttpModule } from '@angular/http';\nimport { HttpService } from './services/httpclient.service';\nimport {MatSliderModule} from '@angular/material/slider';\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\nimport { TreeviewModule } from 'ngx-treeview';\nimport {YouTubePlayerModule} from '@angular/youtube-player';\nimport { TreeViewComponent } from './treeview/treeview.component';\nimport { AlbumComponent } from './gestionealbum/gestionealbum.component';\nimport { ImmaginiComponent } from './gestioneimmagini/gestioneimmagini.component';\nimport { FormsModule } from '@angular/forms';\nimport {ConnectionServiceModule} from 'ng-connection-service'; \nimport { DatePipe } from '@angular/common';\nimport { CaricaBranoComponent } from './varie/caricabrano.component';\nimport { YouTubeComponent } from './varie/youtube.component';\nimport { UtilityComponent } from './varie/utility.component';\nimport { HappiComponent } from './varie/happi-dev.component';\nimport { CaricaBranoAutomaticoComponent } from './varie/caricabranoautomatico.component';\nimport { MusixMatchComponent } from './varie/musixmatch.component';\nimport { AngularDraggableModule } from 'angular2-draggable';\nimport { VoiceRecognitionService } from './services/speech.service';\nimport { ComponentFile } from './varie/files';\nimport { File } from '@ionic-native/file/ngx';\nimport { StorageComponent } from './varie/storage.component';\nimport { SpeechRecognition } from '@ionic-native/speech-recognition/ngx';\nimport { SplashScreen } from '@ionic-native/splash-screen/ngx';\nimport { Media, MediaObject } from '@awesome-cordova-plugins/media/ngx';\nimport { CheckReteComponent } from './varie/checkrete';\nimport { GestioneAndroidComponent } from './varie/gestione_android.component';\nimport { GestioneMusicaComponent } from './varie/gestonemusica.component';\nimport { FiltroComponent } from './filtrobrani/filtrobrani.component';\nimport { UploadBraniComponent } from './uploadbrani/uploadbrani.component';\n@NgModule({\n  declarations: [\n    AppComponent,\n    TreeViewComponent,\n    AlbumComponent,\n    ImmaginiComponent,    \n    FiltroComponent,\n    UploadBraniComponent\n  ],\n  imports: [\n    BrowserModule,\n    BrowserAnimationsModule,\n    YouTubePlayerModule,\n    TreeviewModule.forRoot(),\n    MatSliderModule,\n    HttpModule,\n    HttpClientModule,\n    AngularDraggableModule,\n    FormsModule,\n    ConnectionServiceModule,\n  ],\n  providers: [\n    HttpService,\n    ApiService,\n    YouTubeComponent,\n    UtilityComponent,\n    DatePipe,\n    HappiComponent,\n    MusixMatchComponent,\n    CaricaBranoComponent,\n    CaricaBranoAutomaticoComponent,\n    ComponentFile,\n    VoiceRecognitionService,\n    File,\n    StorageComponent,\n    SpeechRecognition,\n    SplashScreen,\n    Media,\n    // MediaObject,\n    CheckReteComponent,\n    GestioneAndroidComponent,\n    GestioneMusicaComponent,\n],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2ZpbHRyb2JyYW5pL2ZpbHRyb2JyYW5pLmNvbXBvbmVudC5jc3MifQ== */\"","import { AfterViewInit, Component, EventEmitter, Input, OnChanges, OnInit, Output, SimpleChanges } from \"@angular/core\";\r\nimport { fade } from \"../animations\";\r\nimport { ApiService } from \"../services/api2.service\";\r\nimport { UtilityComponent } from \"../varie/utility.component\";\r\n\r\n@Component({\r\n    selector: 'app-filtro',\r\n    templateUrl: './filtrobrani.component.html',\r\n    styleUrls: ['./filtrobrani.component.css'],\r\n    animations: fade\r\n})\r\n\r\nexport class FiltroComponent implements OnInit, AfterViewInit, OnChanges {\r\n    @Input() mascheraFiltroBrani: boolean = false;\r\n    @Input() deviceGirante;\r\n    @Input() mascheraOpzioni;\r\n    @Input() mascheraTesto;\r\n    @Input() fFiles;\r\n    @Input() braniFiltrati;\r\n    @Input() storage;\r\n    @Input() eliminaMamma;\r\n    @Input() canzoniLocali;\r\n    @Input() canzoniMamma;\r\n    @Input() consideraStelle;\r\n    @Input() maiVotate;\r\n    @Input() isConnected;\r\n    @Input() tt;\r\n    @Input() filtroImpostato;\r\n    @Input() quantiBraniFiltrati = 0;\r\n    @Input() numeroStelle = 6;\r\n    @Input() tags;\r\n    @Input() listaTags;\r\n    @Input() esclusioni;\r\n    @Input() zIndex;\r\n    \r\n    @Output() mascheraFiltroBraniEmit: EventEmitter<boolean> = new EventEmitter();\r\n    @Output() fFilesEmit: EventEmitter<any> = new EventEmitter();\r\n    @Output() braniFiltratiEmit: EventEmitter<boolean> = new EventEmitter();\r\n    @Output() eliminaMammaEmit: EventEmitter<boolean> = new EventEmitter();\r\n    @Output() canzoniLocaliEmit: EventEmitter<boolean> = new EventEmitter();\r\n    @Output() canzoniMammaEmit: EventEmitter<boolean> = new EventEmitter();\r\n    @Output() consideraStelleEmit: EventEmitter<boolean> = new EventEmitter();\r\n    @Output() maiVotateEmit: EventEmitter<boolean> = new EventEmitter();\r\n    @Output() filtroImpostatoEmit: EventEmitter<string> = new EventEmitter();\r\n    @Output() numeroStelleEmit: EventEmitter<number> = new EventEmitter();\r\n    @Output() tagsEmit: EventEmitter<any> = new EventEmitter();\r\n    @Output() esclusioniEmit: EventEmitter<string> = new EventEmitter();\r\n\r\n    mostraAggiungeTag = false;\r\n    listaTagsVisualizzati;\r\n    nuovoTag = '';\r\n\r\n    constructor(\r\n        private apiService: ApiService,\r\n        public utility: UtilityComponent,    \r\n    ) {\r\n      // alert('ppp');\r\n    }\r\n\r\n    ngOnInit(): void {\r\n      // alert('ppp2');\r\n    }\r\n\r\n    ngAfterViewInit(): void {\r\n        \r\n    }\r\n\r\n    ngOnChanges(changes: SimpleChanges): void {\r\n      // alert('ppp3');\r\n    }\r\n\r\n    cambiaFiltro(e) {\r\n        // this.storage.cambiaFiltro2(this.tt, e);\r\n        this.filtroImpostatoEmit.emit(e); \r\n        this.filtroImpostato = e;\r\n        this.storage.cambiaFiltro2(this.tt, e);\r\n        // console.log('Filtro: ', e);\r\n    }\r\n\r\n    cambiaEsclusioni(e) {\r\n      this.storage.cambiaEsclusioni(this.tt, e);\r\n      this.esclusioniEmit.emit(e); \r\n      this.esclusioni = e;\r\n      // console.log('Filtro: ', e);\r\n  }\r\n\r\n  eliminaTag(t) {\r\n        const tt = new Array();\r\n        this.tags.forEach(element => {\r\n            if (element !== t) {\r\n                tt.push(element);\r\n            }\r\n        });\r\n        this.tags = tt;\r\n        this.tagsEmit.emit(tt);\r\n        this.storage.checkTagsRicerca(this.tt, this.tags);\r\n        this.aggiornaTag();\r\n    }\r\n\r\n    aggiungeTagRicerca() {\r\n        this.aggiornaTag();\r\n        this.mostraAggiungeTag = true;\r\n    }\r\n\r\n    aggiornaTag() {\r\n        // console.log(this.tags);\r\n        this.listaTagsVisualizzati = new Array();\r\n        this.listaTags.forEach(element => {\r\n          let ok = 'true';\r\n          if (this.tags) {\r\n            this.tags.forEach(element2 => {\r\n                const ele = element2.replace(\"'\", \"\").replace(\"'\",\"\").replace(\"\\\"\", \"\").replace(\"\\\"\",\"\");\r\n                if (ok === 'true' && element.Tag === ele) {\r\n                    ok = 'false';\r\n                }\r\n            });\r\n          }\r\n          if (ok === 'true') {\r\n            this.listaTagsVisualizzati.push(element);\r\n          }\r\n        });\r\n    }\r\n    \r\n    selezionaTag(id, tag) {\r\n      console.log(tag);\r\n        this.tags.push(tag);\r\n        this.tagsEmit.emit(this.tags);\r\n        this.storage.checkTagsRicerca(this.tt, this.tags);\r\n        this.aggiornaTag();\r\n    }\r\n\r\n    \r\n  eliminaTagDaLista(id) {\r\n    this.apiService.EliminaTag(\r\n      { \r\n        idTag: id\r\n      }\r\n      ).map(response => this.apiService.controllaRitorno(response))\r\n      .subscribe(\r\n        data => {\r\n          if (data) {\r\n            const data2 = this.apiService.prendeSoloDatiValidi(data);\r\n            if (data2.indexOf('ERROR:') === -1) {\r\n              const l = new Array();\r\n              this.listaTagsVisualizzati.forEach(element => {\r\n                if (+element.idTag !== +id) {\r\n                  l.push(element);\r\n                }\r\n              });\r\n              this.listaTagsVisualizzati = l;\r\n\r\n              const l2 = new Array();\r\n              this.tags.forEach(element => {\r\n                if (+element.idTag !== +id) {\r\n                  l2.push(element);\r\n                }\r\n              });\r\n              this.tags = l2;\r\n\r\n              this.tagsEmit.emit(this.tags);\r\n              this.storage.checkTagsRicerca(this.tt, this.tags);\r\n              this.aggiornaTag();      \r\n            } else {\r\n              this.utility.visualizzaMessaggio(this, 'Aggiunge tag a lista: ' + data2, true);\r\n            }\r\n          }\r\n        },\r\n        (error) => {\r\n          if (error instanceof Error) {\r\n            this.utility.visualizzaMessaggio(this, 'Aggiunge tag a lista: ' + error.message, true);\r\n          }\r\n        }\r\n    )\r\n  }\r\n  \r\n  aggiungeTagALista() {\r\n    if (this.nuovoTag === '') {\r\n      this.utility.visualizzaMessaggio(this, 'Inserire un tag', true);\r\n      return;\r\n    }\r\n    this.apiService.SalvaTag(\r\n      { \r\n        Tag: this.nuovoTag\r\n      }\r\n      ).map(response => this.apiService.controllaRitorno(response))\r\n      .subscribe(\r\n        data => {\r\n          if (data) {\r\n            const data2 = this.apiService.prendeSoloDatiValidi(data);\r\n            if (data2.indexOf('ERROR:') === -1) {\r\n              const tt = {\r\n                idTag: +data2,\r\n                Tag: this.nuovoTag\r\n              }\r\n              this.listaTags.push(tt);\r\n              this.listaTagsVisualizzati.push(tt);\r\n              this.nuovoTag = '';\r\n            } else {\r\n              this.utility.visualizzaMessaggio(this, 'Aggiunge tag a lista: ' + data2, true);\r\n            }\r\n          }\r\n        },\r\n        (error) => {\r\n          if (error instanceof Error) {\r\n            this.utility.visualizzaMessaggio(this, 'Aggiunge tag a lista: ' + error.message, true);\r\n          }\r\n        }\r\n    )\r\n  }\r\n}","export default \".bottoncione {\\r\\n    margin: 10px;\\r\\n    width: 130px; \\r\\n    height: 130px; \\r\\n    border: 1px solid #999; \\r\\n    background-color: #ccc; \\r\\n    border-radius: 4px;\\r\\n    float: left;\\r\\n    text-align: center;\\r\\n    cursor: pointer;\\r\\n    box-shadow: 0px 0px 5px 3px rgba(0,0,0,0.35);\\r\\n  }\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvZ2VzdGlvbmVhbGJ1bS9nZXN0aW9uZWFsYnVtLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSxZQUFZO0lBQ1osWUFBWTtJQUNaLGFBQWE7SUFDYixzQkFBc0I7SUFDdEIsc0JBQXNCO0lBQ3RCLGtCQUFrQjtJQUNsQixXQUFXO0lBQ1gsa0JBQWtCO0lBQ2xCLGVBQWU7SUFHZiw0Q0FBNEM7RUFDOUMiLCJmaWxlIjoic3JjL2FwcC9nZXN0aW9uZWFsYnVtL2dlc3Rpb25lYWxidW0uY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIi5ib3R0b25jaW9uZSB7XHJcbiAgICBtYXJnaW46IDEwcHg7XHJcbiAgICB3aWR0aDogMTMwcHg7IFxyXG4gICAgaGVpZ2h0OiAxMzBweDsgXHJcbiAgICBib3JkZXI6IDFweCBzb2xpZCAjOTk5OyBcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICNjY2M7IFxyXG4gICAgYm9yZGVyLXJhZGl1czogNHB4O1xyXG4gICAgZmxvYXQ6IGxlZnQ7XHJcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICBjdXJzb3I6IHBvaW50ZXI7IFxyXG4gICAgLXdlYmtpdC1ib3gtc2hhZG93OiAwcHggMHB4IDVweCAzcHggcmdiYSgwLDAsMCwwLjM1KTtcclxuICAgIC1tb3otYm94LXNoYWRvdzogMHB4IDBweCA1cHggM3B4IHJnYmEoMCwwLDAsMC4zNSk7XHJcbiAgICBib3gtc2hhZG93OiAwcHggMHB4IDVweCAzcHggcmdiYSgwLDAsMCwwLjM1KTtcclxuICB9Il19 */\"","import { AfterViewInit, Component, EventEmitter, Input, OnChanges, OnInit, Output } from \"@angular/core\";\r\nimport { fade } from \"../animations\";\r\nimport { ApiService } from \"../services/api2.service\";\r\nimport { UtilityComponent } from \"../varie/utility.component\";\r\n\r\n@Component({\r\n    selector: 'app-album',\r\n    templateUrl: './gestionealbum.component.html',\r\n    styleUrls: ['./gestionealbum.component.css'],\r\n    animations: fade\r\n})\r\n\r\nexport class AlbumComponent implements OnInit, AfterViewInit, OnChanges {\r\n    @Input() datiAlbum;\r\n    @Input() urlImmagine;\r\n    @Input() idUtenza;\r\n    @Input() Amministratore;\r\n\r\n    @Output() datiJsonRitornati: EventEmitter<Number> = new EventEmitter();\r\n\r\n    album;\r\n    immagineAlbum;\r\n    nomeAlbum;\r\n    artista;\r\n    cartella;\r\n    tipologia = '';\r\n    vecchioNome = '';\r\n    mascheraRinomina = false;\r\n    mascheraImmAlbum = false;\r\n    nuovoNome = '';\r\n    nuovoNumero = '';\r\n    origine;\r\n    immAlbum;\r\n    pathImmagini;\r\n    scaricamentoImmagine = false;\r\n\r\n    constructor(\r\n        private utility: UtilityComponent,\r\n        private apiService: ApiService\r\n    ) {\r\n\r\n    }\r\n\r\n    ngOnInit() {\r\n\r\n    }\r\n\r\n    ngAfterViewInit() {\r\n\r\n    }\r\n\r\n    ngOnChanges(e) {\r\n        if (e.datiAlbum) {\r\n            if (e.datiAlbum.currentValue) {\r\n                this.album = e.datiAlbum.currentValue;\r\n                let anno = this.album.anno;\r\n                for (let i = anno.length + 1; i <= 4; i++) {\r\n                  anno = '0' + anno;\r\n                }\r\n                this.artista = this.album.artista;\r\n                this.nomeAlbum = this.album.album;\r\n                this.cartella = anno + '-' + this.album.album;\r\n                this.immagineAlbum = this.apiService.ritornaUrlImmagine() + 'Immagini/' + this.artista + '/' +\r\n                    this.cartella + '/Cover_' + this.artista + '.jpg';\r\n\r\n                // console.log(this.album);\r\n            }\r\n        }\r\n\r\n        if (e.urlImmagine) {\r\n          if (e.urlImmagine.currentValue) {\r\n            this.pathImmagini = e.urlImmagine.currentValue;\r\n            // console.log('Percorso immagini', this.pathImmagini);\r\n          }\r\n        }\r\n    }\r\n\r\n    eliminaBrano(b) {\r\n        console.log(b);\r\n    }\r\n\r\n    rinominaBrano(b) {\r\n        // console.log(b);\r\n        this.origine = b;\r\n        this.vecchioNome = b.Text;\r\n        this.nuovoNome = this.vecchioNome;\r\n        this.nuovoNumero = b.Traccia;\r\n        this.tipologia = 'Brano';\r\n        this.mascheraRinomina = true;\r\n    }\r\n\r\n    eliminaAlbum() {\r\n        console.log(this.album, this.nomeAlbum);\r\n    }\r\n\r\n    rinominaAlbum() {\r\n        // console.log(this.album, this.nomeAlbum);\r\n        this.origine = this.album;\r\n        this.vecchioNome = this.nomeAlbum;\r\n        this.nuovoNome = this.vecchioNome;\r\n        this.nuovoNumero = this.album.anno;\r\n        this.tipologia = 'Album';\r\n        this.mascheraRinomina = true;\r\n    }\r\n\r\n    salvaRinomina() {\r\n        if (this.tipologia === 'Brano') {\r\n            this.apiService.RinominaBrano(\r\n              this.idUtenza,\r\n              {\r\n                    Artista: this.artista,\r\n                    Album: this.nomeAlbum,\r\n                    Brano: this.origine.Text,\r\n                    NuovaTraccia: this.nuovoNumero,\r\n                    NuovoNomeBrano: this.nuovoNome\r\n                }\r\n              ).map(response => this.apiService.controllaRitorno(response))\r\n              .subscribe(\r\n                data => {\r\n                  if (data) {\r\n                    const data2 = this.apiService.prendeSoloDatiValidi(data);\r\n                    if (data2.indexOf('ERROR:') === -1) {\r\n                        this.datiJsonRitornati.emit(JSON.parse(data2));\r\n                        this.mascheraRinomina = false;\r\n                    } else {\r\n                      this.utility.visualizzaMessaggio(this, 'Rinomina brano: ' + data2, true);\r\n                    }\r\n                  }\r\n                },\r\n                (error) => {\r\n                  if (error instanceof Error) {\r\n                    this.utility.visualizzaMessaggio(this, 'Rinomina brano: ' + error.message, true);\r\n                  }\r\n                }\r\n            );          \r\n        } else {\r\n            this.apiService.RinominaAlbum(\r\n              this.idUtenza,\r\n              {\r\n                    Artista: this.artista,\r\n                    Album: this.origine.album,\r\n                    NuovoAnno: this.nuovoNumero,\r\n                    NuovoNomeAlbum: this.nuovoNome\r\n                }\r\n              ).map(response => this.apiService.controllaRitorno(response))\r\n              .subscribe(\r\n                data => {\r\n                  if (data) {\r\n                    const data2 = this.apiService.prendeSoloDatiValidi(data);\r\n                    // console.log('Controllo immagine se esiste. Ritorno: ', data2);\r\n                    if (data2.indexOf('ERROR:') === -1) {\r\n                        this.datiJsonRitornati.emit(JSON.parse(data2));\r\n                        this.mascheraRinomina = false;\r\n                    } else {\r\n                      this.utility.visualizzaMessaggio(this, 'Rinomina album: ' + data2, true);\r\n                    }\r\n                  }\r\n                },\r\n                (error) => {\r\n                  if (error instanceof Error) {\r\n                    this.utility.visualizzaMessaggio(this, 'Rinomina album: ' + error.message, true);\r\n                  }\r\n                }\r\n            );          \r\n      }\r\n  }\r\n\r\n  scaricaImmagineAlbum() {\r\n    this.scaricamentoImmagine = true;\r\n    this.apiService.ScaricaImmagineAlbum(\r\n      {\r\n          Artista: this.artista,\r\n          Album: this.nomeAlbum,\r\n          Anno: this.album.anno\r\n      }\r\n    ).map(response => this.apiService.controllaRitorno(response))\r\n    .subscribe(\r\n      data => {\r\n        if (data) {\r\n          const data2 = this.apiService.prendeSoloDatiValidi(data);\r\n          // console.log('Controllo immagine se esiste. Ritorno: ', data2);\r\n          if (data2.indexOf('ERROR:') === -1) {\r\n            const d = data2.split('§');\r\n            const imm = new Array();\r\n            d.forEach(element => {\r\n              if (element) {\r\n                const dd = element.split(';');\r\n                const path = this.pathImmagini + 'Appoggio/ImmaginiAlbum/' + dd[0];\r\n                imm.push({ Path: path, Nome: dd[0], Dimensioni: dd[1] });\r\n              }\r\n            });\r\n            this.immAlbum = imm;\r\n\r\n            // console.log(this.immAlbum);\r\n            this.mascheraImmAlbum = true;\r\n          } else {\r\n            this.utility.visualizzaMessaggio(this, 'Scarica immagine album: ' + data2, true);\r\n          }\r\n        }\r\n      },\r\n      (error) => {\r\n        if (error instanceof Error) {\r\n          this.utility.visualizzaMessaggio(this, 'Scarica immagine album: ' + error.message, true);\r\n        }\r\n      }\r\n    );          \r\n  }\r\n\r\n  impostaImmagineAlbum(imm) {\r\n    console.log(imm);\r\n    this.apiService.ImpostaImmagineAlbum(\r\n      {\r\n          Artista: this.artista,\r\n          Album: this.nomeAlbum,\r\n          Anno: this.album.anno,\r\n          NomeImmagine: imm.Nome\r\n      }\r\n    ).map(response => this.apiService.controllaRitorno(response))\r\n    .subscribe(\r\n      data => {\r\n        if (data) {\r\n          const data2 = this.apiService.prendeSoloDatiValidi(data);\r\n          // console.log('Controllo immagine se esiste. Ritorno: ', data2);\r\n          if (data2.indexOf('ERROR:') === -1) {\r\n            this.mascheraImmAlbum = false;\r\n            this.scaricamentoImmagine = false;\r\n          } else {\r\n            this.utility.visualizzaMessaggio(this, 'Scarica immagine album: ' + data2, true);\r\n          }\r\n        }\r\n      },\r\n      (error) => {\r\n        if (error instanceof Error) {\r\n          this.utility.visualizzaMessaggio(this, 'Scarica immagine album: ' + error.message, true);\r\n        }\r\n      }\r\n    );          \r\n  }\r\n}","export default \"\\r\\n.bottoncione {\\r\\n    margin: 10px;\\r\\n    width: 130px; \\r\\n    height: 130px; \\r\\n    border: 1px solid #999; \\r\\n    background-color: #ccc; \\r\\n    border-radius: 4px;\\r\\n    float: left;\\r\\n    text-align: center;\\r\\n    cursor: pointer;\\r\\n    box-shadow: 0px 0px 5px 3px rgba(0,0,0,0.35);\\r\\n  }\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvZ2VzdGlvbmVpbW1hZ2luaS9nZXN0aW9uZWltbWFnaW5pLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUNBO0lBQ0ksWUFBWTtJQUNaLFlBQVk7SUFDWixhQUFhO0lBQ2Isc0JBQXNCO0lBQ3RCLHNCQUFzQjtJQUN0QixrQkFBa0I7SUFDbEIsV0FBVztJQUNYLGtCQUFrQjtJQUNsQixlQUFlO0lBR2YsNENBQTRDO0VBQzlDIiwiZmlsZSI6InNyYy9hcHAvZ2VzdGlvbmVpbW1hZ2luaS9nZXN0aW9uZWltbWFnaW5pLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyJcclxuLmJvdHRvbmNpb25lIHtcclxuICAgIG1hcmdpbjogMTBweDtcclxuICAgIHdpZHRoOiAxMzBweDsgXHJcbiAgICBoZWlnaHQ6IDEzMHB4OyBcclxuICAgIGJvcmRlcjogMXB4IHNvbGlkICM5OTk7IFxyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2NjYzsgXHJcbiAgICBib3JkZXItcmFkaXVzOiA0cHg7XHJcbiAgICBmbG9hdDogbGVmdDtcclxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICAgIGN1cnNvcjogcG9pbnRlcjsgXHJcbiAgICAtd2Via2l0LWJveC1zaGFkb3c6IDBweCAwcHggNXB4IDNweCByZ2JhKDAsMCwwLDAuMzUpO1xyXG4gICAgLW1vei1ib3gtc2hhZG93OiAwcHggMHB4IDVweCAzcHggcmdiYSgwLDAsMCwwLjM1KTtcclxuICAgIGJveC1zaGFkb3c6IDBweCAwcHggNXB4IDNweCByZ2JhKDAsMCwwLDAuMzUpO1xyXG4gIH0iXX0= */\"","import { AfterViewInit, Component, Input, OnChanges, OnInit } from \"@angular/core\";\r\nimport { fade } from \"../animations\";\r\nimport { ApiService } from \"../services/api2.service\";\r\nimport { UtilityComponent } from \"../varie/utility.component\";\r\n\r\n@Component({\r\n    selector: 'app-immagini',\r\n    templateUrl: './gestioneimmagini.component.html',\r\n    styleUrls: ['./gestioneimmagini.component.css'],\r\n    animations: fade\r\n})\r\n\r\nexport class ImmaginiComponent implements OnInit, AfterViewInit, OnChanges {\r\n    @Input() immagini;\r\n    @Input() urlWS;\r\n    @Input() Amministratore;\r\n\r\n    immaginiArtista;\r\n    visualizzaImmagine = false;\r\n    testoImmagine;\r\n    immagine;\r\n    immagineVisualizzata;\r\n\r\n    constructor(\r\n        private utility: UtilityComponent,\r\n        private apiService: ApiService\r\n    ) {\r\n\r\n    }\r\n\r\n    ngOnInit() {\r\n\r\n    }\r\n\r\n    ngAfterViewInit() {\r\n\r\n    }\r\n\r\n    ngOnChanges(e) {\r\n        if (e.immagini) {\r\n            this.immaginiArtista = new Array();\r\n            if (e.immagini.currentValue) {\r\n                e.immagini.currentValue.forEach(element => {\r\n                    if (element.Immagine.toUpperCase().indexOf('COVER') === -1) {\r\n                        let path = '';\r\n                        if (element.Cartella.toUpperCase().indexOf('GIF') === -1) {\r\n                            path = this.apiService.ritornaUrlImmagine() + 'Immagini/' + element.Artista + '/' +\r\n                                element.Cartella + '/' + element.Immagine;\r\n                        } else {\r\n                            path = this.apiService.ritornaUrlImmagine() + 'Gifs/' + element.Artista +\r\n                                '/' + element.Immagine;\r\n                        }\r\n                        this.immaginiArtista.push({ Immagine: path, Nome: element.Immagine });\r\n                    }\r\n                });\r\n                this.immaginiArtista.sort((a, b) => a.Nome - b.Nome);\r\n                // console.log(this.immaginiArtista);\r\n            }\r\n        }\r\n    }\r\n\r\n    premutaImmagine(i, e, n) {\r\n      // console.log(n);\r\n      this.visualizzaImmagine = true;\r\n      this.immagineVisualizzata = n;\r\n      this.prendeImmagine();\r\n    }\r\n\r\n    prendeImmagine() {\r\n      const i = this.immaginiArtista[this.immagineVisualizzata];\r\n      this.immagine = i.Immagine;\r\n      this.testoImmagine = i.Nome + ' Imm. ' + (this.immagineVisualizzata + 1)  + '/' + this.immaginiArtista.length;\r\n    }\r\n\r\n    indietroImmagine() {\r\n      this.immagineVisualizzata--;\r\n      if (this.immagineVisualizzata < 0) {\r\n        this.immagineVisualizzata = this.immaginiArtista.length - 1;\r\n      }\r\n      this.prendeImmagine();\r\n    }\r\n\r\n    avantiImmagine() {\r\n      this.immagineVisualizzata++;\r\n      if (this.immagineVisualizzata > this.immaginiArtista.length - 1) {\r\n        this.immagineVisualizzata = 0;\r\n      }\r\n      this.prendeImmagine();\r\n    }\r\n\r\n    eliminaImmagine() {\r\n        if (this.immagine === '') {\r\n            alert('Nessuna immagine presente');\r\n            return;\r\n          }\r\n          let imm = this.immagine;\r\n          imm = imm.replace(this.urlWS, '');\r\n          imm = imm.replace('Brani/', '');\r\n          imm = imm.replace('Immagini/', '');\r\n          console.log(imm);\r\n\r\n          this.apiService.eliminaImm(\r\n            imm\r\n          ).map(response => this.apiService.controllaRitorno(response))\r\n          .subscribe(\r\n            data => {\r\n              if (data) {\r\n                const data2 = this.apiService.prendeSoloDatiValidi(data);\r\n                if (data2.indexOf('ERROR:') === -1) {\r\n                  this.utility.visualizzaMessaggio(this, 'Immagine eliminata', false);\r\n                  // this.visualizzaImmagine = false;\r\n                  const i = new Array();\r\n                  this.immaginiArtista.forEach(element => {\r\n                      if (element.Immagine !== this.immagine) {\r\n                        i.push(element);\r\n                      }\r\n                  });\r\n                  this.immaginiArtista = JSON.parse(JSON.stringify(i));\r\n                  this.prendeImmagine();\r\n                } else {\r\n                  this.utility.visualizzaMessaggio(this, 'Elimina immagine: ' + data2, true);\r\n                }\r\n              }\r\n            },\r\n            (error) => {\r\n              if (error instanceof Error) {\r\n                this.utility.visualizzaMessaggio(this, 'Elimina immagine: ' + error.message, true);\r\n              }\r\n            }\r\n        );      \r\n    }\r\n\r\n    scaricaImmagine() {\r\n        let imm = this.immagine;\r\n        imm = imm.replace(this.urlWS, '');\r\n        imm = imm.replace('Brani/', '');\r\n        const imm2 = imm.split('/');\r\n        const nomeFile = imm2[imm2.length - 1];\r\n        console.log(imm);\r\n    \r\n        this.apiService.controllaSeGiaScaricata(\r\n          imm\r\n        ).map(response => this.apiService.controllaRitorno(response))\r\n        .subscribe(\r\n          data => {\r\n            if (data) {\r\n              const data2 = this.apiService.prendeSoloDatiValidi(data);\r\n              // console.log(data2);\r\n              if (data2.indexOf('ERROR:') === -1) {\r\n                var xhr = new XMLHttpRequest();\r\n                xhr.open(\"GET\", this.immagine, true);\r\n                xhr.responseType = \"blob\";\r\n                xhr.onload = function(){\r\n                    var urlCreator = window.URL || window.webkitURL;\r\n                    var imageUrl = urlCreator.createObjectURL(this.response);\r\n                    var tag = document.createElement('a');\r\n                    tag.href = imageUrl;\r\n                    tag.download = 'looWebPlayer_' + nomeFile;\r\n                    document.body.appendChild(tag);\r\n                    tag.click();\r\n                    document.body.removeChild(tag);\r\n                }\r\n                xhr.send();    \r\n              } else {\r\n                // alert(data2);\r\n                this.utility.visualizzaMessaggio(this, 'Controllo immagine: ' + data2, true);\r\n              }\r\n            }\r\n          },\r\n          (error) => {\r\n            if (error instanceof Error) {\r\n              this.utility.visualizzaMessaggio(this, 'Controllo immagine: ' + error.message, true);\r\n            }\r\n          }\r\n        );\r\n    }\r\n \r\n    getUrl() {\r\n        // console.log('url(\\'' + this.immagineSfondo.replace('\\'', '%27').replace(' ', '%20') + '\\')');\r\n        return 'url(\\'' + this.immagine.replace('\\'', '%27').replace(' ', '%20') + '\\')';\r\n    }\r\n       \r\n}","import { Injectable } from '@angular/core';\r\nimport { environment } from '../../environments/environment';\r\nimport { HttpService } from './httpclient.service';\r\nimport {throwError as observableThrowError, Observable} from 'rxjs';\r\nimport { EMPTY, empty, of } from \"rxjs\";\r\nimport { UtilityComponent } from '../varie/utility.component';\r\n\r\n@Injectable()\r\nexport class ApiService {\r\n  // private urlBase = this.variabiliGlobali.urlWS;\r\n  // private urlRoot = environment.urlRoot;\r\n  urlWS = '';\r\n  urlMP3 = '';\r\n  urlImmagine = '';\r\n  formPrincipale;\r\n  lastChiamata = '';\r\n  errori = 0;\r\n  formChiamante;\r\n  eConnesso = true;\r\n  utility;\r\n\r\n  constructor(\r\n    private httpclient: HttpService,\r\n    // private utility: UtilityComponent\r\n  ) {\r\n  }\r\n\r\n  impostaThis(t, u) {\r\n    this.formPrincipale = t;\r\n    this.utility = u;\r\n  }\r\n\r\n  impostaConnesso(ec) {\r\n    this.eConnesso = ec;\r\n    // console.log('API Connesse', ec);\r\n  }\r\n\r\n  controllaRitorno(r) {\r\n    let rr = new Response();\r\n    // this.apiService.controllaRitorno(response)  \r\n    // console.log('Ritorno: ', r, typeof(r), JSON.stringify(r));\r\n    if (JSON.stringify(r) === '{}') {\r\n      rr['_body'] = '<?xml version=\"1.0\" encoding=\"utf-8\"?><string xmlns=\"http://wsLWP2.org/\">ERROR: Nessuna connessione attiva</string></xml>';\r\n    } else {\r\n      if (r) {\r\n        rr = r;\r\n      } else {\r\n        rr['_body'] = '<?xml version=\"1.0\" encoding=\"utf-8\"?><string xmlns=\"http://wsLWP2.org/\">ERROR: Nessun ritorno</string></xml>';\r\n      }\r\n    }\r\n    return rr.text();\r\n  }\r\n\r\n  ritornaUrlWS() {\r\n    return this.urlWS;\r\n  }\r\n\r\n  ritornaUrlMP3() {\r\n    return this.urlMP3;\r\n  }\r\n\r\n  impostaUrlWS(e1) {\r\n    this.urlWS = e1;\r\n  }\r\n\r\n  impostaUrlMP3(e1) {\r\n    this.urlMP3 = e1;\r\n  }\r\n\r\n  ritornaUrlImmagine() {\r\n    return this.urlImmagine;\r\n  }\r\n\r\n  impostaUrlImmagine(e1) {\r\n    this.urlImmagine = e1;\r\n  }\r\n\r\n  cambiaChar(ee, c1, c2) {\r\n    while (ee.indexOf(c1) > -1) {\r\n        ee = ee.replace(c1, c2);\r\n    }\r\n    return ee;\r\n  }\r\n\r\n  sistemaTesto(e): string {\r\n    if (e === undefined || e === 'undefined' || e === '' || e === null) {\r\n        return '';\r\n    }\r\n\r\n    let ee = e.toString();\r\n\r\n    ee = this.cambiaChar(ee, '.', '%2E');\r\n    ee = this.cambiaChar(ee, '<', '%3C');\r\n    ee = this.cambiaChar(ee, '>', '%3E');\r\n    ee = this.cambiaChar(ee, '#', '%23');\r\n    ee = this.cambiaChar(ee, '{', '%7B');\r\n    ee = this.cambiaChar(ee, '}', '%7D');\r\n    ee = this.cambiaChar(ee, '|', '%7C');\r\n    ee = this.cambiaChar(ee, '\\\\', '%5C');\r\n    ee = this.cambiaChar(ee, '^', '%5E');\r\n    ee = this.cambiaChar(ee, '~', '%7E');\r\n    ee = this.cambiaChar(ee, '[', '%5B');\r\n    ee = this.cambiaChar(ee, ']', '%5D');\r\n    ee = this.cambiaChar(ee, '`', '%60');\r\n    // ee = this.cambiaChar(ee, ';', '%3B');\r\n    ee = this.cambiaChar(ee, '/', '%2F');\r\n    ee = this.cambiaChar(ee, '?', '%3F');\r\n    ee = this.cambiaChar(ee, ':', '%3A');\r\n    ee = this.cambiaChar(ee, '@', '%40');\r\n    ee = this.cambiaChar(ee, '=', '%3D');\r\n    ee = this.cambiaChar(ee, '&', '%26');\r\n    ee = this.cambiaChar(ee, '$', '%24');\r\n\r\n    return ee;\r\n  }\r\n\r\n  prendeSoloDatiValidi(s) {\r\n    // console.log(JSON.stringify(s));\r\n    if (JSON.stringify(s) === '{}') {\r\n      return 'ERROR: Nessuna connessione attiva';\r\n    }\r\n\r\n    let ss = s;\r\n\r\n    let a1 = ss.indexOf('<string');\r\n    if (a1 > -1) {\r\n      ss = ss.substring(a1, ss.length);\r\n      a1 = ss.indexOf('>');\r\n      if (a1 > -1) {\r\n        ss = ss.substring(a1 + 1, ss.length);\r\n        a1 = ss.indexOf('</string>');\r\n        if (a1 > -1) {\r\n          ss = ss.substring(0, a1);\r\n        }\r\n      }\r\n    }\r\n\r\n    ss = this.cambiaChar(ss, '&amp;', '&');\r\n    ss = this.cambiaChar(ss, '&lt;', '<');\r\n    ss = this.cambiaChar(ss, '&gt;', '>');\r\n    ss = this.cambiaChar(ss, '&num;', '#');\r\n    ss = this.cambiaChar(ss, '&lcub; &lbrace;', '{');\r\n    ss = this.cambiaChar(ss, '&lcub;', '{');\r\n    ss = this.cambiaChar(ss, '&lbrace;', '{');\r\n    ss = this.cambiaChar(ss, '&lcub;&lbrace;', '{');\r\n    ss = this.cambiaChar(ss, '&rcub; &rbrace;', '}');\r\n    ss = this.cambiaChar(ss, '&rcub;', '}');\r\n    ss = this.cambiaChar(ss, '&rbrace;', '}');\r\n    ss = this.cambiaChar(ss, '&rcub;&rbrace;', '}');\r\n    ss = this.cambiaChar(ss, '&verbar;', '|');\r\n    ss = this.cambiaChar(ss, '&vert;', '|');\r\n    ss = this.cambiaChar(ss, '&VerticalLine;', '|');\r\n    ss = this.cambiaChar(ss, '&bsol;', '\\\\');\r\n    ss = this.cambiaChar(ss, '&circ;', '^');\r\n    ss = this.cambiaChar(ss, '&tilde;', '~');\r\n    ss = this.cambiaChar(ss, '&lsqb;', '[');\r\n    ss = this.cambiaChar(ss, '&lbrack;', '[');\r\n    ss = this.cambiaChar(ss, '&rsqb;', ']');\r\n    ss = this.cambiaChar(ss, '&rbrack;', ']');\r\n    ss = this.cambiaChar(ss, '&grave;', '`');\r\n    ss = this.cambiaChar(ss, '&semi;', ';');\r\n    ss = this.cambiaChar(ss, '&sol;', '/');\r\n    ss = this.cambiaChar(ss, '&quest;', '?');\r\n    ss = this.cambiaChar(ss, '&colon;', ':');\r\n    ss = this.cambiaChar(ss, '&commat;', '@');\r\n    ss = this.cambiaChar(ss, '&equals;', '=');\r\n    ss = this.cambiaChar(ss, '&dollar;', '$');\r\n\r\n    return ss;\r\n  }\r\n\r\n  resettaErrori() {\r\n    this.errori = 0;\r\n  }\r\n  \r\n  private catchAuthError() {\r\n    // console.log('Errore: ', self);\r\n    // we have to pass HttpService's own instance here as `self`\r\n    return (res: Response) => {\r\n      if (res.status === 0) {\r\n        this.errori++;\r\n        if (this.errori <= 5) {\r\n          setTimeout(() => {\r\n            this.utility.scriveDebug(this.formPrincipale, 'ERRORE HTTP: 0 MALEDETTO. Riprovo a ricaricare con la funzione ' + this.lastChiamata);\r\n            switch (this.lastChiamata) {\r\n              case '2':\r\n                this.utility.scriveDebug(this.formPrincipale, 'ERRORE HTTP: 0 MALEDETTO. Eseguo funzione 2');\r\n                this.formChiamante.caricaBrano(this.formPrincipale);\r\n                this.utility.scriveDebug(this.formPrincipale, 'ERRORE HTTP: 0 MALEDETTO. Eseguita funzione 2');\r\n                break;\r\n            }\r\n          }, 1000);\r\n        } else {\r\n          this.utility.scriveDebug(this.formPrincipale, 'ERRORE HTTP: 0 MALEDETTO. Tentativi esauriti');\r\n          this.formPrincipale.caricatoProssimoBrano = false;\r\n        }\r\n      } else {\r\n        this.utility.scriveDebug(this.formPrincipale, 'ERRORE HTTP: ' + JSON.stringify(res));\r\n      }\r\n      // console.log('ERRORE Http: ', res);\r\n      return observableThrowError(res);\r\n    }\r\n  }\r\n\r\n  ritornaProssimoBrano(idUtente, params, formChiamante) {\r\n    if (this.eConnesso === false) {\r\n      this.utility.scriveDebug(this.formPrincipale, 'Apiservice. RitornaProssimoBrano. Mancanza di connessione');\r\n      return of({});\r\n    }\r\n    const url = this.urlWS + 'wsLWP.asmx/RitornaProssimoBrano?' +\r\n      'idUtente=' + this.sistemaTesto(idUtente) + '&' +\r\n      'Random=' + this.sistemaTesto(params.Random) + '&' +\r\n      'vecchioBrano=' + this.sistemaTesto(params.NumeroBrano);\r\n    this.formChiamante = formChiamante;\r\n    this.lastChiamata = '1';\r\n    this.utility.scriveDebug(this.formPrincipale, 'Apiservice. RitornaProssimoBrano. URL: ' + url);\r\n    const ritorno = this.httpclient.get(this.formPrincipale, url).catch(this.catchAuthError());\r\n    // console.log(ritorno);\r\n    return ritorno;\r\n  }\r\n\r\n  ritornaBrano(idUtente, params, formChiamante) {\r\n    if (this.eConnesso === false) {\r\n      this.utility.scriveDebug(this.formPrincipale, 'Apiservice. RitornaBrano. Mancanza di connessione');\r\n      return of({});\r\n    }\r\n    const url = this.urlWS + 'wsLWP.asmx/RitornaBranoDaID?' +\r\n      'idUtente=' + this.sistemaTesto(idUtente) + '&' +\r\n      'Brano=' + this.sistemaTesto(params.NumeroBrano) +\r\n      '&ForzaAggiornamentoTesto=N';\r\n    this.formChiamante = formChiamante;\r\n    this.lastChiamata = '2';\r\n    this.utility.scriveDebug(this.formPrincipale, 'Apiservice. RitornaBrano. URL: ' + url);\r\n    return this.httpclient.get(this.formPrincipale, url).catch(this.catchAuthError());\r\n  }\r\n\r\n  scaricaVideoPregressi() {\r\n    if (this.eConnesso === false) {\r\n      this.utility.scriveDebug(this.formPrincipale, 'Apiservice. ScaricaVideoPregressi. Mancanza di connessione');\r\n      return of({});\r\n    }\r\n    const url = this.urlWS + 'wsLWP.asmx/ScaricaVideoPregressi';\r\n    this.utility.scriveDebug(this.formPrincipale, 'Apiservice. ScaricaVideoPregressi. URL: ' + url);\r\n    const ritorno = this.httpclient.get(this.formPrincipale, url).catch(this.catchAuthError());\r\n    // console.log(ritorno);\r\n    return ritorno;\r\n  }\r\n\r\n  ScaricaVideoYouTube(params) {\r\n    if (this.eConnesso === false) {\r\n      this.utility.scriveDebug(this.formPrincipale, 'Apiservice. ScaricaVideoYouTube. Mancanza di connessione');\r\n      return of({});\r\n    }\r\n    const url = this.urlWS + 'wsLWP.asmx/ScaricaVideoYouTube?' +\r\n      'prefisso=' + this.sistemaTesto(params.prefisso) + '&' +\r\n      'link=' + this.sistemaTesto(params.link) + '&' +\r\n      'estensione=' + this.sistemaTesto(params.estensione)\r\n      ;\r\n    this.utility.scriveDebug(this.formPrincipale, 'Apiservice. ScricaVideoYouTube. URL: ' + url);\r\n    const ritorno = this.httpclient.get(this.formPrincipale, url).catch(this.catchAuthError());\r\n    // console.log(ritorno);\r\n    return ritorno;\r\n  }\r\n\r\n  ritornaYouTube(params) {\r\n    if (this.eConnesso === false) {\r\n      this.utility.scriveDebug(this.formPrincipale, 'Apiservice. RitornaYouTube. Mancanza di connessione');\r\n      return of({});\r\n    }\r\n    const url = this.urlWS + 'wsLWP.asmx/RitornaYouTube?' +\r\n      'nomeArtista=' + this.sistemaTesto(params.nomeArtista) + '&' +\r\n      'nomeBrano=' + this.sistemaTesto(params.nomeBrano) + '&' +\r\n      'refresh=' + this.sistemaTesto(params.refresh)\r\n      ;\r\n    this.utility.scriveDebug(this.formPrincipale, 'Apiservice. RitornaYouTube. URL: ' + url);\r\n    const ritorno = this.httpclient.get(this.formPrincipale, url).catch(this.catchAuthError());\r\n    // console.log(ritorno);\r\n    return ritorno;\r\n  }\r\n\r\n  SalvaVideoDefault(idBrano, idVideo) {\r\n    if (this.eConnesso === false) {\r\n      this.utility.scriveDebug(this.formPrincipale, 'Apiservice. SalvaVideoDefault. Mancanza di connessione');\r\n      return of({});\r\n    }\r\n    const url = this.urlWS + 'wsLWP.asmx/SalvaVideoDefault?' +\r\n      'idBrano=' + this.sistemaTesto(idBrano) + '&' +\r\n      'idVideo=' + this.sistemaTesto(idVideo)\r\n      ;\r\n    this.utility.scriveDebug(this.formPrincipale, 'Apiservice. SalvaVideoDefault. URL: ' + url);\r\n    const ritorno = this.httpclient.get(this.formPrincipale, url).catch(this.catchAuthError());\r\n    // console.log(ritorno);\r\n    return ritorno;\r\n  }\r\n\r\n  scriveVideoDaSalvare(video) {\r\n    if (this.eConnesso === false) {\r\n      this.utility.scriveDebug(this.formPrincipale, 'Apiservice. ScriveVideoDaSalvare. Mancanza di connessione');\r\n      return of({});\r\n    }\r\n    const url = this.urlWS + 'wsLWP.asmx/ScriveVideoDaSalvare?' +\r\n      'Video=' + this.sistemaTesto(video)\r\n      ;\r\n    this.utility.scriveDebug(this.formPrincipale, 'Apiservice. ScriveVideoDaSalvare. URL: ' + url);\r\n    const ritorno = this.httpclient.get(this.formPrincipale, url).catch(this.catchAuthError());\r\n    // console.log(ritorno);\r\n    return ritorno;\r\n  }\r\n\r\n  salvaVideo(prefisso, link, estensione) {\r\n    if (this.eConnesso === false) {\r\n      this.utility.scriveDebug(this.formPrincipale, 'Apiservice. SalvaVideo. Mancanza di connessione');\r\n      return of({});\r\n    }\r\n    const url = this.urlWS + 'wsLWP.asmx/ScaricaVideoYouTube?' +\r\n      'prefisso=' + this.sistemaTesto(prefisso) + '&' +\r\n      'link=' + this.sistemaTesto(link) + '&' +\r\n      'estensione=' + this.sistemaTesto(estensione)\r\n      ;\r\n    this.utility.scriveDebug(this.formPrincipale, 'Apiservice. SalvaVideo. URL: ' + url);\r\n    const ritorno = this.httpclient.get(this.formPrincipale, url).catch(this.catchAuthError());\r\n    // console.log(ritorno);\r\n    return ritorno;\r\n  }\r\n\r\n  EliminaBrutte(idUtente) {\r\n    if (this.eConnesso === false) {\r\n      this.utility.scriveDebug(this.formPrincipale, 'Apiservice. EliminaBrutte. Mancanza di connessione');\r\n      return of({});\r\n    }\r\n    const url = this.urlWS + 'wsLWP.asmx/EliminaBrutte?idUtente=' + idUtente\r\n      ;\r\n    this.utility.scriveDebug(this.formPrincipale, 'Apiservice. EliminaBrutte. URL: ' + url);\r\n    const ritorno = this.httpclient.get(this.formPrincipale, url).catch(this.catchAuthError());\r\n    // console.log(ritorno);\r\n    return ritorno;\r\n  }\r\n\r\n  RitornaUguali() {\r\n    if (this.eConnesso === false) {\r\n      this.utility.scriveDebug(this.formPrincipale, 'Apiservice. RitornaUguali. Mancanza di connessione');\r\n      return of({});\r\n    }\r\n    const url = this.urlWS + 'wsLWP.asmx/RitornaUguali'\r\n      ;\r\n    this.utility.scriveDebug(this.formPrincipale, 'Apiservice. RitornaUguali. URL: ' + url);\r\n    const ritorno = this.httpclient.get(this.formPrincipale, url).catch(this.catchAuthError());\r\n    // console.log(ritorno);\r\n    return ritorno;\r\n  }\r\n\r\n  ScaricaNuovaImmagine(params) {\r\n    if (this.eConnesso === false) {\r\n      this.utility.scriveDebug(this.formPrincipale, 'Apiservice. Scarica nuova immagine. Mancanza di connessione');\r\n      return of({});\r\n    }\r\n    const url = this.urlWS + 'wsLWP.asmx/ScaricaNuovaImmagine?' +\r\n      'Artista=' + this.sistemaTesto(params.Artista) + '&' +\r\n      'Album=' + this.sistemaTesto(params.Album) + '&' +\r\n      'Canzone=' + this.sistemaTesto(params.Canzone)\r\n      ;\r\n    this.utility.scriveDebug(this.formPrincipale, 'Apiservice. ScaricaNuovaImmagine. URL: ' + url);\r\n    const ritorno = this.httpclient.get(this.formPrincipale, url).catch(this.catchAuthError());\r\n    // console.log(ritorno);\r\n    return ritorno;\r\n  }\r\n\r\n  RitornaImmaginiArtista(params) {\r\n    if (this.eConnesso === false) {\r\n      this.utility.scriveDebug(this.formPrincipale, 'Apiservice. RitornaImmaginiArtista. Mancanza di connessione');\r\n      return of({});\r\n    }\r\n    const url = this.urlWS + 'wsLWP.asmx/RitornaImmaginiArtista?' +\r\n      'Artista=' + this.sistemaTesto(params)\r\n      ;\r\n    this.utility.scriveDebug(this.formPrincipale, 'Apiservice. RitornaImmaginiArtista. URL: ' + url);\r\n    const ritorno = this.httpclient.get(this.formPrincipale, url).catch(this.catchAuthError());\r\n    // console.log(ritorno);\r\n    return ritorno;\r\n  }\r\n\r\n  ScaricaTesto(params) {\r\n    if (this.eConnesso === false) {\r\n      this.utility.scriveDebug(this.formPrincipale, 'Apiservice. ScaricaTesto. Mancanza di connessione');\r\n      return of({});\r\n    }\r\n    const url = this.urlWS + 'wsLWP.asmx/ScaricaTesto?' +\r\n      'idCanzone=' + this.sistemaTesto(params.idCanzone) + '&' +\r\n      'Artista=' + this.sistemaTesto(params.Artista) + '&' +\r\n      'Album=' + this.sistemaTesto(params.Album) + '&' +\r\n      'Canzone=' + this.sistemaTesto(params.Canzone)\r\n      ;\r\n    this.utility.scriveDebug(this.formPrincipale, 'Apiservice. ScaricaTesto. URL: ' + url);\r\n    const ritorno = this.httpclient.get(this.formPrincipale, url).catch(this.catchAuthError());\r\n    // console.log(ritorno);\r\n    return ritorno;\r\n  }\r\n\r\n  ScriveTesto(params) {\r\n    if (this.eConnesso === false) {\r\n      this.utility.scriveDebug(this.formPrincipale, 'Apiservice. ScriveTesto. Mancanza di connessione');\r\n      return of({});\r\n    }\r\n    const url = this.urlWS + 'wsLWP.asmx/ScriveTestoBrano?' +\r\n      'idCanzone=' + this.sistemaTesto(params.idCanzone) + '&' +\r\n      'Testo=' + this.sistemaTesto(params.Testo)\r\n      ;\r\n    this.utility.scriveDebug(this.formPrincipale, 'Apiservice. ScriveTesto. URL: ' + url);\r\n    const ritorno = this.httpclient.get(this.formPrincipale, url).catch(this.catchAuthError());\r\n    // console.log(ritorno);\r\n    return ritorno;\r\n  }\r\n\r\n  ritornaJSONBrani(idUtente) {\r\n    if (this.eConnesso === false) {\r\n      this.utility.scriveDebug(this.formPrincipale, 'Apiservice. RitornaJSONBrani. Mancanza di connessione');\r\n      return of({});\r\n    }\r\n    const url = this.urlWS + 'wsLWP.asmx/RitornaJSON?idUtente=' + idUtente;\r\n    this.utility.scriveDebug(this.formPrincipale, 'Apiservice. RitornaJSONBrani. URL: ' + url);\r\n    const ritorno = this.httpclient.get(this.formPrincipale, url).catch(this.catchAuthError())\r\n    // console.log(ritorno);\r\n    return ritorno;\r\n  }\r\n\r\n  creaUtenza(utenza) {\r\n    if (this.eConnesso === false) {\r\n      this.utility.scriveDebug(this.formPrincipale, 'Apiservice. CreaUtenza. Mancanza di connessione');\r\n      return of({});\r\n    }\r\n    const url = this.urlWS + 'wsLWP.asmx/CreaRitornaUtenza?Utenza=' + utenza;\r\n    this.utility.scriveDebug(this.formPrincipale, 'Apiservice. CreaUtenza. URL: ' + url);\r\n    const ritorno = this.httpclient.get(this.formPrincipale, url).catch(this.catchAuthError());\r\n    // console.log(ritorno);\r\n    return ritorno;\r\n  }\r\n\r\n  refreshDB(idUtente) {\r\n    const url = this.urlWS + 'wsLWP.asmx/RefreshCanzoni?idUtente=' + idUtente;\r\n    this.utility.scriveDebug(this.formPrincipale, 'Apiservice. RefreshDB. URL: ' + url);\r\n    const ritorno = this.httpclient.get(this.formPrincipale, url).catch(this.catchAuthError());\r\n    // console.log(ritorno);\r\n    return ritorno;\r\n  }\r\n\r\n  refreshDBHard(idUtente) {\r\n    const url = this.urlWS + 'wsLWP.asmx/RefreshCanzoniHard?idUtente=' + idUtente;\r\n    this.utility.scriveDebug(this.formPrincipale, 'Apiservice. RefreshDBHard. URL: ' + url);\r\n    const ritorno = this.httpclient.get(this.formPrincipale, url).catch(this.catchAuthError());\r\n    // console.log(ritorno);\r\n    return ritorno;\r\n  }\r\n\r\n  scriveVolteAscoltata(idUtente, params) {\r\n    if (this.eConnesso === false) {\r\n      this.utility.scriveDebug(this.formPrincipale, 'Apiservice. ScriveVolteAscoltata. Mancanza di connessione');\r\n      return of({});\r\n    }\r\n    const url = this.urlWS + 'wsLWP.asmx/SettaAscoltataDaID?' +\r\n      'idUtente=' + idUtente + '&' +\r\n      'NumeroBrano=' + params\r\n      ;\r\n    this.utility.scriveDebug(this.formPrincipale, 'Apiservice. ScriveVolteAscoltata. URL: ' + url);\r\n    const ritorno = this.httpclient.get(this.formPrincipale, url).catch(this.catchAuthError());\r\n    // console.log(ritorno);\r\n    return ritorno;\r\n  }\r\n\r\n  ritornaVolteAscoltata(idUtente, params) {\r\n    if (this.eConnesso === false) {\r\n      this.utility.scriveDebug(this.formPrincipale, 'Apiservice. RitornaVolteAscoltata. Mancanza di connessione');\r\n      return of({});\r\n    }\r\n    const url = this.urlWS + 'wsLWP.asmx/RitornaAscoltataDaID?' +\r\n      'idUtente=' + idUtente + '&' +\r\n      'NumeroBrano=' + params\r\n      ;\r\n    this.utility.scriveDebug(this.formPrincipale, 'Apiservice. RitornaVolteAscoltata. URL: ' + url);\r\n    const ritorno = this.httpclient.get(this.formPrincipale, url).catch(this.catchAuthError());\r\n    // console.log(ritorno);\r\n    return ritorno;\r\n  }\r\n\r\n  impostaStelle(idUtente, params) {\r\n    if (this.eConnesso === false) {\r\n      this.utility.scriveDebug(this.formPrincipale, 'Apiservice. ImpostaStelle. Mancanza di connessione');\r\n      return of({});\r\n    }\r\n    const url = this.urlWS + 'wsLWP.asmx/SettaStelle?' +\r\n      'idUtente=' + idUtente + '&' +\r\n      'idCanzone=' + params.idCanzone + '&' +\r\n      'Stelle=' + params.Stelle + '&'\r\n      ;\r\n    this.utility.scriveDebug(this.formPrincipale, 'Apiservice. ImpostaStelle. URL: ' + url);\r\n    const ritorno = this.httpclient.get(this.formPrincipale, url).catch(this.catchAuthError());\r\n    // console.log(ritorno);\r\n    return ritorno;\r\n  }\r\n\r\n  downloadPagina(url) {\r\n    if (this.eConnesso === false) {\r\n      this.utility.scriveDebug(this.formPrincipale, 'Apiservice. DownloadPagina. Mancanza di connessione');\r\n      return of({});\r\n    }\r\n    this.utility.scriveDebug(this.formPrincipale, 'Apiservice. DownloadPagina. URL: ' + url);\r\n    return this.httpclient.downloadFile(url);\r\n  }\r\n\r\n  eliminaImm(imm) {\r\n    if (this.eConnesso === false) {\r\n      this.utility.scriveDebug(this.formPrincipale, 'Apiservice. EliminaImm. Mancanza di connessione');\r\n      return of({});\r\n    }\r\n    const url = this.urlWS + 'wsLWP.asmx/EliminaImmagine?' +\r\n      'Immagine=' + this.sistemaTesto(imm);\r\n    this.utility.scriveDebug(this.formPrincipale, 'Apiservice. EliminaImm. URL: ' + url);\r\n    const ritorno = this.httpclient.get(this.formPrincipale, url).catch(this.catchAuthError());\r\n    // console.log(ritorno);\r\n    return ritorno;\r\n  }\r\n\r\n  eliminaVideo(vid) {\r\n    if (this.eConnesso === false) {\r\n      this.utility.scriveDebug(this.formPrincipale, 'Apiservice. EliminaVideo. Mancanza di connessione');\r\n      return of({});\r\n    }\r\n    const url = this.urlWS + 'wsLWP.asmx/EliminaVideoFisico?' +\r\n      'Video=' + this.sistemaTesto(vid);\r\n    this.utility.scriveDebug(this.formPrincipale, 'Apiservice. EliminaVideo. URL: ' + url);\r\n    const ritorno = this.httpclient.get(this.formPrincipale, url).catch(this.catchAuthError());\r\n    // console.log(ritorno);\r\n    return ritorno;\r\n  }\r\n\r\n  esisteImm(imm) {\r\n    if (this.eConnesso === false) {\r\n      this.utility.scriveDebug(this.formPrincipale, 'Apiservice. EsisteImm. Mancanza di connessione');\r\n      return of({});\r\n    }\r\n    const url = this.urlWS + 'wsLWP.asmx/EsisteImmagine?' +\r\n      'Immagine=' + this.sistemaTesto(imm);\r\n    this.utility.scriveDebug(this.formPrincipale, 'Apiservice. EsisteImm. URL: ' + url);\r\n    const ritorno = this.httpclient.get(this.formPrincipale, url).catch(this.catchAuthError());\r\n    // console.log(ritorno);\r\n    return ritorno;\r\n  }\r\n\r\n  controllaSeGiaScaricata(imm) {\r\n    if (this.eConnesso === false) {\r\n      this.utility.scriveDebug(this.formPrincipale, 'Apiservice. ControllaSeGiaScaricata. Mancanza di connessione');\r\n      return of({});\r\n    }\r\n    const url = this.urlWS + 'wsLWP.asmx/EsisteImmagineSalvata?' +\r\n      'Immagine=' + this.sistemaTesto(imm);\r\n    this.utility.scriveDebug(this.formPrincipale, 'Apiservice. ControllaSeGiaScaricata. URL: ' + url);\r\n    const ritorno = this.httpclient.get(this.formPrincipale, url).catch(this.catchAuthError());\r\n    // console.log(ritorno);\r\n    return ritorno;\r\n  }\r\n\r\n  RinominaBrano(idUtente, params) {\r\n    if (this.eConnesso === false) {\r\n      this.utility.scriveDebug(this.formPrincipale, 'Apiservice. RinominaBrano. Mancanza di connessione');\r\n      return of({});\r\n    }\r\n    const url = this.urlWS + 'wsLWP.asmx/RinominaBrano?' +\r\n      'idUtente=' + this.sistemaTesto(idUtente) + '&' + \r\n      'Artista=' + this.sistemaTesto(params.Artista) + '&' + \r\n      'Album=' + this.sistemaTesto(params.Album) + '&' + \r\n      'Brano=' + this.sistemaTesto(params.Brano) + '&' + \r\n      'NuovaTraccia=' + this.sistemaTesto(params.NuovaTraccia) + '&' +\r\n      'NuovoNomeBrano=' + this.sistemaTesto(params.NuovoNomeBrano) \r\n      ;\r\n    this.utility.scriveDebug(this.formPrincipale, 'Apiservice. RinominaBrano. URL: ' + url);\r\n    const ritorno = this.httpclient.get(this.formPrincipale, url).catch(this.catchAuthError());\r\n    // console.log(ritorno);\r\n    return ritorno;\r\n  }\r\n  \r\n  RitornaUgualiDettaglio(idUtente, params) {\r\n    if (this.eConnesso === false) {\r\n      this.utility.scriveDebug(this.formPrincipale, 'Apiservice. RitornaUgualiDettaglio. Mancanza di connessione');\r\n      return of({});\r\n    }\r\n    const url = this.urlWS + 'wsLWP.asmx/RitornaUgualiDettaglio?' +\r\n      'idUtente=' + this.sistemaTesto(idUtente) + '&' + \r\n      'Artista=' + this.sistemaTesto(params.Artista) + '&' + \r\n      'Brano=' + this.sistemaTesto(params.Brano) \r\n      ;\r\n    this.utility.scriveDebug(this.formPrincipale, 'Apiservice. RitornaUgualiDettaglio. URL: ' + url);\r\n    const ritorno = this.httpclient.get(this.formPrincipale, url).catch(this.catchAuthError());\r\n    // console.log(ritorno);\r\n    return ritorno;\r\n  }\r\n\r\n  RinominaAlbum(idUtente, params) {\r\n    if (this.eConnesso === false) {\r\n      this.utility.scriveDebug(this.formPrincipale, 'Apiservice. RinominaAlbum. Mancanza di connessione');\r\n      return of({});\r\n    }\r\n    const url = this.urlWS + 'wsLWP.asmx/RinominaAlbum?' +\r\n      'idUtente=' + this.sistemaTesto(idUtente) + '&' + \r\n      'Artista=' + this.sistemaTesto(params.Artista) + '&' + \r\n      'Album=' + this.sistemaTesto(params.Album) + '&' + \r\n      'NuovoAnno=' + this.sistemaTesto(params.NuovoAnno) + '&' +\r\n      'NuovoNomeAlbum=' + this.sistemaTesto(params.NuovoNomeAlbum) \r\n      ;\r\n    this.utility.scriveDebug(this.formPrincipale, 'Apiservice. RinominaAlbum. URL: ' + url);\r\n    const ritorno = this.httpclient.get(this.formPrincipale, url).catch(this.catchAuthError());\r\n    // console.log(ritorno);\r\n    return ritorno;\r\n  }\r\n  \r\n  EliminaBrano(idUtente, params) {\r\n    if (this.eConnesso === false) {\r\n      this.utility.scriveDebug(this.formPrincipale, 'Apiservice. EliminaBrano. Mancanza di connessione');\r\n      return of({});\r\n    }\r\n    const url = this.urlWS + 'wsLWP.asmx/EliminaBrano?' +\r\n      'idUtente=' + this.sistemaTesto(idUtente) + '&' + \r\n      'Artista=' + this.sistemaTesto(params.Artista) + '&' + \r\n      'Album=' + this.sistemaTesto(params.Album) + '&' + \r\n      'Brano=' + this.sistemaTesto(params.Brano) \r\n      ;\r\n    this.utility.scriveDebug(this.formPrincipale, 'Apiservice. EliminaBrano. URL: ' + url);\r\n    const ritorno = this.httpclient.get(this.formPrincipale, url).catch(this.catchAuthError());\r\n    // console.log(ritorno);\r\n    return ritorno;\r\n  }\r\n  \r\n  ScaricaImmagineAlbum(params) {\r\n    if (this.eConnesso === false) {\r\n      this.utility.scriveDebug(this.formPrincipale, 'Apiservice. ScaricaImmagineAlbum. Mancanza di connessione');\r\n      return of({});\r\n    }\r\n    const url = this.urlWS + 'wsLWP.asmx/ScaricaImmagineAlbum?' +\r\n      'Artista=' + this.sistemaTesto(params.Artista) + '&' + \r\n      'Album=' + this.sistemaTesto(params.Album) + '&' + \r\n      'Anno=' + this.sistemaTesto(params.Anno) \r\n      ;\r\n    this.utility.scriveDebug(this.formPrincipale, 'Apiservice. ScaricaImmagineAlbum. URL: ' + url);\r\n    const ritorno = this.httpclient.get(this.formPrincipale, url).catch(this.catchAuthError());\r\n    // console.log(ritorno);\r\n    return ritorno;\r\n  }\r\n  \r\n  ImpostaImmagineAlbum(params) {\r\n    if (this.eConnesso === false) {\r\n      this.utility.scriveDebug(this.formPrincipale, 'Apiservice. ImpostaImmagineAlbum. Mancanza di connessione');\r\n      return of({});\r\n    }\r\n    const url = this.urlWS + 'wsLWP.asmx/ImpostaImmagineAlbum?' +\r\n      'Artista=' + this.sistemaTesto(params.Artista) + '&' + \r\n      'Album=' + this.sistemaTesto(params.Album) + '&' + \r\n      'Anno=' + this.sistemaTesto(params.Anno) + '&' + \r\n      'NomeImmagine=' + this.sistemaTesto(params.NomeImmagine)\r\n      ;\r\n    this.utility.scriveDebug(this.formPrincipale, 'Apiservice. ImpostaImmagineAlbum. URL: ' + url);\r\n    const ritorno = this.httpclient.get(this.formPrincipale, url).catch(this.catchAuthError());\r\n    // console.log(ritorno);\r\n    return ritorno;\r\n  }\r\n\r\n  tornaDettagliArtista(artista, forza) {\r\n    if (this.eConnesso === false) {\r\n      this.utility.scriveDebug(this.formPrincipale, 'Apiservice. TornaDettaglioArtista. Mancanza di connessione');\r\n      return of({});\r\n    }\r\n    const url = this.urlWS + 'wsLWP.asmx/DettagliArtista?' +\r\n      'Artista=' + this.sistemaTesto(artista) + '&' +\r\n      'Forza=' + forza\r\n      ;\r\n    this.utility.scriveDebug(this.formPrincipale, 'Apiservice. TornaDettaglioArtista. URL: ' + url);\r\n    const ritorno = this.httpclient.get(this.formPrincipale, url).catch(this.catchAuthError());\r\n    // console.log(ritorno);\r\n    return ritorno;\r\n  }\r\n\r\n  InviaMail(params) {\r\n    if (this.eConnesso === false) {\r\n      this.utility.scriveDebug(this.formPrincipale, 'Apiservice. InviaMail. Mancanza di connessione');\r\n      return of({});\r\n    }\r\n    const url = this.urlWS + 'wsLWP.asmx/InviaMail?' +\r\n      'Destinatario=' + this.sistemaTesto(params.Destinatario) + '&' +\r\n      'Oggetto=' + this.sistemaTesto(params.Oggetto) + '&' +\r\n      'Corpo=' + this.sistemaTesto(params.Corpo)\r\n      ;\r\n    this.utility.scriveDebug(this.formPrincipale, 'Apiservice. InviaMail. URL: ' + url);\r\n    const ritorno = this.httpclient.get(this.formPrincipale, url).catch(this.catchAuthError());\r\n    // console.log(ritorno);\r\n    return ritorno;\r\n  }\r\n\r\n  // TAGS\r\n  ritornaTuttiITags() {\r\n    if (this.eConnesso === false) {\r\n      this.utility.scriveDebug(this.formPrincipale, 'Apiservice. RitornaTuttiITags. Mancanza di connessione');\r\n      return of({});\r\n    }\r\n    const url = this.urlWS + 'wsLWP.asmx/RitornaTuttiITags'\r\n      ;\r\n    this.lastChiamata = '99';\r\n    this.utility.scriveDebug(this.formPrincipale, 'Apiservice. ritornaTuttiITags. URL: ' + url);\r\n    return this.httpclient.get(this.formPrincipale, url).catch(this.catchAuthError());\r\n  }\r\n\r\n  ritornaTagsBrano(params, formChiamante) {\r\n    if (this.eConnesso === false) {\r\n      this.utility.scriveDebug(this.formPrincipale, 'Apiservice. RitornaTagsBrano. Mancanza di connessione');\r\n      return of({});\r\n    }\r\n    const url = this.urlWS + 'wsLWP.asmx/RitornaTagDaBrano?' +\r\n      'idBrano=' + this.sistemaTesto(params.NumeroBrano)\r\n      ;\r\n    this.formChiamante = formChiamante;\r\n    this.lastChiamata = '99';\r\n    this.utility.scriveDebug(this.formPrincipale, 'Apiservice. ritornaTagsBrano. URL: ' + url);\r\n    return this.httpclient.get(this.formPrincipale, url).catch(this.catchAuthError());\r\n  }\r\n\r\n  AggiungeTagABrano(idUtente, params) {\r\n    if (this.eConnesso === false) {\r\n      this.utility.scriveDebug(this.formPrincipale, 'Apiservice. AggiungeTagABrano. Mancanza di connessione');\r\n      return of({});\r\n    }\r\n    const url = this.urlWS + 'wsLWP.asmx/AggiungeTagABrano?' +\r\n      'idUtente=' + this.sistemaTesto(idUtente) + '&' +\r\n      'idBrano=' + this.sistemaTesto(params.NumeroBrano) + '&' +\r\n      'idTag=' + this.sistemaTesto(params.idTag)\r\n      ;\r\n    this.lastChiamata = '99';\r\n    this.utility.scriveDebug(this.formPrincipale, 'Apiservice. AggiungeTagABrano. URL: ' + url);\r\n    return this.httpclient.get(this.formPrincipale, url).catch(this.catchAuthError());\r\n  }\r\n\r\n  EliminaTagDaBrano(idUtente, params) {\r\n    if (this.eConnesso === false) {\r\n      this.utility.scriveDebug(this.formPrincipale, 'Apiservice. EliminaTagDaBrano. Mancanza di connessione');\r\n      return of({});\r\n    }\r\n    const url = this.urlWS + 'wsLWP.asmx/EliminaTagDaBrano?' +\r\n      'idUtente=' + this.sistemaTesto(idUtente) + '&' +\r\n      'idBrano=' + this.sistemaTesto(params.NumeroBrano) + '&' +\r\n      'idTag=' + this.sistemaTesto(params.idTag)\r\n      ;\r\n    this.lastChiamata = '99';\r\n    this.utility.scriveDebug(this.formPrincipale, 'Apiservice. EliminaTagDaBrano. URL: ' + url);\r\n    return this.httpclient.get(this.formPrincipale, url).catch(this.catchAuthError());\r\n  }\r\n\r\n  SalvaTag(params) {\r\n    if (this.eConnesso === false) {\r\n      this.utility.scriveDebug(this.formPrincipale, 'Apiservice. SalvaTag. Mancanza di connessione');\r\n      return of({});\r\n    }\r\n    const url = this.urlWS + 'wsLWP.asmx/SalvaTag?' +\r\n      'Tag=' + this.sistemaTesto(params.Tag)\r\n      ;\r\n    this.lastChiamata = '99';\r\n    this.utility.scriveDebug(this.formPrincipale, 'Apiservice. EliminaTagDaBrano. URL: ' + url);\r\n    return this.httpclient.get(this.formPrincipale, url).catch(this.catchAuthError());\r\n  }\r\n\r\n  EliminaTag(params) {\r\n    if (this.eConnesso === false) {\r\n      this.utility.scriveDebug(this.formPrincipale, 'Apiservice. EliminaTag. Mancanza di connessione');\r\n      return of({});\r\n    }\r\n    const url = this.urlWS + 'wsLWP.asmx/EliminaTag?' +\r\n      'idTag=' + this.sistemaTesto(params.idTag)\r\n      ;\r\n    this.lastChiamata = '99';\r\n    this.utility.scriveDebug(this.formPrincipale, 'Apiservice. EliminaTagDaBrano. URL: ' + url);\r\n    return this.httpclient.get(this.formPrincipale, url).catch(this.catchAuthError());\r\n  }\r\n\r\n  RitornaTuttiTagArtista(params) {\r\n    if (this.eConnesso === false) {\r\n      this.utility.scriveDebug(this.formPrincipale, 'Apiservice. RitornaTuttiITagArtista. Mancanza di connessione');\r\n      return of({});\r\n    }\r\n    const url = this.urlWS + 'wsLWP.asmx/RitornaTuttiTagArtista?' +\r\n      'Artista=' + this.sistemaTesto(params.Artista)\r\n      ;\r\n    this.lastChiamata = '99';\r\n    this.utility.scriveDebug(this.formPrincipale, 'Apiservice. RitornaTuttiTagArtista. URL: ' + url);\r\n    return this.httpclient.get(this.formPrincipale, url).catch(this.catchAuthError());\r\n  }\r\n\r\n  AggiungeTagAdArtista(idUtente, params) {\r\n    if (this.eConnesso === false) {\r\n      this.utility.scriveDebug(this.formPrincipale, 'Apiservice. AggiungeTagAdArtista. Mancanza di connessione');\r\n      return of({});\r\n    }\r\n    const url = this.urlWS + 'wsLWP.asmx/AggiungeTagAdArtista?' +\r\n      'idUtente=' + this.sistemaTesto(idUtente) + '&' +\r\n      'Artista=' + this.sistemaTesto(params.Artista) + '&' +\r\n      'idTag=' + this.sistemaTesto(params.idTag)\r\n      ;\r\n    this.lastChiamata = '99';\r\n    this.utility.scriveDebug(this.formPrincipale, 'Apiservice. AggiungeTagAdArtista. URL: ' + url);\r\n    return this.httpclient.get(this.formPrincipale, url).catch(this.catchAuthError());\r\n  }\r\n\r\n  EliminaTagAdArtista(idUtente, params) {\r\n    if (this.eConnesso === false) {\r\n      this.utility.scriveDebug(this.formPrincipale, 'Apiservice. EliminaTagAdArtista. Mancanza di connessione');\r\n      return of({});\r\n    }\r\n    const url = this.urlWS + 'wsLWP.asmx/EliminaTagAdArtista?' +\r\n      'idUtente=' + this.sistemaTesto(idUtente) + '&' +\r\n      'Artista=' + this.sistemaTesto(params.Artista) + '&' +\r\n      'idTag=' + this.sistemaTesto(params.idTag)\r\n      ;\r\n    this.lastChiamata = '99';\r\n    this.utility.scriveDebug(this.formPrincipale, 'Apiservice. EliminaTagAdArtista. URL: ' + url);\r\n    return this.httpclient.get(this.formPrincipale, url).catch(this.catchAuthError());\r\n  }\r\n\r\n  checkRete(t, idUtente) {\r\n    if (this.eConnesso === false) {\r\n      this.utility.scriveDebug(this.formPrincipale, 'Apiservice. CheckRete. Mancanza di connessione');\r\n      return of({});\r\n    }\r\n    const url = this.urlWS + 'wsLWP.asmx/CheckRete?' +\r\n      'idUtente=' + this.sistemaTesto(idUtente)\r\n      ;\r\n    this.lastChiamata = '99';\r\n    // this.utility.scriveDebug(this.formPrincipale, 'Apiservice. checkRete. URL: ' + url);\r\n    return this.httpclient.get(this.formPrincipale, url).catch(this.catchAuthError());\r\n  }\r\n\r\n  eliminaJSON(t, idUtente) {\r\n    if (this.eConnesso === false) {\r\n      this.utility.scriveDebug(this.formPrincipale, 'Apiservice. EliminaJSON. Mancanza di connessione');\r\n      return of({});\r\n    }\r\n    const url = this.urlWS + 'wsLWP.asmx/EliminaJSON?' +\r\n      'idUtente=' + this.sistemaTesto(idUtente)\r\n      ;\r\n    this.lastChiamata = '99';\r\n    this.utility.scriveDebug(this.formPrincipale, 'Apiservice. EliminaJSON. URL: ' + url);\r\n    return this.httpclient.get(this.formPrincipale, url).catch(this.catchAuthError());\r\n  }\r\n\r\n}\r\n","\r\nimport {throwError as observableThrowError, Observable} from 'rxjs';\r\nimport {Injectable} from '@angular/core';\r\nimport {Http, Headers, Response} from '@angular/http';\r\nimport 'rxjs/add/operator/catch';\r\n\r\nimport { timeout, catchError } from 'rxjs/operators';\r\nimport { of } from 'rxjs/observable/of';\r\nimport { UtilityComponent } from '../varie/utility.component';\r\n@Injectable()\r\nexport class HttpService {\r\n\r\n  headers;\r\n\r\n  constructor(private http: Http) {\r\n    this.headers = new Headers();\r\n  }\r\n\r\n  setHeader(header, value) {\r\n    this.headers.append(header, value);\r\n  }\r\n\r\n  private catchAuthError(self: HttpService) {\r\n    // we have to pass HttpService's own instance here as `self`\r\n    return (res: Response) => {\r\n      return observableThrowError(res);\r\n    };\r\n  }\r\n\r\n  get(t, url, params?) {\r\n    if (t.deviceGirante === 'Android') {\r\n      const postHeaders = new Headers(this.headers);\r\n      postHeaders.append('Content-Type', 'application/text');\r\n      postHeaders.append(\"Cache-Control\", \"no-cache\");\r\n      postHeaders.append(\"Access-Control-Allow-Origin\", \"*\");\r\n      postHeaders.append(\"Access-Control-Allow-Credentials\", \"true\");\r\n      postHeaders.append(\"Access-Control-Allow-Methods\", \"GET, HEAD, POST, PUT, PATCH, DELETE, OPTIONS\");\r\n      postHeaders.append(\"Access-Control-Allow-Headers\", \"Content-Type, Authorization, Accept\");\r\n      // console.log('HEADERS', this.headers);\r\n      /* return this.http.get(url, {\r\n        search: params,\r\n        headers: postHeaders\r\n      }).catch(this.catchAuthError(this)); */\r\n\r\n      return this.http.get(\r\n        url, {\r\n          search: params,\r\n          headers: postHeaders\r\n        }      \r\n      )\r\n      .pipe(\r\n        timeout(UtilityComponent.TimeOutConnessione),\r\n        catchError(e => {\r\n          // do something on a timeout\r\n          return of(null);\r\n          // return e;\r\n        })\r\n      );\r\n    } else {\r\n      /* return this.http.get(url, {\r\n        search: params,\r\n        headers: this.headers\r\n      }).catch(this.catchAuthError(this)); */\r\n\r\n      return this.http.get(\r\n        url, {\r\n          search: params,\r\n          headers: this.headers\r\n        }\r\n      )\r\n      .pipe(\r\n        timeout(UtilityComponent.TimeOutConnessione),\r\n        catchError(e => {\r\n          // do something on a timeout\r\n          return of(null);\r\n          // return e;\r\n        })\r\n      );\r\n    }\r\n  }\r\n\r\n  post(url, data) {\r\n    const postHeaders = new Headers(this.headers);\r\n    postHeaders.append('Content-Type', 'application/text');\r\n    \r\n    postHeaders.append(\"Cache-Control\", \"no-cache\");\r\n    postHeaders.append(\"Access-Control-Allow-Origin\", \"*\");\r\n    postHeaders.append(\"Access-Control-Allow-Credentials\", \"true\");\r\n    postHeaders.append(\"Access-Control-Allow-Methods\", \"GET, HEAD, POST, PUT, PATCH, DELETE, OPTIONS\");\r\n    postHeaders.append(\"Access-Control-Allow-Headers\", \"Content-Type, Authorization, Accept\");\r\n  \r\n    const body = JSON.stringify(data);\r\n    return this.http.post(url, body, {headers: postHeaders})\r\n      .catch(this.catchAuthError(this));\r\n  }\r\n\r\n  post2(url, data, postHeaders) {\r\n    const body = JSON.stringify(data);\r\n    return this.http.post(url, body, {headers: postHeaders})\r\n      .catch(this.catchAuthError(this));\r\n  }\r\n\r\n  put(url, data) {\r\n    const putHeaders = new Headers(this.headers);\r\n    putHeaders.append('Content-Type', 'application/json');\r\n    const body = JSON.stringify(data);\r\n    return this.http.put(url, body, {headers: putHeaders})\r\n      .catch(this.catchAuthError(this));\r\n  }\r\n\r\n  delete(url, data) {\r\n    const postHeaders = new Headers(this.headers);\r\n    postHeaders.append('Content-Type', 'application/json');\r\n    const body = JSON.stringify(data);\r\n    return this.http.delete(url, {headers: postHeaders, body: body})\r\n      .catch(this.catchAuthError(this));\r\n  }\r\n\r\n  async downloadFile(url) {\r\n    const r = await this.http.get(url, this.headers).toPromise();\r\n    // console.log(r);\r\n    return r;\r\n  }\r\n}","import { Injectable } from '@angular/core';\r\nimport { UtilityComponent } from '../varie/utility.component';\r\n\r\ndeclare var webkitSpeechRecognition: any;\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class VoiceRecognitionService {\r\n  recognition =  new webkitSpeechRecognition();\r\n  isStoppedSpeechRecog = false;\r\n  public text = '';\r\n  tempWords;\r\n  formPrincipale;\r\n\r\n  constructor() { }\r\n\r\n  init(t) {\r\n    this.formPrincipale = t;\r\n    this.recognition.interimResults = true;\r\n    this.recognition.lang = 'it';\r\n    console.log(\"Speech recognition inited\")\r\n\r\n    this.recognition.addEventListener('result', (e) => {\r\n      const transcript = Array.from(e.results)\r\n        .map((result) => result[0])\r\n        .map((result) => result.transcript)\r\n        .join('');\r\n      this.tempWords = transcript;\r\n      console.log(transcript);\r\n    });\r\n  }\r\n\r\n  start() {\r\n    this.isStoppedSpeechRecog = false;\r\n    this.recognition.start();\r\n    console.log(\"Speech recognition started\")\r\n    this.recognition.addEventListener('end', (condition) => {\r\n      if (this.isStoppedSpeechRecog) {\r\n        this.recognition.stop();\r\n        console.log(\"End speech recognition\")\r\n      } else {\r\n        this.wordConcat()\r\n        this.recognition.start();\r\n      }\r\n    });\r\n  }\r\n\r\n  stop() {\r\n    this.isStoppedSpeechRecog = true;\r\n    this.wordConcat()\r\n    this.recognition.stop();\r\n    console.log(\"End speech recognition\")\r\n  }\r\n\r\n  wordConcat() {\r\n    this.text = this.tempWords;\r\n    this.formPrincipale.comandoVocale = this.tempWords;\r\n    setTimeout(() => {\r\n      this.formPrincipale.comandoVocale = '';\r\n    }, 3000);\r\n\r\n    this.formPrincipale.utility.parsaTesto(this.formPrincipale, this.tempWords);\r\n    setTimeout(() => {\r\n      this.tempWords = '';\r\n    }, 100);\r\n  }\r\n}","export default \"ul {\\r\\n  list-style: none;\\r\\n  padding: 0px;\\r\\n}\\r\\n\\r\\n\\r\\n/* width */\\r\\n\\r\\n\\r\\n::-webkit-scrollbar {\\r\\n  width: 8px;\\r\\n  height: 8px;\\r\\n}\\r\\n\\r\\n\\r\\n/* Track */\\r\\n\\r\\n\\r\\n::-webkit-scrollbar-track {\\r\\n  background: #f1f1f1; \\r\\n}\\r\\n\\r\\n\\r\\n/* Handle */\\r\\n\\r\\n\\r\\n::-webkit-scrollbar-thumb {\\r\\n  background: #888; \\r\\n}\\r\\n\\r\\n\\r\\n/* Handle on hover */\\r\\n\\r\\n\\r\\n::-webkit-scrollbar-thumb:hover {\\r\\n  background: #555; \\r\\n}\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvdHJlZXZpZXcvdHJlZXZpZXcuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGdCQUFnQjtFQUNoQixZQUFZO0FBQ2Q7OztBQUdBLFVBQVU7OztBQUNWO0VBQ0UsVUFBVTtFQUNWLFdBQVc7QUFDYjs7O0FBRUEsVUFBVTs7O0FBQ1Y7RUFDRSxtQkFBbUI7QUFDckI7OztBQUVBLFdBQVc7OztBQUNYO0VBQ0UsZ0JBQWdCO0FBQ2xCOzs7QUFFQSxvQkFBb0I7OztBQUNwQjtFQUNFLGdCQUFnQjtBQUNsQiIsImZpbGUiOiJzcmMvYXBwL3RyZWV2aWV3L3RyZWV2aWV3LmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyJ1bCB7XHJcbiAgbGlzdC1zdHlsZTogbm9uZTtcclxuICBwYWRkaW5nOiAwcHg7XHJcbn1cclxuXHJcblxyXG4vKiB3aWR0aCAqL1xyXG46Oi13ZWJraXQtc2Nyb2xsYmFyIHtcclxuICB3aWR0aDogOHB4O1xyXG4gIGhlaWdodDogOHB4O1xyXG59XHJcblxyXG4vKiBUcmFjayAqL1xyXG46Oi13ZWJraXQtc2Nyb2xsYmFyLXRyYWNrIHtcclxuICBiYWNrZ3JvdW5kOiAjZjFmMWYxOyBcclxufVxyXG4gXHJcbi8qIEhhbmRsZSAqL1xyXG46Oi13ZWJraXQtc2Nyb2xsYmFyLXRodW1iIHtcclxuICBiYWNrZ3JvdW5kOiAjODg4OyBcclxufVxyXG5cclxuLyogSGFuZGxlIG9uIGhvdmVyICovXHJcbjo6LXdlYmtpdC1zY3JvbGxiYXItdGh1bWI6aG92ZXIge1xyXG4gIGJhY2tncm91bmQ6ICM1NTU7IFxyXG59Il19 */\"","import { AfterViewInit, Component, ElementRef, EventEmitter, Input, OnChanges, OnInit, Output, ViewChild, ViewEncapsulation } from \"@angular/core\";\r\nimport { DomSanitizer } from \"@angular/platform-browser\";\r\nimport { fade } from \"../animations\";\r\nimport { ApiService } from \"../services/api2.service\";\r\nimport { UtilityComponent } from \"../varie/utility.component\";\r\n\r\n@Component({\r\n    selector: 'app-treeview',\r\n    templateUrl: './treeview.component.html',\r\n    styleUrls: ['./treeview.component.css'],\r\n    animations: fade,\r\n    encapsulation: ViewEncapsulation.None,\r\n})\r\n\r\nexport class TreeViewComponent implements OnInit, AfterViewInit, OnChanges {\r\n    @ViewChild(\"divScroll\", { static: false }) divScroll: ElementRef;\r\n\r\n    @Input() braniFiltrati;\r\n    @Input() numeroBranoSelezionato;\r\n    @Input() playlistVisibile;\r\n    @Input() mostraCanzoni = false;\r\n    @Input() listaTags;\r\n    @Input() idUtenza;\r\n    @Input() Amministratore;\r\n    @Input() deviceGirante;\r\n\r\n    @Output() branoClickato: EventEmitter<Number> = new EventEmitter();\r\n    @Output() numeroBrani: EventEmitter<Number> = new EventEmitter();\r\n    @Output() ritornoBrani: EventEmitter<any> = new EventEmitter();\r\n    @Output() branoInLocale: EventEmitter<boolean> = new EventEmitter();\r\n    @Output() braniCambiati: EventEmitter<any> = new EventEmitter();\r\n\r\n    visibile = undefined;\r\n    numeroBrano = -1;\r\n    brani;\r\n    ultimoArtista = -1;\r\n    ultimoAlbum = -1;\r\n    quantiBrani = -1;\r\n    mostraBrani = false;\r\n    suSSD = false;\r\n    tagsBrano;\r\n    tagsArtista;\r\n    fMostraTag = false;\r\n    fMostraTagArtista = false;\r\n    mostraAggiungeTag = false;\r\n    listaTagsVisualizzati;\r\n    artistaSelezionato = '';\r\n    nuovoTag = '';\r\n    caricamentoInCorso = false;\r\n    posX = -1;\r\n    posY = -100;\r\n    testoPopup;\r\n\r\n    constructor(\r\n        private utility: UtilityComponent,\r\n        private apiService: ApiService,\r\n        private sanitizer: DomSanitizer\r\n    ) {\r\n\r\n    }\r\n\r\n    ngOnInit() {\r\n\r\n    }\r\n\r\n    ngAfterViewInit() {\r\n\r\n    }\r\n\r\n    ngOnChanges(e) {\r\n        if (e.braniFiltrati) {\r\n            this.brani = e.braniFiltrati.currentValue;\r\n            // console.log(this.brani);\r\n            this.quantiBrani = this.contaBrani();\r\n            this.apreTree();\r\n        }\r\n\r\n        if (e.numeroBranoSelezionato) {\r\n          if (e.numeroBranoSelezionato.currentValue) {\r\n            this.numeroBrano = e.numeroBranoSelezionato.currentValue;\r\n            this.apreTree();\r\n          }\r\n        }\r\n\r\n        if (e.mostraCanzoni) {\r\n            this.mostraBrani = e.mostraCanzoni.currentValue;\r\n        }\r\n    }\r\n\r\n    caricaBrano() {\r\n        // alert(this.suSSD + ':' + this.numeroBrano);\r\n        this.branoInLocale.emit(this.suSSD);\r\n        setTimeout(() => {\r\n            this.branoClickato.emit(this.numeroBrano);\r\n        }, 100);\r\n    }\r\n    \r\n    contaBrani() {\r\n        let q = 0;\r\n\r\n        if (this.brani) {\r\n            let art = 0;\r\n            let alb = 0;\r\n            this.brani.forEach(element => {\r\n                art++;\r\n                element.children.forEach(element2 => {\r\n                    alb++;\r\n                    element2.children.forEach(element3 => {\r\n                        q++;\r\n                    });\r\n                });\r\n            });\r\n            this.visibile = this.utility.creaMatrice(art, alb, false);\r\n            // console.log(t.visibile[0][1]);\r\n        }\r\n        this.numeroBrani.emit(q);\r\n\r\n        return q;\r\n    }\r\n\r\n    apreTree() {\r\n        if (this.brani && this.visibile) {\r\n            if (this.visibile && this.ultimoArtista > -1 && this.visibile[this.ultimoArtista]) {\r\n                this.visibile[this.ultimoArtista][0] = false;\r\n                this.visibile[this.ultimoArtista][this.ultimoAlbum] = false;\r\n                this.ultimoArtista = -1;\r\n            }\r\n            // this.visibile = new Array();\r\n            let art = 0;\r\n            let alb = 0;\r\n            let f = false;\r\n            this.brani.forEach(element => {\r\n                if (!f) {\r\n                    art++;\r\n                    alb = 0;\r\n                    element.children.forEach(element2 => {\r\n                        if (!f) {\r\n                            alb++;\r\n                            element2.children.forEach(element3 => {\r\n                                if (!f) {\r\n                                    if (element3.id === this.numeroBranoSelezionato) {\r\n                                        this.visibile[art - 1][0] = true;\r\n                                        this.visibile[art - 1][alb] = true;\r\n                                        f = true;\r\n\r\n                                        this.ultimoArtista = art - 1;\r\n                                        this.ultimoAlbum = alb - 1;\r\n\r\n                                        // console.log('Aperto artista ' + art + ', album ' + (alb + 1) + '. TOP: ' + ((art -1) * 25));\r\n\r\n                                        const ele = this.utility.effettuaReplace(element.text, '\\'', '_');\r\n                                        this.spostaDiv(this.utility.effettuaReplace(ele, ' ', '_'));\r\n                                    }\r\n                                }\r\n                            });\r\n                        }\r\n                    });\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    spostaDiv(pos) {\r\n        if (this.playlistVisibile) {\r\n          setTimeout(() => {\r\n            let section = 'section_' + pos;\r\n            // console.log('Sposto a sezione', section);\r\n            if (this.divScroll) {\r\n              this.divScroll.nativeElement.scroll(0, 0);\r\n              const elem = document.querySelector('#' + section);\r\n              // console.log('Sezione', elem);\r\n              if (elem && elem !== null) {\r\n                let offsetTop = elem.getBoundingClientRect().top - 160;\r\n                // console.log('Scroll to', section, offsetTop);\r\n                this.divScroll.nativeElement.scroll(0, offsetTop);\r\n              }\r\n            }\r\n          }, 100);\r\n        }\r\n    }\r\n\r\n  prendeNomeSistemato(n) {\r\n    const nn = this.utility.effettuaReplace(n, '\\'', '_');\r\n    return 'section_' + this.utility.effettuaReplace(nn, ' ', '_');\r\n  }\r\n\r\n  clickatoAlbum(art, alb) {\r\n    // console.log(art, alb);\r\n    const artista = this.brani[art].text;\r\n    const album = this.brani[art].children[alb].text;\r\n    const brani = this.brani[art].children[alb].children;\r\n    const ritorno = {\r\n        idArtista: art,\r\n        artista: artista,\r\n        idAlbum: alb,\r\n        album: album,\r\n        anno: this.brani[art].children[alb].Anno,\r\n        brani: brani\r\n    };\r\n    this.ritornoBrani.emit(ritorno);\r\n  }\r\n\r\n  mostraTag(brano) {\r\n    this.tagsBrano = new Array();\r\n    // console.log(brano.tags);\r\n    const t = brano.tags.split('§');\r\n    t.forEach(element => {\r\n        if (element && element !== '') {\r\n            const tt = element.split(';');\r\n            const ttt = {\r\n                Progressivo: +tt[0],\r\n                Tag: tt[2]\r\n            }\r\n            this.tagsBrano.push(ttt);\r\n        }\r\n    });\r\n    this.fMostraTag = true;\r\n  }\r\n\r\n  impostaTagArtista(artista) {\r\n    // console.log(artista);\r\n    const params = {\r\n        Artista: artista\r\n    };\r\n    this.tagsArtista = new Array();\r\n    this.caricamentoInCorso = true;\r\n    this.apiService.RitornaTuttiTagArtista(params)\r\n        .map(response => this.apiService.controllaRitorno(response))\r\n        .subscribe(\r\n            data => {\r\n                this.caricamentoInCorso = false;\r\n                const data2 = this.apiService.prendeSoloDatiValidi(data);\r\n                this.artistaSelezionato = artista;\r\n                if (data2.indexOf('ERROR:') === -1) {\r\n                    if (data2 && data2 !== '' && data2 !== '-') {\r\n                    const dd = data2.split('§');\r\n                    dd.forEach(element => {\r\n                        if (element && element !== '') {\r\n                            const d2 = element.split(';');\r\n                            if (d2[0] !== '' && d2[1] !== '') {\r\n                                const tt = {\r\n                                    idTag: +d2[0],\r\n                                    Tag: d2[1]\r\n                                }\r\n                                this.tagsArtista.push(tt);\r\n                            }\r\n                            this.fMostraTagArtista = true;\r\n                        }\r\n                    });\r\n                }\r\n            } else {\r\n                this.fMostraTagArtista = true;\r\n            }\r\n        },\r\n        (error) => {\r\n        if (error instanceof Error) {\r\n            this.utility.visualizzaMessaggio(this, 'Lettura Tags: ' + error.message, true);\r\n        }\r\n    });  \r\n  }\r\n\r\n  impostaTagArtistaAlbum(artista, album) {\r\n    // Da implementare\r\n  }\r\n\r\n    eliminaTagArtista(idTag) {\r\n        console.log(idTag);\r\n        this.caricamentoInCorso = true;\r\n        this.apiService.EliminaTagAdArtista(\r\n          this.idUtenza,\r\n          { \r\n            Artista: this.artistaSelezionato,\r\n            idTag: idTag\r\n          }\r\n          ).map(response => this.apiService.controllaRitorno(response))\r\n          .subscribe(\r\n            data => {\r\n              if (data) {\r\n                this.caricamentoInCorso = false;\r\n                const data2 = this.apiService.prendeSoloDatiValidi(data);\r\n                if (data2.indexOf('ERROR:') === -1) {\r\n                    const t = new Array();\r\n                    this.tagsArtista.forEach(element => {\r\n                      if (+element.idTag !== +idTag) {\r\n                        t.push(element);\r\n                      }\r\n                    });\r\n                    this.tagsArtista = t;\r\n          \r\n                  this.aggiornaTag();\r\n    \r\n                  this.sistemaTagAListaBrani();\r\n    \r\n                  this.utility.visualizzaMessaggio(this, data2, true);\r\n                } else {\r\n                  this.utility.visualizzaMessaggio(this, 'Aggiunge tag a brano: ' + data2, true);\r\n                }\r\n              }\r\n            },\r\n            (error) => {\r\n              if (error instanceof Error) {\r\n                this.utility.visualizzaMessaggio(this, 'Aggiunge tag a brano: ' + error.message, true);\r\n              }\r\n            }\r\n        )    \r\n    }\r\n\r\n    aggiungeTagArtista() {\r\n        this.mostraAggiungeTag = true;\r\n\r\n        this.aggiornaTag();\r\n    }\r\n\r\n    aggiornaTag() {\r\n        this.listaTagsVisualizzati = new Array();\r\n        this.listaTags.forEach(element => {\r\n            let ok = 'true';\r\n            if (this.tagsArtista) {\r\n                this.tagsArtista.forEach(element2 => {\r\n                    if (ok === 'true' && +element.idTag === +element2.idTag) {\r\n                        ok = 'false';\r\n                    }\r\n                });\r\n            }\r\n            if (ok === 'true') {\r\n                this.listaTagsVisualizzati.push(element);\r\n            }\r\n        });\r\n        // console.log(this.listaTagsVisualizzati);\r\n    }\r\n\r\n  selezionaTag(id, testo) {\r\n    this.caricamentoInCorso = true;\r\n    this.apiService.AggiungeTagAdArtista(\r\n      this.idUtenza,\r\n      { \r\n        Artista: this.artistaSelezionato,\r\n        idTag: id\r\n      }\r\n      ).map(response => this.apiService.controllaRitorno(response))\r\n      .subscribe(\r\n        data => {\r\n          if (data) {\r\n            this.caricamentoInCorso = false;\r\n            const data2 = this.apiService.prendeSoloDatiValidi(data);\r\n            if (data2.indexOf('ERROR:') === -1) {\r\n                if (testo !== '') {\r\n                    let progressivo = 0;\r\n                    this.tagsArtista.forEach(element => {\r\n                        if (element.Progressivo > progressivo) {\r\n                        progressivo = element.Progressivo;\r\n                        }\r\n                    });\r\n                    progressivo ++;\r\n                    const tt = {\r\n                        Progressivo: progressivo,\r\n                        idTag: +id,\r\n                        Tag: testo\r\n                    }\r\n                    this.tagsArtista.push(tt);\r\n                }\r\n\r\n              this.aggiornaTag();\r\n\r\n              this.sistemaTagAListaBrani();\r\n\r\n              this.utility.visualizzaMessaggio(this, data2, true);\r\n            } else {\r\n              this.utility.visualizzaMessaggio(this, 'Aggiunge tag a brano: ' + data2, true);\r\n            }\r\n          }\r\n        },\r\n        (error) => {\r\n          if (error instanceof Error) {\r\n            this.utility.visualizzaMessaggio(this, 'Aggiunge tag a brano: ' + error.message, true);\r\n          }\r\n        }\r\n    )\r\n  }\r\n\r\n  eliminaTagDaLista(id) {\r\n    this.apiService.EliminaTag(\r\n      { \r\n        idTag: id\r\n      }\r\n      ).map(response => this.apiService.controllaRitorno(response) )\r\n      .subscribe(\r\n        data => {\r\n          if (data) {\r\n            const data2 = this.apiService.prendeSoloDatiValidi(data);\r\n            if (data2.indexOf('ERROR:') === -1) {\r\n              const l = new Array();\r\n              this.listaTagsVisualizzati.forEach(element => {\r\n                if (+element.idTag !== +id) {\r\n                  l.push(element);\r\n                }\r\n              });\r\n              this.listaTagsVisualizzati = l;\r\n\r\n              const l2 = new Array();\r\n              this.listaTags.forEach(element => {\r\n                if (+element.idTag !== +id) {\r\n                  l2.push(element);\r\n                }\r\n              });\r\n              this.listaTags = l2;\r\n            } else {\r\n              this.utility.visualizzaMessaggio(this, 'Aggiunge tag a lista: ' + data2, true);\r\n            }\r\n          }\r\n        },\r\n        (error) => {\r\n          if (error instanceof Error) {\r\n            this.utility.visualizzaMessaggio(this, 'Aggiunge tag a lista: ' + error.message, true);\r\n          }\r\n        }\r\n    )\r\n  }\r\n\r\n  refreshTagArtista() {\r\n    let id = '';\r\n    this.tagsArtista.forEach(element => {\r\n        id += element.idTag + ';';\r\n    });\r\n    if (id.length > 0) {\r\n        id = id.substring(0, id.length - 1);\r\n        this.selezionaTag(id, '');\r\n    }\r\n  }\r\n\r\n  aggiungeTagALista() {\r\n    if (this.nuovoTag === '') {\r\n      this.utility.visualizzaMessaggio(this, 'Inserire un tag', true);\r\n      return;\r\n    }\r\n    this.apiService.SalvaTag(\r\n      { \r\n        Tag: this.nuovoTag\r\n      }\r\n      ).map(response => this.apiService.controllaRitorno(response))\r\n      .subscribe(\r\n        data => {\r\n          if (data) {\r\n            const data2 = this.apiService.prendeSoloDatiValidi(data);\r\n            if (data2.indexOf('ERROR:') === -1) {\r\n              const tt = {\r\n                idTag: +data2,\r\n                Tag: this.nuovoTag\r\n              }\r\n              this.listaTags.push(tt);\r\n              this.listaTagsVisualizzati.push(tt);\r\n              this.nuovoTag = '';\r\n            } else {\r\n              this.utility.visualizzaMessaggio(this, 'Aggiunge tag a lista: ' + data2, true);\r\n            }\r\n          }\r\n        },\r\n        (error) => {\r\n          if (error instanceof Error) {\r\n            this.utility.visualizzaMessaggio(this, 'Aggiunge tag a lista: ' + error.message, true);\r\n          }\r\n        }\r\n    )\r\n  }\r\n  \r\n  sistemaTagAListaBrani() {\r\n    // console.log(this.braniFiltrati);\r\n    // console.log(this.artista);\r\n    // console.log(this.album);\r\n    // console.log(this.titoloBrano);\r\n    this.brani.forEach(element => {\r\n      if (element.text === this.artistaSelezionato) {\r\n        // console.log('Trovato artista', element);\r\n        const albums = element.children;\r\n        albums.forEach(element2 => {\r\n            const brani = element2.children;\r\n            brani.forEach(element3 => {\r\n                let t = '';\r\n                let progressivo = 1;\r\n                this.tagsArtista.forEach(element4 => {\r\n                    t += progressivo + ';' + element4.idTag + ';' + element4.Tag + '§';\r\n                    progressivo++;\r\n                });\r\n                element3.tags = t;\r\n            });\r\n        });\r\n      }\r\n    });\r\n    this.braniCambiati.emit(this.brani);\r\n  }\r\n\r\n  prendeTesto(b, artista, album) {\r\n    let testo = '';\r\n\r\n    testo += '<span style=\"margin-left: 30px; font-weight: bold;\">Artista:</span> ' + artista + '<br />';\r\n    testo += '<span style=\"margin-left: 30px; font-weight: bold;\">Album:</span> ' + album + '<br />';\r\n    testo += '<span style=\"margin-left: 30px; font-weight: bold;\">Titolo:</span> ' + b.traccia + '-' + b.text + '<br />';\r\n    if (this.deviceGirante === 'Android') {\r\n      testo += '<img src=\"assets/immagini/hd4.png\" width=\"25px\" height=\"25px\" />&nbsp;<span style=\"font-weight: bold;\">Brano in locale</span>: ' + (b.locale === true ? 'Sì' : 'No') + '<br />';\r\n    }\r\n    testo += '<img src=\"assets/immagini/ascoltata.png\" width=\"25px\" height=\"25px\" />&nbsp;<span style=\"font-weight: bold;\">Ascoltato:</span> ' + b.ascoltata + '<br />';\r\n    testo += '<img src=\"assets/immagini/preferito.png\" width=\"25px\" height=\"25px\" />&nbsp;<span style=\"font-weight: bold;\">Bellezza:</span> ' + b.stelle + '<br />';\r\n\r\n    const t = b.tags.split('§');\r\n    let tags = '';\r\n    let q = 0;\r\n    t.forEach(element => {\r\n      if (element && element !== '') {\r\n          const tt = element.split(';');\r\n          tags += tt[2] + '; ';\r\n          q++;\r\n          if (q === 2) {\r\n            q = 0;\r\n            tags += '<br /><span style=\"margin-left: 30px;>&nbsp;</span>';\r\n          }\r\n      }\r\n    });\r\n    testo += '<img src=\"assets/immagini/icona_info.png\" width=\"25px\" height=\"25px\" />&nbsp;<span style=\"font-weight: bold;\">Tags:</span> ' + tags + '<br />';\r\n\r\n    return this.sanitizer.bypassSecurityTrustHtml(testo);\r\n  }\r\n\r\n  mostraInfos(b, artista, album) {\r\n    this.testoPopup = this.prendeTesto(b, artista, album);\r\n\r\n    this.fMostraTag = true;\r\n  }\r\n\r\n  aprePopup(e, info) {\r\n    if (this.deviceGirante === 'Android') {\r\n      return;\r\n    }\r\n    // console.log(e, e.y, e.x);\r\n    this.posY = e.y;\r\n    this.posX = e.x;\r\n    this.testoPopup = info;\r\n  }\r\n}  ","export default \".finestra {\\r\\n    position: fixed;\\r\\n    left: 40%;\\r\\n    top: 40%;\\r\\n    padding: 5px;\\r\\n    border: 1px solid #999;\\r\\n    border-radius: 5px;\\r\\n    background-color: white;\\r\\n    /* transform: translateX(-50%);\\r\\n    transform: translateY(-50%); */\\r\\n    z-index: 2001;\\r\\n}\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvdXBsb2FkYnJhbmkvdXBsb2FkYnJhbmkuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLGVBQWU7SUFDZixTQUFTO0lBQ1QsUUFBUTtJQUNSLFlBQVk7SUFDWixzQkFBc0I7SUFDdEIsa0JBQWtCO0lBQ2xCLHVCQUF1QjtJQUN2QjtrQ0FDOEI7SUFDOUIsYUFBYTtBQUNqQiIsImZpbGUiOiJzcmMvYXBwL3VwbG9hZGJyYW5pL3VwbG9hZGJyYW5pLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuZmluZXN0cmEge1xyXG4gICAgcG9zaXRpb246IGZpeGVkO1xyXG4gICAgbGVmdDogNDAlO1xyXG4gICAgdG9wOiA0MCU7XHJcbiAgICBwYWRkaW5nOiA1cHg7XHJcbiAgICBib3JkZXI6IDFweCBzb2xpZCAjOTk5O1xyXG4gICAgYm9yZGVyLXJhZGl1czogNXB4O1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7XHJcbiAgICAvKiB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoLTUwJSk7XHJcbiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTUwJSk7ICovXHJcbiAgICB6LWluZGV4OiAyMDAxO1xyXG59Il19 */\"","import { isNgTemplate } from \"@angular/compiler\";\r\nimport { AfterViewInit, Component, EventEmitter, Input, OnChanges, OnInit, Output, SimpleChanges } from \"@angular/core\";\r\nimport { fade } from \"../animations\";\r\nimport {Http, Headers, Response, RequestOptions} from '@angular/http';\r\nimport { DatePipe } from \"@angular/common\";\r\n\r\n@Component({\r\n    selector: 'app-upload',\r\n    templateUrl: './uploadbrani.component.html',\r\n    styleUrls: ['./uploadbrani.component.css'],\r\n    animations: fade\r\n})\r\n\r\nexport class UploadBraniComponent implements OnInit, AfterViewInit, OnChanges {\r\n    @Input() mascheraVisibile;\r\n    @Input() urlPerUpload;\r\n    @Input() t;\r\n\r\n    @Output() refreshBrani: EventEmitter<string> = new EventEmitter();\r\n    @Output() chiusuraMaschera: EventEmitter<string> = new EventEmitter();\r\n\r\n    attendiUpload = false;\r\n    fileCount: number;\r\n    qualeFile: number;\r\n    files: FileList;\r\n    effettuaRefreshBrani = false;\r\n    fileLogName = '';\r\n    pathFileLog = '';\r\n    visuaLog = false;\r\n    contenutoLog = '';\r\n\r\n    constructor(\r\n        private datePipe: DatePipe,\r\n        private http: Http,\r\n    ) {\r\n\r\n    }\r\n\r\n    ngOnInit(): void {\r\n        this.fileCount = 0;\r\n        this.files = undefined;\r\n    }\r\n\r\n    ngAfterViewInit(): void {\r\n        \r\n    }\r\n\r\n    ngOnChanges(changes: SimpleChanges): void {\r\n        \r\n    }\r\n\r\n    fChiusuraMaschera() {\r\n        this.chiusuraMaschera.emit(new Date().toString());\r\n    }\r\n\r\n    appoggiaFiles(files: FileList) {\r\n        this.fileCount = files.length;\r\n        this.files = files;\r\n    }\r\n\r\n    handleFileInput() {\r\n        if (this.fileCount > 0) {\r\n            const d1 = this.datePipe.transform(new Date(), 'dd-MM-yyyy_HHmmss', 'UTC');\r\n            \r\n            this.fileLogName = 'Log_' + d1;\r\n            this.attendiUpload = true;\r\n            this.qualeFile = 0;\r\n            this.uploadFile();\r\n        } else {\r\n            this.attendiUpload = false;\r\n            alert('Selezionare almeno un file');\r\n        }\r\n    }\r\n\r\n    uploadFile() {\r\n        const formData = new FormData();\r\n        let fileName = '';\r\n        let log = 'SI';\r\n\r\n        // for (let i = 0; i < fileCount; i++) {\r\n        formData.append('accept', this.files.item(this.qualeFile), this.files.item(this.qualeFile).name);\r\n\r\n        fileName = this.files.item(this.qualeFile).name + ';';\r\n        // console.log(fileName);\r\n        // }\r\n\r\n        formData.append('filelog', this.fileLogName);\r\n        formData.append('nomefile', fileName);\r\n        formData.append('log', log);\r\n\r\n        const headers = new Headers();\r\n        headers.append('Accept', 'application/json');\r\n\r\n        const options = new RequestOptions({ headers: headers });\r\n\r\n        console.log('Indirizzo upload', this.urlPerUpload + '/Default.aspx');\r\n\r\n        this.http.post(this.urlPerUpload + '/Default.aspx', formData, options)\r\n        .subscribe(\r\n            data => {\r\n                if (this.qualeFile < this.fileCount - 1) {\r\n                    this.qualeFile++;\r\n                    setTimeout(() => {\r\n                        this.uploadFile();\r\n                    }, 100);\r\n                    return;\r\n                } else {\r\n                    this.files = undefined;\r\n                    this.fileCount = 0;\r\n                    this.attendiUpload = false;\r\n                    if (this.effettuaRefreshBrani === true) {\r\n                        this.refreshBrani.emit(new Date().toString());\r\n                    }\r\n                    this.pathFileLog = this.urlPerUpload + '/Logs/' + this.fileLogName + '.txt';\r\n                    this.visuaLog = true;\r\n\r\n                    this.http.get(this.pathFileLog).subscribe(content => this.contenutoLog = content.text())\r\n                }\r\n            },\r\n            error => {\r\n                this.attendiUpload = false;\r\n                // t.scriveDebug('Errore nell\\'invio', false);\r\n                console.log(error);\r\n            }\r\n        );\r\n    }\r\n\r\n    cambioRefreshBrani(e) {\r\n        setTimeout(() => {\r\n            // console.log(e.srcElement.checked);\r\n            this.effettuaRefreshBrani = e.srcElement.checked;\r\n        }, 10);\r\n    }\r\n\r\n    chiudeLog() {\r\n        console.log('Chiudo schermata log');\r\n        this.visuaLog = false;\r\n    }\r\n}","import { AfterViewInit, Component, Injectable, OnChanges, OnInit } from \"@angular/core\";\r\nimport {throwError as observableThrowError, Observable} from 'rxjs';\r\nimport { connectableObservableDescriptor } from \"rxjs/internal/observable/ConnectableObservable\";\r\nimport { map } from \"rxjs/operators\";\r\nimport { CaricaBranoAutomaticoComponent } from \"./caricabranoautomatico.component\";\r\nimport { ComponentFile } from \"./files\";\r\nimport { ApiService } from \"../services/api2.service\";\r\nimport { HttpService } from \"../services/httpclient.service\";\r\nimport { UtilityComponent } from \"./utility.component\";\r\nimport { SafeResourceUrl } from \"@angular/platform-browser\";\r\nimport { Http, RequestOptions, ResponseContentType } from \"@angular/http\";\r\nimport { Media, MediaObject } from '@awesome-cordova-plugins/media/ngx';\r\n\r\n@Injectable()\r\nexport class CaricaBranoComponent implements OnInit, AfterViewInit, OnChanges {\r\n  braniCaricati = 0;\r\n  branoRilevato;\r\n  frm;\r\n\r\n  constructor(\r\n      public utility: UtilityComponent,\r\n      private http: HttpService,\r\n      private media: Media,\r\n      private caricaBranoAuto: CaricaBranoAutomaticoComponent\r\n  ) {}\r\n\r\n  ngOnInit() {\r\n      \r\n  }\r\n\r\n  ngOnChanges() {\r\n\r\n  }\r\n\r\n  ngAfterViewInit() {\r\n\r\n  }\r\n\r\n  caricaBranoGiaCaricato(t) {\r\n    t.caricamentoInCorso = true;\r\n    this.caricaBranoAuto.settaVariabili(t);\r\n    this.prendeScritte(t);\r\n    t.utility.scriveDebug(t, 'Carico brano già caricato. Impostate variabili');\r\n    this.prosegueCaricamento(t);\r\n    t.impostaBellezza();\r\n    t.startTimerImmagine();\r\n    t.utility.scriveDebug(t, 'Carico brano già caricato. Fine');\r\n  }\r\n\r\n  prendeBranoInBaseAID(t, id) {\r\n    let brano = undefined;\r\n    t.braniFiltrati.forEach(element => {\r\n      if (!brano) {\r\n        // this.Artista = element.text;\r\n        element.children.forEach(element2 => {\r\n          if (!brano) {\r\n            // this.Album = element2.text;\r\n            element2.children.forEach(element3 => {\r\n              if (!brano) {\r\n                if (element3.id === id) {\r\n                  // this.Brano = element3.text;\r\n                  // t.utility.scriveDebug(t, 'Rilevato brano: ' + this.Brano);\r\n                  brano = element3;\r\n                  this.branoRilevato = {\r\n                    Artista: element.text,\r\n                    Anno: element2.anno,\r\n                    Album: element2.text,\r\n                    Brano: element3.text\r\n                  };\r\n                  t.pathBranoProssimo = element3.path;\r\n                  t.branoPresenteSuSD = element3.locale;\r\n                }\r\n              }\r\n            });\r\n          }\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  caricaBrano(t) {\r\n    t.utility.scriveDebug(t, 'Carico brano normale. Caricato prossimo brano: ' + t.caricatoProssimoBrano);\r\n    if (t.deviceGirante === 'Android' && t.caricatoProssimoBrano > -1) {\r\n          t.utility.scriveDebug(t, 'Carico brano già caricato. Inizio');\r\n          this.caricaBranoGiaCaricato(t);\r\n          t.caricatoProssimoBrano = -1;\r\n          return;\r\n    }\r\n\r\n    t.caricamentoInCorso = true;\r\n\r\n    t.utility.scriveDebug(t, 'Carico brano normale. Inizio caricamento brano normale');\r\n\r\n    const ora = new Date();\r\n    const milli = ora.getTime();\r\n    if (milli - t.vecchioMilli < 500) {\r\n      // return;\r\n    }\r\n    t.vecchioMilli = milli;\r\n    // console.log(milli);\r\n\r\n    t.immagineBrano = '';\r\n    t.immagineSfondo = '';\r\n    t.titoloBrano = '';\r\n    t.artista = '';\r\n    t.album = '';\r\n    if (t.intervalDurata) {\r\n      clearInterval(t.intervalDurata);\r\n    }\r\n\r\n    t.utility.scriveDebug(t, 'Carico brano normale. 1... idBrano: ' + t.numeroBrano);\r\n    t.utility.scriveDebug(t, 'Carico brano normale. 1.5... Connesso: ' + t.isConnected);\r\n    t.utility.scriveDebug(t, 'Carico brano normale. 1.75... Brano presente su SD: ' + t.deviceGirante + ' - ' + t.branoPresenteSuSD);\r\n\r\n    if (t.deviceGirante === 'Android' && t.branoPresenteSuSD) {\r\n      t.utility.scriveDebug(t, 'Cerco id brano: ' + t.numeroBrano);\r\n      this.prendeBranoInBaseAID(t, t.numeroBrano);\r\n      // Il brano è già stato scaricato... Inutile riprenderlo\r\n      ComponentFile.percorsoFileSD = ComponentFile.pathSD + t.pathBranoProssimo;\r\n      t.utility.scriveDebug(t, 'Carico brano da locale: ' + ComponentFile.percorsoFileSD);\r\n      t.utility.scriveDebug(t, 'Carico brano Path: ' + t.pathBranoProssimo);\r\n\r\n      let ff = t.pathBranoProssimo;\r\n      let branoLoo = true;\r\n      if (ff.indexOf('looWebPlayer') === -1) {\r\n        branoLoo = false;\r\n      }\r\n      ff = ff.substring(ff.indexOf('LooigiSoft'), ff.length);\r\n      t.utility.scriveDebug(t, 'Parso stringa:' + ff);\r\n      const parti = ff.split('/');\r\n      // LooigiSoft/looWebPlayer/Brani/Artista/Album/Brano\r\n\r\n      if (branoLoo === true) {\r\n        t.artista = parti[3];\r\n        t.album = parti[4];\r\n        if (t.album.indexOf('-') > -1) {\r\n          const a = t.album.split('-');\r\n          t.anno = a[0];\r\n          t.album = a[1];\r\n        } else {\r\n          t.anno = '0000';\r\n        }\r\n        // t.utility.scriveDebug(t, 'Parso stringa. Anno ' + t.anno);\r\n        t.titoloBrano = parti[5];\r\n        if (t.titoloBrano.indexOf('-') > -1) {\r\n          const a = t.titoloBrano.split('-');\r\n          t.traccia = a[0];\r\n          t.titoloBrano = a[1];\r\n        } else {\r\n          t.traccia = '00';\r\n        }\r\n        if (t.titoloBrano.indexOf('.') > -1) {\r\n          const a = t.titoloBrano.split('.');\r\n          t.estensioneBrano = '.' + a[1];\r\n          t.titoloBrano = a[0];\r\n        } else {\r\n          t.estensioneBrano = '';\r\n        }\r\n      } else {\r\n        t.artista = 'Sconosciuto';\r\n        t.album = 'Sconosciuto';\r\n        t.traccia = '00';\r\n        t.anno = '0000';\r\n        t.titoloBrano = parti[parti.length - 1];\r\n        if (t.titoloBrano.indexOf('.') > -1) {\r\n          const a = t.titoloBrano.split('.');\r\n          t.estensioneBrano = '.' + a[1];\r\n          t.titoloBrano = a[0];\r\n        } else {\r\n          t.estensioneBrano = '';\r\n        }\r\n      }\r\n\r\n      t.titoloBranoAutomatico = t.titoloBrano;\r\n      t.scrollaTesto('txtTitoloBranoAutomatico', t.titoloBranoAutomatico, 0);\r\n\r\n      t.utility.scriveDebug(t, 'Carico brano normale. Path ' + ComponentFile.percorsoFileSD);\r\n      t.utility.scriveDebug(t, 'Carico brano normale. Artista ' + t.artista);\r\n      t.utility.scriveDebug(t, 'Carico brano normale. Anno ' + t.anno);\r\n      t.utility.scriveDebug(t, 'Carico brano normale. Album ' + t.album);\r\n      t.utility.scriveDebug(t, 'Carico brano normale. Titolo ' + t.titoloBrano);\r\n      t.utility.scriveDebug(t, 'Carico brano normale. Traccia ' + t.traccia);\r\n      t.utility.scriveDebug(t, 'Carico brano normale. Estensione ' + t.estensioneBrano);\r\n      t.utility.scriveDebug(t, 'Carico brano normale. Titolo ' + t.titoloBrano);\r\n\r\n      // t.imms = [];\r\n      t.volteAscoltata = -1;\r\n      t.numeroBrano = t.numeroBrano;\r\n      t.quantiBrani = t.quantiBrani;\r\n      t.dataBrano = '';\r\n      t.dimensione = '';\r\n      t.testo = '';\r\n      t.testoTradotto = '';\r\n      t.pathBrano = ComponentFile.percorsoFileSD;\r\n      t.tipo = '';\r\n      t.posizioneBrano = 0;\r\n      t.durata = 1;\r\n      t.quanteImmagini = 0;\r\n\r\n      const pathImmagine = t.urlImmagine + 'ImmaginiMusica/' + t.artista + '/' + t.anno + '-' + t.album + '/Cover_' + t.artista + '.jpg';\r\n      t.immagineBrano = pathImmagine;\r\n      t.immagineSfondo = pathImmagine;\r\n\r\n      t.utility.leggeTestoSeEsiste(t, t.artista, t.album, t.titoloBrano);\r\n      t.utility.leggeImmagineSeEsiste(t, t.artista, t.album, t.titoloBrano);\r\n\r\n      t.utility.scriveDebug(t, 'Path immagine ' + pathImmagine);\r\n\r\n      this.prosegueCaricamento(t);\r\n      t.utility.scriveDebug(t, 'Fine proseguo caricamento');\r\n\r\n      t.caricamentoInCorso = false;\r\n\r\n      t.imms = new Array();\r\n      t.scritte = new Array();\r\n      this.prendeScritte(t);\r\n    } else {\r\n      const params = {\r\n        NumeroBrano: t.numeroBrano\r\n      };\r\n  \r\n      if (t.isConnected) {\r\n        t.utility.scriveDebug(t, 'Carico brano normale. 1.75... Ritorna brano: ' + params.NumeroBrano);\r\n        t.apiService.ritornaBrano(\r\n          t.idUtenza,\r\n          params, \r\n          this\r\n        ).map(response => t.apiService.controllaRitorno(response))\r\n        .subscribe(\r\n          data => {\r\n            t.utility.scriveDebug(t, 'Carico brano normale. 1.9...');\r\n            t.caricamentoInCorso = false;\r\n            if (data) {\r\n              const data2 = t.apiService.prendeSoloDatiValidi(data);\r\n              // console.log(data2);\r\n  \r\n              t.utility.scriveDebug(t, 'Carico brano normale. 2... Ritornato brano...');\r\n          \r\n              if (data2.indexOf('ERROR:') === -1) {\r\n                const dati = data2.split('|');\r\n                const datiCanzone = dati[0].split(';');\r\n                if (dati[1]) {\r\n                  if (dati[1].indexOf('§') > -1) {\r\n                    t.imms = dati[1].split('§');\r\n                  } else {\r\n                    t.imms = new Array();\r\n                  }\r\n                } else {\r\n                  t.imms = new Array();\r\n                }\r\n                // t.quanteImmagini = t.imms.length;\r\n                // this.utility.scriveDebug(t, 'Numero immagini artista:' + t.imms.length);\r\n\r\n                let datiCanzoneUlteriori = new Array();\r\n                if (dati[2]) {\r\n                  if (dati[2].indexOf(';') > -1) {\r\n                    datiCanzoneUlteriori = dati[2].split(';');\r\n                  }\r\n                }\r\n                // console.log(datiCanzone);\r\n                \r\n                t.volteAscoltata = +datiCanzoneUlteriori[0];\r\n    \r\n                t.numeroBrano = +datiCanzone[0];\r\n                t.quantiBrani = +datiCanzone[1];\r\n                t.titoloBrano = datiCanzone[5];\r\n                t.artista = datiCanzone[3];\r\n                t.estensioneBrano = datiCanzone[8];\r\n                t.album = datiCanzone[4];\r\n                t.anno = datiCanzone[6];\r\n                t.traccia = datiCanzone[7];\r\n                t.dataBrano = datiCanzone[9];\r\n                t.dimensione = datiCanzone[10];\r\n    \r\n                if (t.traccia.length === 1) {\r\n                  t.traccia = '0' + t.traccia;\r\n                }\r\n                for (let i = t.anno.length + 1; i <= 4; i++) {\r\n                  t.anno = '0' + t.anno;\r\n                }\r\n                // t.impostaBellezza();\r\n\r\n                t.titoloBranoPerTesto = t.utility.sistemaTitoloBrano(t.titoloBrano);\r\n                console.log('Titolo brano: ', t.titoloBranoPerTesto);\r\n    \r\n                t.testo = t.sistemaTesto(datiCanzoneUlteriori[2]);\r\n        \r\n                // console.log(t.testo);\r\n                if (t.testo === '') {\r\n                  t.testo = datiCanzone[3].toUpperCase() + '<br />' + t.titoloBranoPerTesto + '<br /><br />Nessun testo rilevato';\r\n                }\r\n\r\n                if (t.testo.indexOf('Nessun testo rilevato') > -1) {\r\n                  t.Happi.prendeArtista(t, t.numeroBrano, t.artista, t.album, t.titoloBranoPerTesto);\r\n                } else {\r\n                  if (t.deviceGirante === 'Android') {\r\n                    t.utility.scriveTestoSeNonEsiste(t, t.artista, t.album, t.titoloBranoPerTesto, t.testo);\r\n                  }  \r\n                }\r\n\r\n                t.testoTradotto = t.sistemaTesto(datiCanzoneUlteriori[3]);\r\n                if (t.testoTradotto === '') {\r\n                  t.testoTradotto = datiCanzone[3].toUpperCase() + '<br />' + t.titoloBranoPerTesto + '<br /><br />Nessun testo rilevato';\r\n                }\r\n                // console.log(t.testo);\r\n                // console.log(t.testoTradotto);\r\n    \r\n                t.utility.scriveDebug(t, 'Carico brano normale. 3...');\r\n            \r\n                if (t.estensioneBrano.indexOf('.') > -1) {\r\n                  t.estensioneBrano = t.estensioneBrano.substring(t.estensioneBrano.indexOf('.'), t.estensioneBrano.length);\r\n                }\r\n                this.prendeScritte(t);\r\n    \r\n                t.utility.scriveDebug(t, 'Carico brano normale. 4...');\r\n            \r\n                /* if (t.deviceGirante === 'Android') {\r\n                  t.pathBrano = t.apiService.ritornaUrlMP3() + 'Brani/' + \r\n                    t.artista + '/' + t.anno + '-' + t.album + '/' + \r\n                    t.traccia + '-' + t.titoloBrano + t.estensioneBrano;\r\n                } else { */\r\n                  t.pathBrano = t.apiService.ritornaUrlMP3() + 'MP3/' + \r\n                    t.artista + '/' + t.anno + '-' + t.album + '/' + \r\n                    t.traccia + '-' + t.titoloBrano + t.estensioneBrano;\r\n                // }\r\n                t.tipo = 'audio/mpeg';\r\n                if (t.titoloBrano.toUpperCase().indexOf('.MP3') > -1)  {\r\n                  t.titoloBrano = t.titoloBrano.replace('.mp3', '');\r\n                  t.tipo = 'audio/mpeg';\r\n                }\r\n                if (t.titoloBrano.toUpperCase().indexOf('.WMA') > -1)  {\r\n                  t.titoloBrano = t.titoloBrano.replace('.wma', '');\r\n                  t.tipo = 'audio/x-ms-wma';\r\n                }\r\n                while (t.pathBrano.indexOf(' ') > -1) {\r\n                  t.pathBrano = t.pathBrano.replace(' ', '%20');\r\n                }\r\n    \r\n                const cartelletta = 'LooigiSoft';\r\n                const titolone = 'looWebPlayer/Brani/' + t.artista + '/' + t.anno + '-' + t.album + '/' + t.traccia + '-' + t.titoloBrano + t.estensioneBrano;\r\n    \r\n                t.utility.scriveDebug(t, 'Carico brano normale. Download tags brano');\r\n                this.prendeTagsBrano(t);\r\n\r\n                if (t.deviceGirante === 'Android') {\r\n                  // ComponentFile.percorsoFileSD = '';\r\n                  t.utility.scriveDebug(t, 'Carico brano normale. Download brano: ' + t.pathBrano);\r\n                  t.utility.scriveDebug(t, 'Carico brano normale. Cartella: ' + cartelletta);\r\n                  t.utility.scriveDebug(t, 'Carico brano normale. Titolo: ' + titolone);\r\n                  t.file.downloadBrano(t, t.pathBrano, cartelletta, titolone).then((Ritorno) => {\r\n                    if (Ritorno === 'OK') {\r\n                      t.utility.scriveDebug(t, 'Carico brano normale. 4.1 ... Ritorno download *' + Ritorno + '*' + '\\nFile: *' + ComponentFile.percorsoFileSD + '*');\r\n\r\n                      const pathImmagine = t.urlImmagine + 'ImmaginiMusica/' + t.artista + '/' + t.anno + '-' + t.album + '/Cover_' + t.artista + '.jpg';\r\n                      const titolone = 'looWebPlayer/ImmaginiMusica/' + t.artista + '/' + t.anno + '-' + t.album + '/Cover_' + t.artista + '.jpg';\r\n\r\n                      t.file.downloadImmagine(t, pathImmagine, 'LooigiSoft', titolone).then((Ritorno2) => {\r\n                      });        \r\n\r\n                      this.prosegueCaricamento(t);\r\n                    } else {\r\n                      t.utility.scriveDebug(t, 'Errore nel DL. Provo a prendere un altro brano');\r\n                      alert('Errore nel DL: ' + ComponentFile.percorsoFileSD);\r\n                      t.avantiBrano();\r\n                    }\r\n                  });\r\n                  /* const si = setInterval(() => {\r\n                    if (ComponentFile.percorsoFileSD !== '') {\r\n                      clearInterval(si);\r\n  \r\n                      ComponentFile.percorsoImmagineSD = '';\r\n                      const pathImmagine = t.urlImmagine + 'Immagini/' + t.artista + '/' + t.anno + '-' + t.album + '/Cover_' + t.artista + '.jpg';\r\n                      const titolone = 'looWebPlayer/Immagini/' + t.artista + '/' + t.anno + '-' + t.album + '/Cover_' + t.artista + '.jpg';\r\n                      // alert(pathImmagine);\r\n                      // alert(titolone);\r\n                      t.files.downloadImmagine(pathImmagine, 'LooigiSoft', titolone);\r\n                      const si2 = setInterval(() => {\r\n                        if (ComponentFile.percorsoImmagineSD !== '') {\r\n                          clearInterval(si2);\r\n                        }\r\n                      }, 100)\r\n        \r\n                      this.prosegueCaricamento(t);\r\n                    }\r\n                  }, 100) */      \r\n                } else {\r\n                  if (!t.pathBrano || t.pathBrano === '') {\r\n                    t.utility.scriveDebug(t, 'Errore nel DL. Path brano vuoto... Provo a prendere un altro brano');\r\n                    alert('Errore nel DL. Path brano vuoto');\r\n                    t.avantiBrano();\r\n                  } else {\r\n                    ComponentFile.percorsoFileSD = t.pathBrano;\r\n                    this.prosegueCaricamento(t);\r\n                  }\r\n                }\r\n              } else {\r\n                t.utility.scriveDebug(t, 'Carico brano normale. 19... ' + data2);\r\n                t.utility.visualizzaMessaggio(this, 'Carico brano: ' + data2, true);\r\n  \r\n                if (t.staSuonando) {\r\n                  setTimeout(() => {\r\n                    t.avantiBrano();\r\n                  }, 2000); \r\n                }\r\n              }\r\n            } else {\r\n              t.utility.scriveDebug(t, 'Carico brano normale. 20... ' + data);\r\n              t.utility.visualizzaMessaggio(this, 'Carico brano: ' + data, true);\r\n  \r\n              if (t.staSuonando) {\r\n                setTimeout(() => {\r\n                  t.avantiBrano();\r\n                }, 2000); \r\n              }\r\n            }\r\n          },\r\n          (error) => {\r\n            if (error instanceof Error) {\r\n              t.caricamentoInCorso = false;\r\n              t.utility.visualizzaMessaggio(this, 'Errore Carica Brano: ' + error.message, true);\r\n              alert('Errore ritorno carica brano: ' + error .message);\r\n            }\r\n          }\r\n        );\r\n      } else {\r\n        if (t.deviceGirante === 'Android') {\r\n          // Non c'è connessione... Siamo su un dispositivo Android così tento di prendere un brano su SD\r\n          t.utility.scriveDebug(t, 'Carico brano normale. Nessuna connessione, Android');\r\n          t.numeroBrano = t.prendeNumeroProssimoBrano(9);\r\n          t.utility.scriveDebug(t, 'Carico brano normale. Brano in locale: ' + t.numeroBrano);\r\n          this.prendeBranoInBaseAID(t, t.numeroBrano);\r\n\r\n          const brano = this.branoRilevato.Brano;\r\n          const artista = this.branoRilevato.Artista;\r\n          const album = this.branoRilevato.Anno + '-' + this.branoRilevato.Album;\r\n          const nome = brano.traccia + '-' + brano.text;\r\n          const estensione = brano.estensione;\r\n          const nomeBrano = t.file.sistemaNomeFile('looWebPlayer/Brani/' + artista + '/' + album + '/' + nome + '.' + estensione);\r\n          t.utility.scriveDebug(t, 'Carico brano normale. Path brano in locale: ' + nomeBrano);\r\n\r\n          t.titoloBrano = brano.text\r\n          t.artista = this.branoRilevato.Artista;\r\n          t.estensioneBrano = brano.estensione;\r\n          t.album = this.branoRilevato.Album;\r\n          t.anno = this.branoRilevato.Anno;\r\n          t.traccia = brano.traccia;\r\n          t.dataBrano = '';\r\n          t.dimensione = -1;\r\n          this.prendeScritte(t);\r\n\r\n          t.tipo = 'audio/mpeg';\r\n          if (t.titoloBrano.toUpperCase().indexOf('.MP3') > -1)  {\r\n            t.titoloBrano = t.titoloBrano.replace('.mp3', '');\r\n            t.tipo = 'audio/mpeg';\r\n          }\r\n          if (t.titoloBrano.toUpperCase().indexOf('.WMA') > -1)  {\r\n            t.titoloBrano = t.titoloBrano.replace('.wma', '');\r\n            t.tipo = 'audio/x-ms-wma';\r\n          }\r\n\r\n          const pathTesto = t.file.sistemaNomeFile(ComponentFile.pathSD + '/LooigiSoft/Testi/' + artista + '/' + album + '/' + nome + '.txt');\r\n          t.utility.scriveDebug(t, 'Carico brano normale. Path testo in locale: ' + pathTesto);\r\n          t.file.readFile(t, pathTesto, 7).then((Ritorno: string) => {\r\n            t.testoTradotto = '';\r\n            t.testo = t.sistemaTesto(Ritorno);\r\n\r\n            const pathImmagine = t.urlImmagine + 'ImmaginiMusica/' + t.artista + '/' + t.anno + '-' + t.album + '/Cover_' + t.artista + '.jpg';\r\n            t.utility.scriveDebug(t, 'Carico brano normale. Path immagine in locale: ' + pathImmagine);\r\n            t.file.readFile(t, pathImmagine, 5).then((Ritorno: string) => {\r\n              t.immagineSfondo = Ritorno;\r\n              t.immagineBrano = Ritorno;\r\n    \r\n              t.pathBrano = nomeBrano;\r\n              ComponentFile.percorsoFileSD = t.pathBrano;\r\n  \r\n              t.utility.scriveDebug(t, 'Carico brano normale. Proseguo caricamento del brano in locale');\r\n              this.prosegueCaricamento(t);\r\n            });\r\n          });\r\n        } else {\r\n          alert('Connessione assente. Non riesco ad ottenere un brano');\r\n        }\r\n        // Non c'è rete, prendo i files in locale\r\n        // alert('Nessuna rete, prendo un file in locale');\r\n        /*\r\n        const si = setInterval(() => {\r\n          if (!ComponentFile.staLeggendoFiles) {\r\n            clearInterval(si);\r\n            t.caricamentoInCorso = false;\r\n  \r\n            const x = Math.floor(Math.random() * ComponentFile.filesInMemoria.length);\r\n            const f = ComponentFile.filesInMemoria[x];\r\n            let ff = f;\r\n            ff = ff.substring(ff.indexOf('LooigiSoft'), ff.length);\r\n            // alert(ff);\r\n            const parti = ff.split('/');\r\n            ComponentFile.percorsoFileSD = ComponentFile.pathSD + f;\r\n            // alert('File in locale preso\\n' + f);\r\n  \r\n            t.artista = parti[3];\r\n            t.album = parti[4];\r\n            if (t.album.indexOf('-') > -1) {\r\n              const a = t.album.split('-');\r\n              t.anno = a[0];\r\n              t.album = a[1];\r\n            } else {\r\n              t.anno = '0000';\r\n            }\r\n            t.titoloBrano = parti[5];\r\n            if (t.titoloBrano.indexOf('-') > -1) {\r\n              const a = t.titoloBrano.split('-');\r\n              t.traccia = a[0];\r\n              t.titoloBrano = a[1];\r\n            } else {\r\n              t.traccia = '00';\r\n            }\r\n            if (t.titoloBrano.indexOf('.') > -1) {\r\n              const a = t.titoloBrano.split('.');\r\n              t.estensioneBrano = '.' + a[1];\r\n              t.titoloBrano = a[0];\r\n            } else {\r\n              t.estensioneBrano = '';\r\n            }\r\n  \r\n            t.testo = t.artista.toUpperCase() + '<br />' + t.titoloBrano.toUpperCase();\r\n  \r\n            const pathImmagine = t.urlImmagine + 'Immagini/' + t.artista + '/' + t.anno + '-' + t.album + '/Cover_' + t.artista + '.jpg';\r\n            t.immagineBrano = pathImmagine;\r\n            t.immagineSfondo = pathImmagine;\r\n\r\n            console.log('Immagine brano 1: ', t.immagineBrano);\r\n            console.log('Immagine sfondo 1: ', t.immagineSfondo);\r\n\r\n            // alert(pathImmagine);\r\n  \r\n            this.prosegueCaricamento(t);\r\n  \r\n            t.imms = new Array();\r\n            t.scritte = new Array();\r\n            this.prendeScritte(t);\r\n          }\r\n        }, 100); */\r\n      }\r\n    }\r\n  }\r\n\r\n  prendeTagsBrano(t) {\r\n    const params = {\r\n      NumeroBrano: t.numeroBrano\r\n    };\r\n    t.tagsBrano = new Array();\r\n    t.apiService.ritornaTagsBrano(params)\r\n    .map(response => t.apiService.controllaRitorno(response))\r\n      .subscribe(\r\n        data => {\r\n          const data2 = t.apiService.prendeSoloDatiValidi(data);\r\n          t.utility.scriveDebug(t, 'Tags brano: ' + data2);\r\n          if (data2.indexOf('ERROR:') === -1) {\r\n            if (data2 && data2 !== '' && data2 !== '-') {\r\n              const dd = data2.split('§');\r\n              dd.forEach(element => {\r\n                if (element && element !== '') {\r\n                  const d2 = element.split(';');\r\n                  const tt = {\r\n                    Progressivo: +d2[0],\r\n                    idTag: +d2[1],\r\n                    Tag: d2[2]\r\n                  }\r\n                  t.tagsBrano.push(tt);\r\n                }\r\n              });\r\n            }\r\n          }\r\n    },\r\n    (error) => {\r\n      if (error instanceof Error) {\r\n        t.utility.visualizzaMessaggio(this, 'Lettura Tags: ' + error.message, true);\r\n      }\r\n    });\r\n  }\r\n\r\n  prendeScritte(t) {\r\n    t.utility.scriveDebug(t, 'Prende scritte 1');\r\n\r\n    t.scritte = new Array();\r\n    if (t.titoloBrano.indexOf('-') > -1) {\r\n      const t1 = t.titoloBrano.split('-');\r\n      if (t1[1].indexOf('.') > -1) {\r\n        const tt = t1[1].split('.');\r\n        t.scritte.push('Titolo: ' + tt[0]);\r\n        t.scritte.push('Traccia: ' + t[0]);\r\n        t.scritte.push('Tipologia: ' + tt[1]);\r\n      } else {\r\n        t.scritte.push('Titolo: ' + t[1]);\r\n        t.scritte.push('Traccia: ' + t[0]);\r\n      }\r\n    } else {\r\n      t.scritte.push('Titolo: ' + t.titoloBrano);\r\n    }\r\n    t.scritte.push('Artista: ' + t.artista);\r\n    if (t.album.indexOf('-') > -1) {\r\n      const t1 = t.album.split('-');\r\n      t.scritte.push('Album: ' + t1[1]);\r\n      t.scritte.push('Anno: ' + t1[0]);\r\n    } else {\r\n      t.scritte.push('Album: ' + t.album);\r\n    }\r\n    t.scritte.push('Numero Brano: ' + t.numeroBrano + '/' + t.quantiBrani);\r\n    if (t.dimensione) {\r\n      let d = t.dimensione;\r\n      let f = 'b.';\r\n      if (d>1024) {\r\n        d/=1024;\r\n        f = 'kb.';\r\n      }\r\n      if (d>1024) {\r\n        d/=1024;\r\n        f = 'Mb.';\r\n      }\r\n      d = Math.floor(d * 100) / 100;\r\n      t.scritte.push('Dimensione Brano: ' + d + ' ' + f);\r\n    }\r\n    t.scritte.push('Data Brano: ' + t.dataBrano);\r\n    t.qualeScritta = 0;\r\n\r\n    t.utility.scriveDebug(t, 'Prende scritte 2: ' + t.scritte.length);\r\n  }\r\n\r\n  downloadFile(t, url): Observable<Blob> {\r\n    let options = new RequestOptions({responseType: ResponseContentType.Blob });\r\n    let u = url; // encodeURIComponent(url);\r\n    u = t.apiService.cambiaChar(u, '&', '%26');\r\n    u = t.apiService.cambiaChar(u, '\\'', '%27');\r\n\r\n    t.utility.scriveDebug(t, 'Download ' + u);\r\n    return this.http.get(u, options)\r\n        .map(res => res.blob())\r\n        // .catch(this.handleError)\r\n  }\r\n\r\n  async prosegueCaricamento(t) {\r\n    this.frm = t;\r\n\r\n    t.utility.scriveDebug(t, 'Prosegue caricamento');\r\n    t.utility.scriveDebug(t, 'Carico brano normale. 5...' + t.titoloBrano + ' - ' + t.tipo);\r\n    t.utility.scriveDebug(t, 'Carico brano normale. 5.2...' + ComponentFile.percorsoFileSD);\r\n        \r\n    if (t.impostatoBranoFinito === true) {\r\n      t.impostatoBranoFinito = false;\r\n    }\r\n\r\n    t.caricamentoInCorso = true;\r\n\r\n    if (t.deviceGirante !== 'Android') {\r\n      let u = ComponentFile.percorsoFileSD; // encodeURIComponent(ComponentFile.percorsoFileSD);\r\n      u = t.apiService.cambiaChar(u, '&', '%26');\r\n      u = t.apiService.cambiaChar(u, '\\'', '%27');\r\n\r\n      t.utility.scriveDebug(t, 'Acquisizione brano ' + u);\r\n        \r\n      const response = await window.fetch(u);\r\n\r\n      const audioArrayBuffer = await response.arrayBuffer();\r\n      const audioBlob = new Blob([audioArrayBuffer]);\r\n      const audioObjectURL = window.URL.createObjectURL(audioBlob);\r\n      \r\n      // if (t.deviceGirante !== 'Android') {\r\n        t.audio.src = audioObjectURL;\r\n        t.audio.type = 'audio/mp3';\r\n      // } else {\r\n      //  t.audioAndroid = t.media.create(audioObjectURL);\r\n      // }\r\n\r\n      this.prosegueCaricamento2();\r\n    } else {\r\n      // if (t.deviceGirante !== 'Android') {\r\n      //   t.audio.src = ComponentFile.percorsoFileSD;\r\n\r\n      //   this.prosegueCaricamento2();\r\n      // } else {\r\n        // alert('Brano: ' + ComponentFile.percorsoFileSD);\r\n        if (t.audioAndroid) { \r\n          t.audioAndroid.release();\r\n        }\r\n\r\n        t.utility.scriveDebug(t, 'Acquisizione brano Android: ' + ComponentFile.percorsoFileSD);\r\n\r\n        t.audioAndroid = this.media.create(ComponentFile.percorsoFileSD);\r\n        t.staLeggendoBrano = true;\r\n\r\n        t.audioAndroid.onStatusUpdate.subscribe(status =>  {\r\n          if (t.staLeggendoBrano === true) {\r\n            t.utility.scriveDebug(t, 'Update: ' + status);          \r\n\r\n            /* if (status === 1) {\r\n              setTimeout(() => {\r\n                t.audioAndroid.play();\r\n              }, 100);\r\n            } else {\r\n              if (status === 2) {     \r\n                t.utility.scriveDebug(t, 'Durata brano: ' + t.audioAndroid.getDuration());\r\n                this.prosegueCaricamento2();\r\n                setTimeout(() => {\r\n                  t.audioAndroid.pause();\r\n                  t.staLeggendoBrano = false;\r\n                }, 100);\r\n              }\r\n            } */\r\n          }\r\n        });\r\n\r\n        t.audioAndroid.onSuccess.subscribe(() => \r\n          {\r\n            // alert('Brano caricato correttamente');\r\n          });\r\n\r\n        // alert('Errore: ' + JSON.stringify(error)\r\n        t.audioAndroid.onError.subscribe(error => {\r\n          \r\n        });\r\n\r\n        this.prosegueCaricamento2();\r\n      }\r\n    // }\r\n  }\r\n\r\n  prosegueCaricamento2() {\r\n    const t = this.frm;\r\n\r\n    if (t.deviceGirante !== 'Android') {\r\n      if (!t.audio) {\r\n        t.audio = new Audio();\r\n      }\r\n    } else {\r\n      if (!t.audioAndroid) {\r\n        alert('SBAGLIATISSIMO!!!');\r\n      }\r\n    }\r\n    // t.audio.pause();\r\n\r\n\r\n    // alert('Brano da caricare:' + Files.percorsoFileSD);\r\n\r\n    // t.audio = new Audio();\r\n    \r\n    // console.log(t.pathBrano);\r\n\r\n\r\n\r\n    t.posizioneBrano = 0;\r\n    t.durata = 1;\r\n    /* try {\r\n      t.audio.load();\r\n    } catch (e) {\r\n      t.utility.scriveDebug(t, 'Carico brano normale. ERRORE load: ' + e);\r\n      alert('Errore nel load: ' + JSON.stringify(e));\r\n      \r\n      t.caricatoProssimoBrano = -1;\r\n      t.titoloBranoAutomatico = '';\r\n      t.fFiles.operazioneSuFile = '';\r\n\r\n      t.caricamentoInCorso = false;\r\n  \r\n      if (t.staSuonando) {\r\n        setTimeout(() => {\r\n          // t.avantiBrano();\r\n        }, 2000);\r\n      }\r\n      return;\r\n    } */\r\n    \r\n    t.immaginiCambiate = 0;\r\n    t.staAspettandoCaricamento = true;\r\n    t.scaricatoAutomaticamente = false;\r\n\r\n    if (t.intervalDurata) {\r\n      clearInterval(t.intervalDurata);\r\n    }\r\n    let errori = 0;\r\n    t.utility.scriveDebug(t, 'Carico brano normale. 5.5... Parte timer di attesa caricamento per il file ' + ComponentFile.percorsoFileSD);\r\n    // alert('Android: ***' + t.deviceGirante + '***');\r\n\r\n    if (t.deviceGirante !== 'Android') {\r\n      t.intervalDurata = setInterval(() => {\r\n        if (t.audio.duration) {\r\n          clearInterval(t.intervalDurata);\r\n\r\n          this.prosegueCaricamentoBrano(t);\r\n\r\n          t.audio.currentTime = 0;\r\n          t.durata = t.audio.duration;\r\n          t.tempoTotaleBrano = t.durata;\r\n          t.tempoTotale = t.converteTempo(t.durata);\r\n          t.posizioneBrano = 0;\r\n          // t.durata = 1;\r\n\r\n          t.utility.scriveDebug(t, 'Carico brano normale. 6...' + t.durata + ' - ' + t.tempoTotale + '. Sta suonando: ' + t.staSuonando);\r\n          \r\n          t.scriveVolteAscoltata();\r\n\r\n          this.braniCaricati++;\r\n          if (this.braniCaricati > 10) {\r\n            this.braniCaricati = 0;\r\n            ComponentFile.eliminaFiles(t, 3);\r\n          }\r\n\r\n          if (t.staSuonando === true) {\r\n            if (!t.staCaricandoVideo) {\r\n              t.audio.play();\r\n            }\r\n            t.startTimerAndroid();\r\n            if (t.cicla === false) {\r\n              t.startTimerImmagine();\r\n            }\r\n          }\r\n          t.staAspettandoCaricamento = false;\r\n\r\n          t.caricamentoInCorso = false;\r\n        } else {\r\n          errori++;\r\n          if (errori > 5) {\r\n            clearInterval(t.intervalDurata);\r\n\r\n            // alert('Errore nel caricamento del brano.\\nNon riesco a ottenere le informazioni.\\nCarico il brano successivo...');\r\n            t.utility.scriveDebug(t, 'Errore nel caricamento del brano. Non riesco a ottenere le informazioni: ' + ComponentFile.percorsoFileSD);\r\n            alert('Errore nell\\'ottenere le informazioni del brano: ' + ComponentFile.percorsoFileSD);\r\n\r\n            t.caricatoProssimoBrano = -1;\r\n            t.titoloBranoAutomatico = '';\r\n            t.scrollaTesto('txtTitoloBranoAutomatico', t.titoloBranoAutomatico, 0);\r\n            t.fFiles.operazioneSuFile = '';\r\n            t.scrollaTesto('txtOperazioneSuFile', t.fFiles.operazioneSuFile, 1);\r\n\r\n            t.caricamentoInCorso = false;\r\n        \r\n            if (t.staSuonando) {\r\n              setTimeout(() => {\r\n                t.avantiBrano();\r\n              }, 2000);\r\n            }\r\n          }\r\n        }\r\n      }, 1000);\r\n    } else {\r\n      /* t.audioAndroid.onError.subscribe(error => {\r\n        t.utility.scriveDebug(t, 'Errore nel caricamento del brano Android. Non riesco a ottenere le informazioni: ' + ComponentFile.percorsoFileSD);\r\n        alert('Errore nell\\'ottenere le informazioni del brano: ' + ComponentFile.percorsoFileSD);\r\n\r\n        t.caricatoProssimoBrano = -1;\r\n        t.titoloBranoAutomatico = '';\r\n        t.fFiles.operazioneSuFile = '';\r\n\r\n        t.caricamentoInCorso = false;\r\n    \r\n        if (t.staSuonando) {\r\n          setTimeout(() => {\r\n            t.avantiBrano();\r\n          }, 2000);\r\n        }\r\n      }); */\r\n      // t.audioAndroid.onSuccess.subscribe(() => {\r\n      // t.intervalDurata = setInterval(() => {\r\n      //   if (t.audioAndroid.getDuration() > 0) {\r\n          clearInterval(t.intervalDurata);\r\n    \r\n          this.prosegueCaricamentoBrano(t);\r\n\r\n          t.audioAndroid.seekTo(0);\r\n          t.durata = 1;\r\n          t.posizioneBrano = 0;\r\n    \r\n          t.utility.scriveDebug(t, 'Carico brano normale Android. 6...' + t.durata + ' - ' + t.tempoTotale + '. Sta suonando: ' + t.staSuonando);\r\n          \r\n          t.scriveVolteAscoltata();\r\n    \r\n          this.braniCaricati++;\r\n          if (this.braniCaricati > 10) {\r\n            this.braniCaricati = 0;\r\n            ComponentFile.eliminaFiles(t, 3);\r\n          }\r\n    \r\n          if (t.staSuonando === true) {\r\n            if (!t.staCaricandoVideo) {\r\n              t.audioAndroid.play();\r\n            }\r\n            t.startTimerAndroid();\r\n            if (t.cicla === false) {\r\n              t.startTimerImmagine();\r\n            }\r\n          }\r\n          t.staAspettandoCaricamento = false;\r\n    \r\n          t.caricamentoInCorso = false;  \r\n        /* } else {\r\n          errori++;\r\n          if (errori > 5) {\r\n            clearInterval(t.intervalDurata);\r\n\r\n            // alert('Errore nel caricamento del brano.\\nNon riesco a ottenere le informazioni.\\nCarico il brano successivo...');\r\n            t.utility.scriveDebug(t, 'Errore nel caricamento del brano Android. Non riesco a ottenere le informazioni: ' + ComponentFile.percorsoFileSD);\r\n            alert('Errore nell\\'ottenere le informazioni del brano Android: ' + ComponentFile.percorsoFileSD);\r\n\r\n            t.caricatoProssimoBrano = -1;\r\n            t.titoloBranoAutomatico = '';\r\n            t.fFiles.operazioneSuFile = '';\r\n\r\n            t.caricamentoInCorso = false;\r\n        \r\n            if (t.staSuonando) {\r\n              setTimeout(() => {\r\n                t.avantiBrano();\r\n              }, 2000);\r\n            }\r\n          }\r\n        }\r\n      }, 1000); */\r\n      // });\r\n    };\r\n  }\r\n  \r\n  prosegueCaricamentoBrano(t) {\r\n      t.utility.scriveDebug(t, 'Carico brano normale. 8... Immagini da db: ' + t.imms.length);\r\n  \r\n      t.immagini = new Array();\r\n      let numeroImmagine = -1;\r\n      let c = 0;\r\n      t.inizioImmagini = -1;\r\n      t.quanteImmagini = 0;\r\n      t.imms.forEach(element => {\r\n        if (element) {\r\n          // console.log(element);\r\n          const e = element.split(';');\r\n          const i = {\r\n            idImmagine: +e[0],\r\n            cartella: e[1],\r\n            immagine: e[2]\r\n          };\r\n          // if (i && i.immagine && i.immagine.indexOf('.gif') > -1) {\r\n          t.immagini.push(i);\r\n          let cc = i.cartella;\r\n          if (cc.indexOf('-') > -1) {\r\n            cc = cc.substring(cc.indexOf('-') + 1, cc.length);\r\n          }\r\n          // console.log(cc);\r\n          if (i.immagine && i.immagine.toUpperCase().indexOf('COVER_') > -1) { //  && cc === t.album) {\r\n              numeroImmagine = c;\r\n          } else {\r\n            if (cc || (i && i.immagine && i.immagine.indexOf('.gif') > -1)) {\r\n              if (t.inizioImmagini === -1) {\r\n                t.inizioImmagini = c;\r\n              }\r\n              t.quanteImmagini++;\r\n            }\r\n          }\r\n          c++;\r\n        }\r\n        // }\r\n      });\r\n      // console.log(t.immagini);\r\n      t.utility.scriveDebug(t, 'Carico brano normale. 9... Immagini ' + t.quanteImmagini);\r\n      t.utility.scriveDebug(t, 'Carico brano normale. 9.2.. Immagine COVER ' + numeroImmagine);\r\n  \r\n      if (numeroImmagine === -1) {\r\n        t.immagineBrano = '../assets/immagini/looWPIcon.png';\r\n      }\r\n      // console.log(t.immagini, numeroImmagine, t.inizioImmagini, t.quanteImmagini, t.immagineBrano);\r\n  \r\n      const r = Math.floor(Math.random() * (t.quanteImmagini - t.inizioImmagini + 1) + t.inizioImmagini);\r\n      // console.log(r);\r\n  \r\n      if (t.immagini && t.immagini[r] && t.immagini[r].immagine) {\r\n        if (t.immagini[r].immagine.indexOf('.gif') === -1) {\r\n          t.appoSfondo = t.urlImmagine + 'ImmaginiMusica/' + t.artista + '/' +\r\n            t.immagini[r].cartella + '/' + t.immagini[r].immagine;\r\n        } else {\r\n          t.appoSfondo = t.urlImmagine + 'Gifs/' + t.artista + '/' + t.immagini[r].immagine;\r\n        }\r\n        // console.log(t.appoSfondo);\r\n  \r\n        setTimeout(() => {\r\n          t.immagineSfondo = t.appoSfondo;\r\n        }, 100);\r\n      }\r\n  \r\n      if (t.modalitaYouTube === 'S' && \r\n        t.artista.toUpperCase().indexOf('CARTONI') === -1 &&\r\n        t.artista.toUpperCase().indexOf('DEMENZ') === -1 &&\r\n        t.artista.toUpperCase().indexOf('3MICA') === -1 &&\r\n        t.artista.toUpperCase().indexOf('3ANGELICA') === -1\r\n        ) {\r\n        t.ytComponent.prendeVideoYouTube(this, 'N');\r\n      } else {\r\n        t.staCaricandoVideo = false;\r\n      }\r\n  \r\n      // console.log(t.immagineSfondo);\r\n  \r\n      t.pauseTimer();\r\n  \r\n      t.utility.scriveDebug(t, 'Carico brano normale. 16');\r\n  \r\n      /* if (t.staSuonando === true) {\r\n        if (!t.staCaricandoVideo) {\r\n          t.audio.play();\r\n        }\r\n        t.startTimer();\r\n        if (t.cicla === false) {\r\n          t.startTimerImmagine();\r\n        }\r\n      } */\r\n  \r\n      t.utility.scriveDebug(t, 'Carico brano normale. 17');\r\n  \r\n      if (numeroImmagine > -1) {\r\n        const nome = t.apiService.ritornaUrlImmagine() + 'ImmaginiMusica/' + t.artista + '/' +\r\n          t.immagini[numeroImmagine].cartella + '/' + t.immagini[numeroImmagine].immagine;\r\n  \r\n        t.immagineBrano = t.effettuaReplace(nome, ' ', '%20');         \r\n        \r\n        console.log('Immagine brano 2: ', t.immagineBrano);\r\n\r\n        if (t.deviceGirante === 'Android') {\r\n          t.utility.scriveImmagineSeNonEsiste(t, t.artista, t.immagini[numeroImmagine].cartella, t.immagini[numeroImmagine].immagine, t.immagineBrano);\r\n        }\r\n    \r\n        // console.log(t.apiService.ritornaUrlImmagine() + 'Immagini/' + t.artista + '/', t.immagini[numeroImmagine], t.immagineBrano);\r\n      }\r\n      // console.log(t.immagini);\r\n      // console.log(t.immagineBrano);\r\n  \r\n      if (t.cicla === true) {\r\n        t.startTimerImmagine();\r\n      }\r\n  \r\n      localStorage.setItem('numero_brano', t.numeroBrano.toString());\r\n  \r\n      t.utility.scriveDebug(t, 'Carico brano normale. 18... Fine');\r\n              \r\n      t.impostaBellezza();\r\n  \r\n      t.caricaDettaglioArtista('N');\r\n  \r\n      // t.utility.apreTree(this);\r\n      // t.apreAlbero = !t.apreAlbero;\r\n  \r\n      // t.impostaBellezza();\r\n      // console.log(datiCanzone, t.pathBrano, t.immagini);    \r\n  }\r\n}","import { AfterViewInit, Injectable, OnChanges, OnInit } from \"@angular/core\";\r\nimport {throwError as observableThrowError, Observable} from 'rxjs';\r\nimport { connectableObservableDescriptor } from \"rxjs/internal/observable/ConnectableObservable\";\r\nimport { map } from \"rxjs/operators\";\r\nimport { ComponentFile } from \"./files\";\r\nimport { UtilityComponent } from \"./utility.component\";\r\n\r\n@Injectable()\r\nexport class CaricaBranoAutomaticoComponent implements OnInit, AfterViewInit, OnChanges {\r\n  imms;\r\n  volteAscoltata;\r\n  numeroBrano;\r\n  quantiBrani;\r\n  artista;\r\n  estensioneBrano;\r\n  album;\r\n  anno;\r\n  traccia;\r\n  dataBrano;\r\n  dimensione;\r\n  testo;\r\n  testoTradotto;\r\n  pathBrano;\r\n  tipo;\r\n\r\n  constructor(\r\n      public utility: UtilityComponent,\r\n  ) {}\r\n\r\n  ngOnInit() {\r\n      \r\n  }\r\n\r\n  ngOnChanges() {\r\n\r\n  }\r\n\r\n  ngAfterViewInit() {\r\n\r\n  }\r\n\r\n  caricaBrano(t) {\r\n    t.scriveDebug('Carico brano automatico. Inizio');\r\n\r\n    t.titoloBranoAutomatico = '';\r\n    this.artista = '';\r\n    this.album = '';\r\n\r\n    t.scriveDebug('Carico brano automatico. 1... idBrano: ' + t.numeroBrano);\r\n    t.scriveDebug('Carico brano automatico. 1.5... Connesso: ' + t.isConnected);\r\n\r\n    if (t.deviceGirante === 'Android' && t.branoPresenteSuSD) {\r\n      // Il brano è già stato scaricato... Inutile riprenderlo\r\n    } else {\r\n      const params = {\r\n        NumeroBrano: t.numeroBrano\r\n      };\r\n\r\n      if (t.isConnected) {\r\n        t.scriveDebug('Carico brano automatico. 1.75... Ritorna brano: ' + params.NumeroBrano);\r\n        t.apiService.ritornaBrano(\r\n          params\r\n        ).map(response => response.text())\r\n        .subscribe(\r\n          data => {\r\n            t.scriveDebug('Carico brano automatico. 1.9...');\r\n            if (data) {\r\n              const data2 = t.apiService.prendeSoloDatiValidi(data);\r\n              // console.log(data2);\r\n\r\n              t.scriveDebug('Carico brano automatico. 2... Ritornato brano...');\r\n          \r\n              if (data2.indexOf('ERROR:') === -1) {\r\n                const dati = data2.split('|');\r\n                const datiCanzone = dati[0].split(';');\r\n                this.imms = dati[1].split('§');\r\n                const datiCanzoneUlteriori = dati[2].split(';');\r\n                // console.log(datiCanzone);\r\n                \r\n                this.volteAscoltata = +datiCanzoneUlteriori[0];\r\n    \r\n                this.numeroBrano = +datiCanzone[0];\r\n                this.quantiBrani = +datiCanzone[1];\r\n                t.titoloBranoAutomatico = datiCanzone[5];\r\n                this.artista = datiCanzone[3];\r\n                this.estensioneBrano = datiCanzone[8];\r\n                this.album = datiCanzone[4];\r\n                this.anno = datiCanzone[6];\r\n                this.traccia = datiCanzone[7];\r\n                this.dataBrano = datiCanzone[9];\r\n                this.dimensione = datiCanzone[10];\r\n    \r\n                if (this.traccia.length === 1) {\r\n                  this.traccia = '0' + this.traccia;\r\n                }\r\n                for (let i = this.anno.length + 1; i <= 4; i++) {\r\n                  this.anno = '0' + this.anno;\r\n                }\r\n                // t.impostaBellezza();\r\n    \r\n                this.testo = t.sistemaTesto(datiCanzoneUlteriori[2]);\r\n                if (this.testo === '') {\r\n                  this.testo = datiCanzone[3].toUpperCase() + '<br />' + datiCanzone[5] + '<br /><br />Nessun testo rilevato';\r\n                }\r\n                this.testoTradotto = t.sistemaTesto(datiCanzoneUlteriori[3]);\r\n                if (this.testoTradotto === '') {\r\n                  this.testoTradotto = datiCanzone[3].toUpperCase() + '<br />' + datiCanzone[5] + '<br /><br />Nessun testo rilevato';\r\n                }\r\n                // console.log(t.testo);\r\n                // console.log(t.testoTradotto);\r\n    \r\n                t.scriveDebug('Carico brano automatico. 3...');\r\n            \r\n                if (this.estensioneBrano.indexOf('.') > -1) {\r\n                  this.estensioneBrano = this.estensioneBrano.substring(this.estensioneBrano.indexOf('.'), this.estensioneBrano.length);\r\n                }\r\n    \r\n                t.scriveDebug('Carico brano automatico. 4...');\r\n            \r\n                this.pathBrano = t.apiService.ritornaUrlWS() + 'Brani/' + \r\n                this.artista + '/' + this.anno + '-' + this.album + '/' + \r\n                this.traccia + '-' + t.titoloBranoAutomatico + this.estensioneBrano;\r\n                this.tipo = 'audio/mpeg';\r\n                if (t.titoloBranoAutomatico.toUpperCase().indexOf('.MP3') > -1)  {\r\n                  t.titoloBranoAutomatico = t.titoloBranoAutomatico.replace('.mp3', '');\r\n                  this.tipo = 'audio/mpeg';\r\n                }\r\n                if (t.titoloBranoAutomatico.toUpperCase().indexOf('.WMA') === -1)  {\r\n                  t.titoloBranoAutomatico = t.titoloBranoAutomatico.replace('.wma', '');\r\n                  this.tipo = 'audio/x-ms-wma';\r\n                }\r\n                while (this.pathBrano.indexOf(' ') > -1) {\r\n                  this.pathBrano = this.pathBrano.replace(' ', '%20');\r\n                }\r\n    \r\n                const cartelletta = 'LooigiSoft';\r\n                const titolone = 'looWebPlayer/Brani/' + this.artista + '/' + this.anno + '-' + this.album + '/' + this.traccia + '-' + t.titoloBranoAutomatico + this.estensioneBrano;\r\n                t.scriveDebug('Carico brano automatico. Titolo: ' + titolone);\r\n\r\n                if (t.deviceGirante === 'Android') {\r\n                  ComponentFile.percorsoFileSD = '';\r\n                  t.file.downloadBrano(t, this.pathBrano, cartelletta, titolone).then((Ritorno) => {\r\n                    t.caricatoProssimoBrano = this.numeroBrano;\r\n                    t.scriveDebug('Carico brano automatico. Effettuato download: ' + this.pathBrano);\r\n                  });\r\n                  /* const si = setInterval(() => {\r\n                    if (ComponentFile.percorsoFileSD !== '') {\r\n                      if (ComponentFile.percorsoFileSD !== 'Download interrotto') {\r\n                        clearInterval(si);\r\n\r\n                        t.caricatoProssimoBrano = this.numeroBrano;\r\n                        t.scriveDebug('Carico brano automatico. Effettuato download: ' + this.pathBrano);\r\n                      } else {\r\n                        t.scriveDebug('Carico brano automatico. Download bloccato');\r\n                        t.caricatoProssimoBrano = -1;\r\n                      }\r\n                    }\r\n                  }, 100) */\r\n                } else {\r\n                  ComponentFile.percorsoFileSD = t.pathBrano;\r\n                }\r\n              } else {\r\n                t.scriveDebug('Carico brano automatico. 19... ' + data2);\r\n                t.utility.visualizzaMessaggio(this, 'Carico brano: ' + data2, true);\r\n              }\r\n            } else {\r\n              t.scriveDebug('Carico brano automatico. 20... ' + data);\r\n              t.utility.visualizzaMessaggio(this, 'Carico brano: ' + data, true);\r\n            }\r\n          },\r\n          (error) => {\r\n            if (error instanceof Error) {\r\n              t.utility.visualizzaMessaggio(this, 'Carica Brano: ' + error.message, true);\r\n            }\r\n          }\r\n        );\r\n      } else {\r\n        t.scriveDebug('Non riesco a leggere le informazioni sul brano successivo per mancanza di rete');\r\n      }\r\n    }\r\n  }\r\n\r\n  settaVariabili(t) {\r\n    t.imms = this.imms;\r\n    t.volteAscoltata = this.volteAscoltata;\r\n    t.numeroBrano = this.numeroBrano;\r\n    t.quantiBrani = this.quantiBrani;\r\n    t.titoloBrano = t.titoloBranoAutomatico;\r\n    t.artista = this.artista;\r\n    t.estensioneBrano = this.estensioneBrano;\r\n    t.album = this.album;\r\n    t.anno = this.anno;\r\n    t.traccia = this.traccia;\r\n    t.dataBrano = this.dataBrano;\r\n    t.dimensione = this.dimensione;\r\n    t.testo = this.testo;\r\n    t.testoTradotto = this.testoTradotto;\r\n    t.pathBrano = this.pathBrano;\r\n    t.tipo = this.tipo;  \r\n    t.posizioneBrano = 0;\r\n  }\r\n}","import { Injectable, OnChanges, OnInit } from \"@angular/core\";\r\nimport { ApiService } from \"../services/api2.service\";\r\nimport { UtilityComponent } from \"./utility.component\";\r\n\r\n@Injectable()\r\nexport class CheckReteComponent implements OnInit, OnChanges {\r\n  frmPrincipale;\r\n  staLeggendo;\r\n\r\n  constructor(\r\n      public utility: UtilityComponent,\r\n      private apiService: ApiService,\r\n  ) {}\r\n\r\n  ngOnInit() {\r\n      \r\n  }\r\n\r\n  ngOnChanges() {\r\n\r\n  }\r\n\r\n  settaFramePrincipale(t) {\r\n    this.frmPrincipale = t;\r\n  }\r\n\r\n  AttivaControllo() {\r\n    if (this.frmPrincipale.moadalitaLight) {\r\n      return;\r\n    }\r\n    \r\n    this.checkRete();\r\n    const tt = setInterval(() => {\r\n      this.checkRete();\r\n    }, 30000);\r\n  }\r\n\r\n  checkRete() {\r\n    this.staLeggendo = true;\r\n    const t = setInterval(() => {\r\n      if (this.staLeggendo) {\r\n        this.utility.scriveDebug(this.frmPrincipale, 'Lettura Rete. TimeOut');\r\n        this.frmPrincipale.ritornoGet.unsubscribe();  \r\n        this.staLeggendo = false;\r\n        this.frmPrincipale.isConnected = false;\r\n        this.apiService.impostaConnesso(false);\r\n      }\r\n    }, UtilityComponent.TimeOutConnessione);\r\n    this.frmPrincipale.ritornoGet = this.apiService.checkRete(this, this.frmPrincipale.idUtenza)\r\n    .map(response => this.apiService.controllaRitorno(response))\r\n      .subscribe(\r\n        data => {\r\n          // this.utility.scriveDebug(this.frmPrincipale, 'Lettura Rete');\r\n          this.staLeggendo = false;\r\n          clearInterval(t);\r\n          if (data) {\r\n            const data2 = this.apiService.prendeSoloDatiValidi(data);\r\n            // this.utility.scriveDebug(this.frmPrincipale, 'Lettura Rete. Ritorno: ' + data2);\r\n            this.frmPrincipale.isConnected = true;\r\n            this.apiService.impostaConnesso(true);\r\n          } else {\r\n            this.utility.scriveDebug(this.frmPrincipale, 'Lettura Rete. Nessun ritorno');\r\n            this.frmPrincipale.isConnected = false;\r\n            this.apiService.impostaConnesso(false);\r\n          }\r\n    });\r\n  }\r\n}","import { OnDestroy, OnInit } from \"@angular/core\";\r\nimport { timer } from 'rxjs/observable/timer'\r\n\r\ndeclare var cordova:any;\r\nexport class ClasseTimer implements OnInit, OnDestroy { \r\n    formPrincipale;\r\n    timerSub;\r\n    contatore = 0;\r\n    fermaTimer = false;\r\n    backgroundMode;\r\n\r\n    constructor(\r\n        t\r\n        )\r\n    {\r\n        this.formPrincipale = t;\r\n        // this.backgroundMode = bm;\r\n        this.formPrincipale.utility.scriveDebug(this.formPrincipale, 'Instanzio classe timer');\r\n    }\r\n\r\n    parto() {\r\n        // this.backgroundMode.enable();\r\n        cordova.plugins.backgroundMode.enable();\r\n\r\n        this.formPrincipale.utility.scriveDebug(this.formPrincipale, 'Faccio partire timer');\r\n        this.fermaTimer = false;\r\n        this.contatore = 0;\r\n\r\n        this.initiateTimer();\r\n    }\r\n\r\n    ngOnInit(): void {\r\n    }\r\n\r\n    stoppaTimer() {\r\n        this.fermaTimer = true;\r\n\r\n        cordova.plugins.backgroundMode.disable();\r\n        // this.backgroundMode.disable();\r\n    }\r\n\r\n    ngOnDestroy(): void {\r\n        // if (this.formPrincipale.deviceGirante !== 'Android') {\r\n            this.formPrincipale.utility.scriveDebug(this.formPrincipale, 'Distruggo classe timer');\r\n            if (this.timerSub) {\r\n                this.timerSub.unsubscribe();\r\n                this.timerSub = undefined;\r\n            }\r\n        // } else {\r\n\r\n        // }\r\n    }\r\n\r\n    initiateTimer() {\r\n        // if (this.formPrincipale.deviceGirante !== 'Android') {\r\n            if (this.timerSub) {\r\n                this.timerSub.unsubscribe();\r\n            }\r\n        \r\n            this.timerSub = timer(0, 1000).subscribe(x =>{\r\n                this.contatore++;\r\n                // console.log(this.contatore);\r\n                \r\n                if (this.fermaTimer === true) {\r\n                    this.formPrincipale.utility.scriveDebug(this.formPrincipale, 'Stoppo timer');\r\n                    this.timerSub.unsubscribe();\r\n                    this.timerSub = undefined;\r\n                    return;\r\n                }\r\n\r\n                this.formPrincipale.funzioneTick();\r\n            });     \r\n        /* } else {\r\n            this.timerSub = new window['nativeTimer'];\r\n            this.timerSub.onTick = function(tick) {\r\n                this.formPrincipale.funzioneTick();\r\n            };\r\n            this.timerSub.onError = function(errorMessage) {\r\n            // invoked after error occurs\r\n            };\r\n            this.timerSub.onStop = function(hasError) {\r\n            // invoked after stop\r\n            };\r\n            this.timerSub.start(\r\n                1,\r\n                1000,\r\n                function() {\r\n                  // invoked after successful start\r\n                },\r\n                function(errorMessage) {\r\n                  // invoked after unsuccessful start\r\n            });\r\n        } */\r\n    }    \r\n\r\n}","import { ValueConverter } from \"@angular/compiler/src/render3/view/template\";\r\nimport { Component, Injectable, OnInit } from \"@angular/core\";\r\nimport { File } from '@ionic-native/file/ngx';\r\nimport { resolve } from \"dns\";\r\n\r\n// import { FileTransfer, FileUploadOptions, FileTransferObject } from '@ionic-native/file-transfer/ngx';\r\n// import { File } from '@ionic-native/file/ngx';\r\n\r\ndeclare let downloader: any;\r\n\r\n@Injectable()\r\nexport class ComponentFile implements OnInit {\r\n  static cartelletta = '';\r\n  static pathBrano = '';\r\n  static titolone = '';\r\n  static modalita = '';\r\n  static operazioneSuFile = '';\r\n  static percorsoFileSD = '';\r\n  static percorsoFileSDProssimo = '';\r\n  static filesInMemoria = new Array();\r\n  // static profondita = 0;\r\n  // static staLeggendoFiles = [false, false, false, false, false, false, false, false, false, false, false];\r\n  static percorsoImmagineSD = '';\r\n  static pathJson = ['', '', '', '', '', '', '', '', ''];\r\n  static fileNameJson = ['', '', '', '', '', '', '', '', ''];\r\n  static fileNameJsonDaEliminare = ['', '', '', '', '', '', '', '', ''];\r\n  static blobJson = ['', '', '', '', '', '', '', '', ''];\r\n  static fileJSON = ['', '', '', '', '', '', '', '', ''];\r\n  static giaEliminati = false;\r\n  static esisteFile = ['', '', '', '', '', '', '', '', ''];\r\n  static appoggioFile = '';\r\n  static pathSD = 'file:///storage/emulated/0/';\r\n  static interrompiDownload = false;\r\n  static staScaricandoFile = false;\r\n\r\n  index = 0;\r\n  profondita = 0;\r\n\r\n  constructor(\r\n    private file: File\r\n  ) {\r\n\r\n  }\r\n\r\n  ngOnInit() {\r\n  }\r\n  \r\n  downloadImmagine(t, pathBrano, cartelletta, titolone) {\r\n    return new Promise(async (Ritorno) => {\r\n      ComponentFile.pathBrano = pathBrano;\r\n      ComponentFile.cartelletta = cartelletta;\r\n      ComponentFile.titolone = titolone;\r\n      ComponentFile.modalita = 'DOWNLOADIMMAGINE';\r\n\r\n      const pathFile = ComponentFile.pathSD + cartelletta + '/' + titolone;\r\n      t.scriveDebug('CHECK FILE Per dl Immagine:\\nControllo esistenza:\\nPath: ' + pathFile);\r\n      this.checkIfFileExists(t, cartelletta, titolone).then(Ritorno2 => {\r\n        t.scriveDebug('Check File Immagine. Ritorno: ' + Ritorno2);\r\n        if (Ritorno2 === 'SI') {\r\n          ComponentFile.percorsoImmagineSD = pathFile;\r\n          Ritorno('OK');\r\n        } else {\r\n          this.checkIfFileExistsForDownload(t).then((Ritorno2) => {\r\n            Ritorno('OK');\r\n          });\r\n        }\r\n      });\r\n    });\r\n  }\r\n  \r\n  downloadBrano(t, pathBrano, cartelletta, titolone) {\r\n    return new Promise((Ritorno) => {\r\n      ComponentFile.pathBrano = pathBrano;\r\n      ComponentFile.cartelletta = cartelletta;\r\n      ComponentFile.titolone = titolone;\r\n      ComponentFile.modalita = 'DOWNLOADBRANO';\r\n  \r\n      const pathFile = ComponentFile.pathSD + cartelletta + '/' + titolone;\r\n      t.scriveDebug('CHECK FILE Per dl brano. Path: ' + pathFile);\r\n      t.scriveDebug('CHECK FILE Per dl brano. pathBrano: ' + pathBrano);\r\n      t.scriveDebug('CHECK FILE Per dl brano. Cartelletta: ' + cartelletta);\r\n      t.scriveDebug('CHECK FILE Per dl brano. Titolone: ' + titolone);\r\n      this.checkIfFileExists(t, cartelletta, titolone).then(Ritorno2 => {\r\n        t.scriveDebug('Check File Brano. Ritorno: ' + Ritorno2);\r\n        if (Ritorno2 === 'SI') {\r\n          ComponentFile.percorsoFileSD = pathFile;\r\n          Ritorno('OK');\r\n        } else {\r\n          this.checkIfFileExistsForDownload(t).then((Ritorno2) => {\r\n            t.scriveDebug('Check File Brano. Aggiorno file brani locali: ' + cartelletta + '/' + titolone);\r\n            const b = (cartelletta + '/' + titolone + '§');\r\n            t.braniSD += b;\r\n            this.file.writeFile(ComponentFile.pathSD + 'LooigiSoft/looWebPlayer/', 'jsonBraniLocali.json', t.braniSD).then((Ritorno3) => {\r\n              Ritorno('OK');\r\n            });\r\n            Ritorno('OK');\r\n          });\r\n        }\r\n      });\r\n    });\r\n  }\r\n\r\n  checkIfFileExists(t, cartelletta, titolone) {\r\n    return new Promise(async (Ritorno) => {\r\n      t.scriveDebug('CHECK FILE 1.\\n' + cartelletta + '\\n' + titolone);\r\n      // ComponentFile.appoggioFile = '';\r\n      let path =  this.sistemaNomeFile(ComponentFile.pathSD + '/' + cartelletta + '/' + titolone);\r\n      t.scriveDebug('CHECK FILE 2.\\n' + path);\r\n      const f = path.split('/');\r\n      const filetto = f[f.length - 1];\r\n      path = path.replace(filetto, '');\r\n\r\n      t.scriveDebug('CHECK FILE: Controllo esistenza:\\nCartella: ' + path + '\\nFile: ' + filetto); // + '\\nModalità: ' + ComponentFile.modalita);\r\n      await this.file.checkFile(path, filetto).then(_ => \r\n        {\r\n          // ComponentFile.appoggioFile = this.sistemaNomeFile(path);\r\n          t.scriveDebug('CHECK FILE: Esiste file: ' + filetto);\r\n          // ComponentFile.esisteFile[indice] = 'SI';\r\n          Ritorno('SI');\r\n        }\r\n      ).catch(err =>\r\n        {\r\n          if (err.message.indexOf('NOT_FOUND') === -1) {\r\n            t.scriveDebug('CHECK FILE: NON esiste file: ' + filetto + ' ERROR: ' + JSON.stringify(err));\r\n          }\r\n          // ComponentFile.esisteFile[indice] = 'NO';\r\n          Ritorno('NO');\r\n        }\r\n      );\r\n    });\r\n\r\n    /* Files.appoggioFile = '';\r\n    document.addEventListener(\"deviceready\", onDeviceReady, false);\r\n    function onDeviceReady() {\r\n      // path is the full absolute path to the file.\r\n      const path = Files.sistemaNomeFile(Files.pathSD + '/' + cartelletta + '/' + titolone);\r\n      t.scriveDebug('CHECK FILE: Controllo esistenza:\\n' + path + '\\nModalità: ' + Files.modalita);\r\n      window['resolveLocalFileSystemURL'](\r\n        path, \r\n        function fileEsistente(fileEntry) {\r\n          Files.appoggioFile = Files.sistemaNomeFile(Files.pathSD + '/' + fileEntry.fullPath);\r\n          t.scriveDebug('CHECK FILE: Esiste file: ' + Files.appoggioFile);\r\n          Files.esisteFile[indice] = 'SI';\r\n        }, \r\n        function() { \r\n          t.scriveDebug('CHECK FILE: NON esiste file: ' + Files.appoggioFile);\r\n          Files.esisteFile[indice] = 'NO';\r\n        }\r\n      );\r\n    } */\r\n  }\r\n\r\n  checkIfFileExistsForDownload(t) {\r\n    return new Promise((Ritorno) => {\r\n      ComponentFile.interrompiDownload = false;\r\n      ComponentFile.staScaricandoFile = true;\r\n  \r\n      ComponentFile.operazioneSuFile = 'Download in corso';\r\n      t.scriveDebug('Download file:\\nCartella: ' + ComponentFile.cartelletta + '\\nPath: ' + ComponentFile.pathBrano +\r\n                    '\\nTitolo: ' + ComponentFile.titolone + '\\nModalità: ' + ComponentFile.modalita);\r\n      switch (ComponentFile.modalita) {\r\n        case 'DOWNLOADBRANO':\r\n          // alert('Download ' + Files.cartelletta + '/' + Files.titolone);\r\n          downloader.abort();\r\n          downloader.init({folder: ComponentFile.cartelletta });\r\n          downloader.get(ComponentFile.pathBrano, null, ComponentFile.titolone);\r\n  \r\n          document.addEventListener('DOWNLOADER_downloadError', function(event) {\r\n            const data = event['data'];\r\n            ComponentFile.operazioneSuFile = 'Errore Download: ' + JSON.stringify(data);\r\n            // alert('Errore nel download\\n' + data);\r\n            ComponentFile.operazioneSuFile = 'Download interrotto';\r\n            ComponentFile.staScaricandoFile = false;\r\n            t.scriveDebug('Download file error: ' + JSON.stringify(event));\r\n            downloader.abort();\r\n            \r\n            Ritorno('ERRORE');\r\n          });\r\n          document.addEventListener('DOWNLOADER_downloadProgress', function(event) {\r\n            const data = event['data'];\r\n            // alert(JSON.stringify(data));\r\n            ComponentFile.operazioneSuFile = 'Download in corso: ' + data[0];\r\n            if (ComponentFile.interrompiDownload === true) {\r\n              ComponentFile.operazioneSuFile = 'Download interrotto';\r\n              ComponentFile.staScaricandoFile = false;\r\n              downloader.abort();\r\n            }\r\n          });\r\n          document.addEventListener('DOWNLOADER_downloadSuccess', function(event) {\r\n            const data = event['data'];\r\n            // alert(JSON.stringify(data));\r\n            let patthino = JSON.stringify(data[0].nativeURL);\r\n            while (patthino.indexOf('\\'') > -1) {\r\n              patthino = patthino.replace('\\'', '');\r\n            }\r\n            while (patthino.indexOf('\"') > -1) {\r\n              patthino = patthino.replace('\"', '');\r\n            }\r\n            // alert('Brano scaricato\\n' + JSON.stringify(data));\r\n            ComponentFile.percorsoFileSD = patthino; // this.sistemaNomeFile(ComponentFile.pathSD + patthino);\r\n            if (!ComponentFile.filesInMemoria) { ComponentFile.filesInMemoria = new Array(); }\r\n            ComponentFile.filesInMemoria.push(ComponentFile.percorsoFileSD);\r\n            ComponentFile.operazioneSuFile = 'Download effettuato';\r\n            t.scriveDebug('Download file completato: ' + ComponentFile.percorsoFileSD);\r\n  \r\n            ComponentFile.operazioneSuFile = '';\r\n            ComponentFile.staScaricandoFile = false;\r\n\r\n            downloader.abort();\r\n          \r\n            Ritorno('OK');\r\n          });\r\n          break;\r\n        case 'DOWNLOADIMMAGINE':\r\n          // alert('Download ' + Files.cartelletta + '/' + Files.titolone);\r\n          downloader.abort();\r\n          downloader.init({folder: ComponentFile.cartelletta });\r\n          downloader.get(ComponentFile.pathBrano, null, ComponentFile.titolone);\r\n  \r\n          document.addEventListener('DOWNLOADER_downloadError', function(event) {\r\n            const data = event['data'];\r\n            t.scriveDebug('Download file error: ' + JSON.stringify(data));\r\n            ComponentFile.operazioneSuFile = 'Download interrotto';\r\n            ComponentFile.staScaricandoFile = false;\r\n            downloader.abort();\r\n          \r\n            Ritorno('ERRORE');\r\n          });\r\n          document.addEventListener('DOWNLOADER_downloadProgress', function(event) {\r\n            // const data = event['data'];\r\n            if (ComponentFile.interrompiDownload === true) {\r\n              ComponentFile.operazioneSuFile = 'Download interrotto';\r\n              ComponentFile.staScaricandoFile = false;\r\n              downloader.abort();\r\n            }\r\n          });\r\n          document.addEventListener('DOWNLOADER_downloadSuccess', function(event) {\r\n            const data = event['data'];\r\n            let patthino = JSON.stringify(data[0].fullPath);\r\n            while (patthino.indexOf('\\'') > -1) {\r\n              patthino = patthino.replace('\\'', '');\r\n            }\r\n            while (patthino.indexOf('\"') > -1) {\r\n              patthino = patthino.replace('\"', '');\r\n            }\r\n            // alert('Brano scaricato\\n' + patthino);\r\n            ComponentFile.percorsoImmagineSD = this.sistemaNomeFile(ComponentFile.pathSD + patthino);\r\n            ComponentFile.staScaricandoFile = false;\r\n            t.scriveDebug('Download file completato: ' + ComponentFile.percorsoImmagineSD);\r\n            downloader.abort();\r\n          \r\n            Ritorno('OK');\r\n          });\r\n          break;\r\n      }\r\n    });\r\n\r\n    /* document.addEventListener(\"deviceready\", onDeviceReady, false);\r\n    function onDeviceReady() {\r\n      // path is the full absolute path to the file.\r\n      const path = this.sistemaNomeFile(ComponentFile.pathSD + '/' + ComponentFile.cartelletta + '/' + ComponentFile.titolone);\r\n      // alert('Controllo esistenza:\\n' + path + '\\nModalità: ' + Files.modalita);\r\n      window['resolveLocalFileSystemURL'](\r\n        path, \r\n        function fileEsistente(fileEntry) {\r\n          ComponentFile.percorsoFileSD = this.sistemaNomeFile(ComponentFile.pathSD + '/' + fileEntry.fullPath);\r\n          // alert('Il File ' + fileEntry.fullPath + ' esiste!');\r\n        }, \r\n        function() { \r\n          // alert('Il file non esiste\\nModalità: ' + Files.modalita);\r\n          ComponentFile.operazioneSuFile = 'Download in corso';\r\n          switch (ComponentFile.modalita) {\r\n            case 'DOWNLOADBRANO':\r\n              // alert('Download ' + Files.cartelletta + '/' + Files.titolone);\r\n              downloader.abort();\r\n              downloader.init({folder: ComponentFile.cartelletta });\r\n              downloader.get(ComponentFile.pathBrano, null, ComponentFile.titolone);\r\n\r\n              document.addEventListener('DOWNLOADER_downloadError', function(event) {\r\n                const data = event['data'];\r\n                ComponentFile.operazioneSuFile = 'Errore Download: ' + JSON.stringify(data[0]);\r\n                // alert('Errore nel download\\n' + data);\r\n                ComponentFile.operazioneSuFile = 'Download interrotto';\r\n                ComponentFile.staScaricandoFile = false;\r\n                downloader.abort();\r\n              });\r\n              document.addEventListener('DOWNLOADER_downloadProgress', function(event) {\r\n                const data = event['data'];\r\n                ComponentFile.operazioneSuFile = 'Download in corso: ' + JSON.stringify(data[0]);\r\n                if (ComponentFile.interrompiDownload === true) {\r\n                  ComponentFile.operazioneSuFile = 'Download interrotto';\r\n                  ComponentFile.staScaricandoFile = false;\r\n                  downloader.abort();\r\n                }\r\n              });\r\n              document.addEventListener('DOWNLOADER_downloadSuccess', function(event) {\r\n                const data = event['data'];\r\n                let patthino = JSON.stringify(data[0].fullPath);\r\n                while (patthino.indexOf('\\'') > -1) {\r\n                  patthino = patthino.replace('\\'', '');\r\n                }\r\n                while (patthino.indexOf('\"') > -1) {\r\n                  patthino = patthino.replace('\"', '');\r\n                }\r\n                // alert('Brano scaricato\\n' + patthino);\r\n                ComponentFile.percorsoFileSD = this.sistemaNomeFile(ComponentFile.pathSD + patthino);\r\n                ComponentFile.filesInMemoria.push(ComponentFile.percorsoFileSD);\r\n                ComponentFile.operazioneSuFile = 'Download effettuato';\r\n\r\n                setTimeout(() => {\r\n                  ComponentFile.operazioneSuFile = '';\r\n                  ComponentFile.staScaricandoFile = false;\r\n                }, 1000);\r\n                downloader.abort();\r\n              });\r\n              break;\r\n            case 'DOWNLOADIMMAGINE':\r\n              // alert('Download ' + Files.cartelletta + '/' + Files.titolone);\r\n              downloader.abort();\r\n              downloader.init({folder: ComponentFile.cartelletta });\r\n              downloader.get(ComponentFile.pathBrano, null, ComponentFile.titolone);\r\n\r\n              document.addEventListener('DOWNLOADER_downloadError', function(event) {\r\n                const data = event['data'];\r\n                ComponentFile.operazioneSuFile = 'Download interrotto';\r\n                ComponentFile.staScaricandoFile = false;\r\n                downloader.abort();\r\n              });\r\n              document.addEventListener('DOWNLOADER_downloadProgress', function(event) {\r\n                const data = event['data'];\r\n                if (ComponentFile.interrompiDownload === true) {\r\n                  ComponentFile.operazioneSuFile = 'Download interrotto';\r\n                  ComponentFile.staScaricandoFile = false;\r\n                  downloader.abort();\r\n                }\r\n              });\r\n              document.addEventListener('DOWNLOADER_downloadSuccess', function(event) {\r\n                const data = event['data'];\r\n                let patthino = JSON.stringify(data[0].fullPath);\r\n                while (patthino.indexOf('\\'') > -1) {\r\n                  patthino = patthino.replace('\\'', '');\r\n                }\r\n                while (patthino.indexOf('\"') > -1) {\r\n                  patthino = patthino.replace('\"', '');\r\n                }\r\n                // alert('Brano scaricato\\n' + patthino);\r\n                ComponentFile.percorsoImmagineSD = this.sistemaNomeFile(ComponentFile.pathSD + patthino);\r\n                ComponentFile.staScaricandoFile = false;\r\n                downloader.abort();\r\n              });\r\n              break;\r\n            }\r\n        }\r\n      );\r\n    } */\r\n  }\r\n\r\n  sistemaNomeFile(pathP) {\r\n    let path = pathP;\r\n\r\n    path = path.replace('file:///', '');\r\n    while (path.indexOf('//') > - 1) {\r\n      path = path.replace('//', '/');\r\n    }\r\n    path = 'file:///' + path;\r\n\r\n    return path;\r\n  }\r\n\r\n  createDir(t, indice, new_directoryP, salvaFile) {\r\n    return new Promise((Ritorno) => {\r\n      let new_directory = '';\r\n      const n = new_directoryP.split('/');\r\n      for (let i = 0; i < n.length - 1; i++) {\r\n        new_directory += n[i] + '/';\r\n      }\r\n      if (new_directory.length > 0) {\r\n        new_directory = new_directory.substring(0, new_directory.length - 1);\r\n      }\r\n      if (new_directory === '') {\r\n        return;\r\n      }\r\n  \r\n      new_directory = new_directory.replace(ComponentFile.pathSD, '') + '/';\r\n      // t.scriveDebug('CREATE DIR: ' + new_directory);\r\n  \r\n      const dirs = new_directory.split('/'); // .reverse();\r\n      let p = '';\r\n      let o = ComponentFile.pathSD;\r\n      dirs.forEach(async element => {\r\n        if (element !== '') {\r\n          p += element + '/'\r\n          // t.scriveDebug('CREATE DIR:\\nOrigine: ' + o + '\\nPath: ' + p);\r\n          await this.file.createDir(o, p, false).then(_ => \r\n            {\r\n              // t.scriveDebug('CREATA DIR: ' + p);\r\n            }\r\n          ).catch(err =>\r\n            {\r\n              if (err.message.indexOf('EXISTS') === -1) {\r\n                t.scriveDebug('CREATA DIR: ' + p + '. Errore: ' + JSON.stringify(err));\r\n              }\r\n            }\r\n          );\r\n          o += p;\r\n        }\r\n      });\r\n\r\n      if (salvaFile) {\r\n        this.writeFile2(t, indice).then(_ => {\r\n          \r\n        });\r\n      }\r\n\r\n      Ritorno('OK');\r\n    });\r\n\r\n    /* document.addEventListener(\"deviceready\", onDeviceReady, false);\r\n    function onDeviceReady() {\r\n      t.scriveDebug('CREATE DIR: device is ready');\r\n      window['requestFileSystem'] = window['requestFileSystem'] || window['webkitRequestFileSystem'];\r\n      window['requestFileSystem'](1, 0, gotFS, fail);\r\n    }\r\n    function fail() {\r\n      t.scriveDebug('CREATE DIR: failed to get filesystem');\r\n    }\r\n  \r\n    function gotFS(fileSystem) {\r\n      window['FS'] = fileSystem;\r\n      \r\n      var printDirPath = function(entry){\r\n        t.scriveDebug('CREATE DIR: Dir path - ' + entry.fullPath);\r\n      } \r\n      \r\n      createDirectory(new_directory, printDirPath);\r\n    }\r\n\r\n    function createDirectory(path, success) {\r\n      var dirs = path.split('/'); // .reverse();\r\n      let indice2 = 0;\r\n      var root = window['FS'].root;\r\n      \r\n      var createDir = function() {\r\n        // pathDaScrivere += (dirs[indice] + '/');\r\n        // indice++;\r\n        // pathDaScrivere = pathDaScrivere.substring(0, pathDaScrivere.length - 1);\r\n        let dir = dirs[indice2];\r\n        indice2++;\r\n        t.scriveDebug('CREATE DIR: create dir ' + dir + '. Indice: ' + indice2);\r\n        if (dir === undefined) {\r\n          t.scriveDebug('CREATE DIR: all dir created');\r\n          success(root);\r\n\r\n          if (salvaFile) {\r\n            Files.writeFile2(t, indice);\r\n          }\r\n        } else {\r\n          root.getDirectory(dir, {\r\n            create : true,\r\n            exclusive : false\r\n          }, successCB, failCB);\r\n        }\r\n      };\r\n      \r\n      var successCB = function(entry){\r\n        t.scriveDebug('CREATE DIR: dir created ' + entry.fullPath);\r\n        root = entry;\r\n        if(dirs.length > indice2 - 1){\r\n          createDir();\r\n        }else{\r\n          t.scriveDebug('CREATE DIR: all dir created');\r\n          success(entry);\r\n\r\n          if (salvaFile) {\r\n            Files.writeFile2(t, indice);\r\n          }\r\n        }\r\n      };\r\n      \r\n      var failCB = function(){\r\n        t.scriveDebug('CREATE DIR: failed to create dir ' + dirs[indice2]);\r\n      };\r\n      \r\n      createDir();\r\n    }  */\r\n  }\r\n\r\n  writeFile(t, indice, path, filename, blob) {\r\n    return new Promise(async (Ritorno) => {\r\n      let rit = '';\r\n      ComponentFile.pathJson[indice] = path;\r\n      ComponentFile.fileNameJson[indice] = filename;\r\n      ComponentFile.blobJson[indice] = blob;\r\n  \r\n      const path2 = this.sistemaNomeFile(ComponentFile.pathSD + ComponentFile.pathJson[indice] + '/' + ComponentFile.fileNameJson[indice]);\r\n      t.scriveDebug('WRITE FILE: Path: ' + path2);\r\n      await this.createDir(t, indice, path2, true).then((Ritorno: string) => {\r\n        rit = Ritorno;\r\n      });\r\n\r\n      Ritorno(rit);\r\n    });\r\n  }\r\n\r\n  writeFile2(t, indice) {\r\n    return new Promise(async (Ritorno) => {\r\n      let path = this.sistemaNomeFile(ComponentFile.pathSD + ComponentFile.pathJson[indice] + '/' + ComponentFile.fileNameJson[indice]);\r\n      t.scriveDebug('CREATE FILE ARR:\\nPath: ' + path);\r\n\r\n      const f = path.split('/');\r\n      const filetto = f[f.length - 1];\r\n      path = path.replace(filetto, '');\r\n\r\n      t.scriveDebug('CREATE FILE:\\nPath: ' + path + '\\nFile: ' + filetto);\r\n  \r\n      await this.file.writeFile(path, filetto, ComponentFile.blobJson[indice]).then(_ => \r\n        {\r\n          t.scriveDebug('CREATE FILE Ok');\r\n          Ritorno('OK');\r\n        }\r\n      ).catch(err =>\r\n        {\r\n          t.scriveDebug('CREATE FILE Error: ' + JSON.stringify(err));\r\n          Ritorno('ERRORE: ' + err);\r\n        }\r\n      );\r\n    })\r\n\r\n    /* document.addEventListener(\"deviceready\", onDeviceReady, false);\r\n    function onDeviceReady() {\r\n      const path = Files.sistemaNomeFile(Files.pathSD + Files.pathJson[indice] + '/' + Files.fileNameJson[indice]);\r\n\r\n      let path2 = '';\r\n      const n = path.split('/');\r\n      for (let i = 0; i < n.length - 1; i++) {\r\n        path2 += n[i] + '/';\r\n      }\r\n      let nome = path.replace(path2, '');\r\n      if (path2.length > 0) {\r\n        path2 = path2.substring(0, path2.length - 1);\r\n      }\r\n      \r\n      t.scriveDebug('WRITE FILE: Scrivo file nella cartella ' + path2 + ' con nome ' + nome + '. Lunghezza: ' + Files.blobJson[indice].length);\r\n      window['resolveLocalFileSystemURL'](\r\n        path2, \r\n        function success(dataDirEntry) {\r\n          dataDirEntry['getFile'](nome, { create: true, exclusive: false }, function (newFileEntry) {\r\n          newFileEntry.createWriter(function (fileWriter) {\r\n            fileWriter.onwriteend = function () {\r\n              t.scriveDebug('WRITE FILE: Scritto file ' + path);\r\n              // alert('File JSON creato');                                   \r\n            };\r\n\r\n            fileWriter.onerror = function (e) {\r\n              t.scriveDebug('WRITE FILE: Errore nella scrittura del JSON: ' + JSON.stringify(e));\r\n            };\r\n\r\n            const blob = new Blob([Files.blobJson[indice]], { type: newFileEntry.type });\r\n\r\n            fileWriter.write(blob);                               \r\n          });\r\n        }, function(e) { \r\n          t.scriveDebug('WRITE FILE: Errore nella creazione del file:' + e.code + '. ' + path); \r\n        });\r\n      }, function error(e) { \r\n        t.scriveDebug('WRITE FILE: Errore nello risolvere la cartella: ' + e.code + ' -> ' + path); \r\n      });\r\n    } */\r\n  }\r\n\r\n  readFile(t, nomeFile, indice) {\r\n    return new Promise(async (Ritorno) => {\r\n      let path = nomeFile;\r\n      const f = nomeFile.split('/');\r\n      const filetto = f[f.length - 1];\r\n      path = path.replace(filetto, '');\r\n  \r\n      t.scriveDebug('CREATE FILE: Path: ' + path + ' File: ' + filetto);\r\n      await this.file.readAsText(path, filetto).then(fileStr => \r\n        {\r\n          t.scriveDebug('CREATE FILE Ok');\r\n          // ComponentFile.fileJSON[indice] = fileStr;\r\n          Ritorno(fileStr);\r\n        }\r\n      ).catch(err =>\r\n        {\r\n          t.scriveDebug('CREATE FILE Error: ' + JSON.stringify(err));\r\n          // ComponentFile.fileJSON[indice] = 'Error: ' + err;\r\n          Ritorno('ERROR: ' + JSON.stringify(err));\r\n        }\r\n      );\r\n    });\r\n    // Files.fileNameJson[indice] = nomeFile;\r\n    /* const path = Files.sistemaNomeFile(nomeFile);\r\n\r\n    let path2 = '';\r\n    const n = path.split('/');\r\n    for (let i = 0; i < n.length - 1; i++) {\r\n      path2 += n[i] + '/';\r\n    }\r\n    let nome = path.replace(path2, '');\r\n    if (path2.length > 0) {\r\n      path2 = path2.substring(0, path2.length - 1);\r\n    } */\r\n    \r\n    // alert('Leggo file ' + nomeFile);\r\n    /* t.scriveDebug('READ FILE: Leggo file 1: ' + nomeFile + ' Indice: ' + indice);\r\n    document.addEventListener(\"deviceready\", onDeviceReady, false);\r\n    function onDeviceReady() {\r\n      window['resolveLocalFileSystemURL'](\r\n        Files.fileNameJson[indice], \r\n        function success(fileEntry) {\r\n          fileEntry['file'](function (file) {\r\n            const reader = new FileReader();\r\n            reader.onloadend = function() {\r\n              const fileData = this.result;\r\n              Files.fileJSON[indice] = <string>fileData;\r\n              t.scriveDebug('READ FILE: Letto file. Lunghezza ' + Files.fileJSON[indice].length);\r\n          };\r\n          reader.readAsText(file);\r\n        }, function(e) { \r\n          t.scriveDebug('READ FILE: Errore nell\\'apertura del file:' + e.code + '.' + e.message + ' -> ' + nomeFile); \r\n        });\r\n      }, function error(e) { \r\n        t.scriveDebug('READ FILE: Errore nella risoluzione della cartella: ' + e.code + ' -> ' + nomeFile);  \r\n      });\r\n    } */\r\n  }\r\n\r\n  static eliminaFiles(t, indice) {\r\n    return;\r\n    \r\n    if (ComponentFile.giaEliminati === true) {\r\n      return;\r\n    }\r\n    ComponentFile.giaEliminati = true;\r\n\r\n    // alert('Files totali sulla sd: ' + Files.filesInMemoria.length);\r\n    // alert('Files massimi: ' + t.numeroLimiteBrani);\r\n\r\n    if (t.limitaBrani === true) {\r\n      const perc = t.numeroLimiteBrani * 75 / 100;\r\n      if (ComponentFile.filesInMemoria.length > perc) {\r\n        const diff = (ComponentFile.filesInMemoria.length - perc) + 1;\r\n\r\n        // alert('Differenza: ' + diff);\r\n\r\n        let quanti = 0;\r\n        let indice = 0;\r\n        let fatti = '';\r\n\r\n        while (quanti <= diff) {\r\n          const x = Math.floor(Math.random() * (5 - 1 + 1)) + 1;\r\n\r\n          // alert('Random: ' + x);\r\n\r\n          for (let i = 0; i <= indice; i++) {\r\n            indice++;\r\n            if (indice > ComponentFile.filesInMemoria.length) {\r\n              indice = 0;\r\n            }            \r\n          }\r\n\r\n          let q = 0;\r\n\r\n          while (fatti.indexOf(';' + indice + ';') > -1 && q < ComponentFile.filesInMemoria.length) {\r\n            q++;\r\n            indice++;\r\n            if (indice > ComponentFile.filesInMemoria.length) {\r\n              indice = 0;\r\n            }            \r\n          }\r\n\r\n          // alert('Indice da eliminare: ' + indice + ' ' + quanti + '/' + diff);\r\n\r\n          if (q < ComponentFile.filesInMemoria.length) {\r\n            const path = t.file.sistemaNomeFile(ComponentFile.pathSD + ComponentFile.filesInMemoria[indice]);\r\n            // alert('Elimino: ' + path);\r\n            // // this.cancellaFileFisico(indice, path);\r\n            fatti += ';' + indice + ';'\r\n          } else {\r\n            quanti = diff;\r\n          }\r\n\r\n          quanti++;\r\n        }\r\n        // alert('Fine');\r\n        if (t.deviceGirante === 'Android') {\r\n          alert('Elimina files 2. Eliminati: ' + quanti);\r\n        }    \r\n      }\r\n    }\r\n  }\r\n\r\n  cancellaFileFisico(t, indice, nomeFile) {\r\n    return new Promise(async (Ritorno) => {\r\n      let path = nomeFile;\r\n      const f = nomeFile.split('/');\r\n      const filetto = f[f.length - 1];\r\n      path = path.replace(filetto, '');\r\n  \r\n      t.scriveDebug('DELETE FILE: Path: ' + path + ' File: ' + filetto);\r\n      await this.file.removeFile(path, filetto).then(fileStr => \r\n        {\r\n          t.scriveDebug('DELETE FILE Ok');\r\n          Ritorno('OK');\r\n        }\r\n      ).catch(err =>\r\n        {\r\n          t.scriveDebug('DELETE FILE Error: ' + JSON.stringify(err));\r\n          Ritorno('ERRORE: ' + JSON.stringify(err));\r\n        }\r\n      );\r\n    });\r\n\r\n    /* Files.fileNameJsonDaEliminare = nomeFile;\r\n    document.addEventListener(\"deviceready\", onDeviceReady, false);\r\n    function onDeviceReady() {\r\n      window['resolveLocalFileSystemURL'](\r\n        Files.fileNameJsonDaEliminare[indice], \r\n        function success(fileEntry) {\r\n          fileEntry.remove(function(){\r\n              // The file has been removed successfully\r\n          },function(error){\r\n              // Error deleting the file\r\n          });\r\n        });\r\n    }; */\r\n  }\r\n\r\n  prendeTuttiIFilesInLocale(t, indice) {\r\n    return new Promise(async (Ritorno) => {\r\n      let path = ComponentFile.pathSD; // + '/LooigiSoft/looWebPlayer';\r\n      const f = path.split('/');\r\n      const filetto = f[f.length - 1];\r\n      path = path.replace(filetto, '');\r\n      t.letturaSD = true;\r\n      // ComponentFile.profondita = 0;\r\n\r\n      t.scriveDebug('Inizio lettura SD:\\nPath: ' + path + '\\nCartella: ' + filetto);\r\n      await this.prendeFilesInDir(t, path, filetto, indice);\r\n        \r\n      // ComponentFile.staLeggendoFiles[indice] = false;\r\n      t.scriveDebug('Presi tutti i files in locale');\r\n      t.scriveDebug('Righe: ' + ComponentFile.filesInMemoria.length);\r\n      t.scriveDebug('Riga 1: ' + ComponentFile.filesInMemoria[0]);\r\n      // alert('Elimina i files in più');\r\n\r\n      // ComponentFile.eliminaFiles(t, indice);\r\n      t.letturaSD = false;\r\n\r\n      // ComponentFile.profondita--;\r\n      // if (ComponentFile.profondita <= 0) {\r\n        /* setTimeout(() => {\r\n          ComponentFile.staLeggendoFiles[indice] = false;\r\n          t.scriveDebug('Presi tutti i files in locale');\r\n          t.scriveDebug('Righe: ' + ComponentFile.filesInMemoria.length);\r\n          t.scriveDebug('Riga 1: ' + ComponentFile.filesInMemoria[0]);\r\n          // alert('Elimina i files in più');\r\n  \r\n          // ComponentFile.eliminaFiles(t, indice);\r\n          t.caricamentoInCorso = false;\r\n        }, 3000); */\r\n\r\n        Ritorno('OK');\r\n     });\r\n    // }\r\n  }\r\n\r\n  async prendeFilesInDir(t, path, filetto, indice) {\r\n    return new Promise(async (Ritorno) => {\r\n      path = this.sistemaNomeFile(path);\r\n      // t.scriveDebug('READ DIR: Path: ' + path + ' File: ' + filetto);\r\n      // t.scriveDebug('READ DIR: Profondità: ' + this.profondita);\r\n      await this.file.listDir(path, filetto).then(async result => {\r\n        for(let file of result) {\r\n          if(file.isDirectory == true && file.name !='.' && file.name !='..') {\r\n            t.cartellaEsaminata = file.name;\r\n            await this.prendeFilesInDir(t, path + filetto + '/', file.name, indice).then((Ritorno) => {\r\n            });\r\n          } else if(file.isFile == true) {          \r\n            let name = file.name;\r\n            if (name.toUpperCase().indexOf('MP3') > -1 || name.toUpperCase().indexOf('WMA') > -1) {\r\n              let tutto = path + filetto + '/' + name;\r\n              // tutto = tutto.replace('file:///', '');\r\n              tutto = tutto.replace(ComponentFile.pathSD, '');\r\n              ComponentFile.filesInMemoria.push(tutto);\r\n            }\r\n          }\r\n        }\r\n      }).catch(err => {\r\n        if (err.indexOf('NOT_FOUND') === -1) {\r\n          t.scriveDebug('READ DIR Error ' + JSON.stringify(err));\r\n        }\r\n      });\r\n\r\n      Ritorno('OK');\r\n    });\r\n  }\r\n\r\n    // alert('Prende tutti i files');\r\n    /* t.scriveDebug('Prende tutti i files in locale');\r\n    const addFileEntry = function(entry) {\r\n      var dirReader = entry.createReader();\r\n      dirReader.readEntries(\r\n        function (entries) {\r\n          for (let i = 0; i < entries.length; i++) {\r\n            if (entries[i].isDirectory === true) {\r\n              // Cartella\r\n              Files.profondita++;\r\n\r\n              addFileEntry(entries[i]);\r\n            } else {\r\n              // File\r\n              if (entries[i].fullPath.toUpperCase().indexOf('.MP3') > -1 || \r\n                entries[i].fullPath.toUpperCase().indexOf('.WMA') > -1) {\r\n                Files.filesInMemoria.push(entries[i].fullPath);\r\n                // console.log(entries[i].fullPath);\r\n              }\r\n            }\r\n          }\r\n          Files.profondita--;\r\n          if (Files.profondita <= 0) {\r\n            setTimeout(() => {\r\n              Files.staLeggendoFiles[indice] = false;\r\n              t.scriveDebug('Presi tutti i files in locale');\r\n              t.scriveDebug('Righe: ' + Files.filesInMemoria.length);\r\n              t.scriveDebug('Riga 1: ' + Files.filesInMemoria[0]);\r\n              // alert('Elimina i files in più');\r\n\r\n              Files.eliminaFiles(t, indice);\r\n            }, 100);\r\n            // alert('Files su SD: ' + Files.filesInMemoria.length);\r\n          }\r\n          // console.log(Files.filesInMemoria);\r\n        },\r\n        function (error) {\r\n          console.error(\"readEntries error: \" + error.code);\r\n        }\r\n      );\r\n    };\r\n\r\n    const addError = function (error) {\r\n      console.error(\"getDirectory error: \" + error.code);\r\n    };\r\n\r\n    document.addEventListener(\"deviceready\", onDeviceReady, false);\r\n    function onDeviceReady() {\r\n      // const path = 'file:///storage/emulated/0/LooigiSoft/looWebPlayer/Brani';\r\n      const path = Files.pathSD;\r\n      Files.profondita = 0;\r\n      window['resolveLocalFileSystemURL'](path, addFileEntry, addError);\r\n    }\r\n  }  */\r\n}\r\n","import { Injectable, OnChanges, OnInit } from \"@angular/core\";\r\n// import { BackgroundMode } from \"@awesome-cordova-plugins/background-mode/ngx\";\r\n// import { BackgroundMode } from \"@awesome-cordova-plugins/background-mode/ngx\";\r\nimport { ApiService } from \"../services/api2.service\";\r\nimport { CaricaBranoComponent } from \"./caricabrano.component\";\r\nimport { ComponentFile } from \"./files\";\r\nimport { UtilityComponent } from \"./utility.component\";\r\n\r\n@Injectable()\r\nexport class GestioneAndroidComponent implements OnInit, OnChanges {\r\n  frmPrincipale;\r\n  staLeggendo;\r\n\r\n  constructor(\r\n      public utility: UtilityComponent,\r\n      private caricaBrano: CaricaBranoComponent,\r\n      private apiService: ApiService,\r\n      private file: ComponentFile,\r\n      // private backgroundMode: BackgroundMode,\r\n    ) {        \r\n      /* this.backgroundMode.enable();\r\n      this.backgroundMode.setDefaults({ title: \"looWebPlayer\", text: 'looWebPlayer'});\r\n      this.backgroundMode.on('activate').subscribe(() => {\r\n          this.backgroundMode.disableWebViewOptimizations();\r\n      }); */      \r\n    }\r\n\r\n  ngOnInit() {            \r\n  }\r\n\r\n  ngOnChanges() {\r\n\r\n  }\r\n\r\n  iniziaTutto(t) {\r\n    this.frmPrincipale = t;\r\n    if (t.isConnected) {\r\n        // Carica brani da web\r\n        this.utility.caricaJsonBrani(t).then((Ritorno: string) => {\r\n            const rit = Ritorno.substring(0, 5);\r\n            // this.utility.scriveDebug(t, 'Ritorno lettura dei brani: ' + rit);\r\n            if (rit !== 'ERROR') {\r\n              let ok = true;\r\n\r\n              try {\r\n                t.datiJSON = JSON.parse(Ritorno);\r\n              } catch (e) {\r\n                ok = false;\r\n                this.apiService.eliminaJSON(t, t.idUtenza)\r\n                .map(response => this.apiService.controllaRitorno(response))\r\n                  .subscribe(\r\n                    data => {\r\n                      alert('Problemi nel leggere il json dei brani. Struttura non valida.\\nRiavviare l\\'applicazione');\r\n                    }\r\n                );\r\n              }\r\n              \r\n              if (ok) {\r\n                this.utility.prosegueCaricaJsonBrani2(t, false);\r\n\r\n                this.leggeFileBraniLocali(t);\r\n\r\n                this.utility.filtraBrani(t);\r\n        \r\n                t.impostaBellezza();\r\n\r\n                t.leggeTags();\r\n\r\n                this.caricaBranoDaID(t);\r\n\r\n                t.startTimerScritte();\r\n\r\n                t.caricamentoInCorso = false;\r\n              }\r\n            } else {\r\n                this.utility.scriveDebug(t, 'Problemi nella lettura dei brani: ' + Ritorno);\r\n            }\r\n        });\r\n    } else {\r\n        // Carica brani locali\r\n        this.caricaJsonBraniDaLocale(t);\r\n    }\r\n  }\r\n\r\n  caricaJsonBraniDaLocale(t) {\r\n      this.utility.scriveDebug(t, 'Siamo senza connessione. Provo a cercare il file dei brani in locale');\r\n      this.file.checkIfFileExists(this, 'LooigiSoft', 'looWebPlayer/jsonBrani.json').then(Ritorno => {\r\n        this.utility.scriveDebug(t, 'Esiste file locale jsonBrani.json: ' + Ritorno);\r\n        if (Ritorno === 'SI') {\r\n          setTimeout(() => {\r\n            const path = ComponentFile.pathSD + '/LooigiSoft/looWebPlayer/jsonBrani.json'\r\n            this.file.readFile(this, path, 2).then((Ritorno: string) => {\r\n              try {\r\n                t.datiJSON = JSON.parse(Ritorno);   \r\n                \r\n                this.utility.prosegueCaricaJsonBrani2(t, false);\r\n\r\n                this.leggeFileBraniLocali(t);\r\n\r\n                this.utility.filtraBrani(this);\r\n        \r\n                t.impostaBellezza();\r\n\r\n                t.leggeTags();\r\n\r\n                this.caricaBranoDaID(t);\r\n\r\n                t.startTimerScritte();\r\n\r\n                t.caricamentoInCorso = false;\r\n              } catch (e) {\r\n                this.utility.scriveDebug(t, 'Problemi sul dati JSON');\r\n                return;\r\n              }      \r\n            });\r\n          }, 100);\r\n        }\r\n      });\r\n    }\r\n\r\n    caricaBranoDaID(t) {        \r\n      if (t.numeroBrano === 0) {\r\n        t.numeroBrano = 1;\r\n        t.numeroBranoAttuale = 1;\r\n        this.utility.scriveDebug(t, 'Caricato tutto 3. Carico brano ' + t.numeroBrano);\r\n        this.caricaBrano.caricaBrano(t);\r\n        t.ascoltata++;\r\n        t.ascoltati.push(t.numeroBrano);\r\n      } else {\r\n        this.utility.scriveDebug(t, 'Caricato tutto 4. Carico brano ' + t.numeroBrano);\r\n        this.caricaBrano.caricaBrano(t);\r\n        t.ascoltata++;\r\n        t.ascoltati.push(t.numeroBrano);\r\n        // console.log(this.variabiliGlobali.urlWS, this.variabiliGlobali.urlPerUpload);\r\n      }  \r\n    }\r\n\r\n    leggeFileBraniLocali(t) {\r\n        const indice = 2;\r\n        ComponentFile.fileJSON[indice] = '';\r\n        const path = ComponentFile.pathSD + '/LooigiSoft/looWebPlayer/jsonBraniLocali.json'\r\n        // alert('Carico files brani locali ' + path);\r\n        this.file.readFile(this, path, indice).then((Ritorno: string) => {\r\n            if (Ritorno.indexOf('ERROR: ') > -1) {\r\n                this.file.prendeTuttiIFilesInLocale(this, indice).then((Ritorno) => {\r\n                    this.sistemaStrutturaBraniLocali(t, true);\r\n                });        \r\n            } else {\r\n                t.braniSD = Ritorno;\r\n            \r\n                ComponentFile.filesInMemoria = new Array();\r\n                const b = Ritorno.split('§');\r\n                this.utility.scriveDebug(t, 'Letto file brani locali: Lungehzza ritorno: ' + Ritorno.length);\r\n                this.utility.scriveDebug(t, 'Letto file brani locali: Lungehzza array: ' + b.length);\r\n                b.forEach(element => {\r\n                ComponentFile.filesInMemoria.push(element);\r\n                });\r\n                // alert('Contenuto file: ' + Files.fileJSON);\r\n                // alert('Struttura file: ' + Files.filesInMemoria.length);\r\n                this.utility.scriveDebug(t, 'Letto file brani locali: Brani caricati ' + ComponentFile.filesInMemoria.length);\r\n            \r\n                this.sistemaStrutturaBraniLocali(t, false);\r\n            }\r\n        });\r\n    }\r\n\r\n    sistemaStrutturaBraniLocali(t, salva) {\r\n        this.utility.scriveDebug(t, 'Sistemazione struttura brani locali: ' + ComponentFile.filesInMemoria.length);\r\n    \r\n        let id = 90000;\r\n        let brani = '';\r\n        let q = 0;\r\n        const b = new Array();\r\n        ComponentFile.filesInMemoria.forEach(element => {\r\n          brani += element + '§';\r\n    \r\n          let nome = '';\r\n          let traccia = '';\r\n          let path = '';\r\n          let estensione = '';\r\n          const nn = element.split('/');\r\n    \r\n          let artista = 'Sconosciuto';\r\n          let album = 'Sconosciuto';\r\n    \r\n          if (element.indexOf('LooigiSoft') > -1) {\r\n            artista = nn[3];\r\n            // this.utility.scriveDebug(t, 'Sistemazione struttura brani locali: Tutto ' + nn);\r\n            // this.utility.scriveDebug(t, 'Sistemazione struttura brani locali: Artista ' + artista);\r\n            if (nn[4].indexOf('-') > -1) {\r\n              const alb = nn[4].split('-');\r\n              album = alb[1];\r\n            } else {\r\n              album = nn[4];\r\n            }\r\n          }\r\n          // this.utility.scriveDebug(t, 'Sistemazione struttura brani locali: Artista ' + album);\r\n          nn.forEach(element2 => {\r\n            if (element2.toUpperCase().indexOf('.MP3') > -1 || element2.toUpperCase().indexOf('.WMA') > -1 && element2.text !== '') {\r\n              nome = element2;\r\n              path = element;\r\n              if (nome.indexOf('-') > -1) {\r\n                const nn = nome.split('-');\r\n                traccia = nn[0];\r\n                nome = '';\r\n                for (let i = 1; i < nn.length; i++) {\r\n                  nome += nn[i];\r\n                }\r\n              }\r\n              if (nome.indexOf('.') > -1) {\r\n                for (let i = nome.length - 1; i> 0; i--) {\r\n                  if (estensione === '') {\r\n                    if (nome.substring(i, i + 1) === '.') {\r\n                      estensione = nome.substring(i, nome.length);\r\n                      nome = nome.replace(estensione, '');\r\n                    }\r\n                  }\r\n                }\r\n              }\r\n            }\r\n          });\r\n          if (nome !== '' && path !== '') {\r\n            const bb = { Artista: artista, Album: album, Ascoltata: 0, Estensione: estensione, id: id, Stelle: 0, \r\n              path: path, Text: nome, Traccia: traccia !== '' ? traccia : '00' };\r\n            // this.utility.scriveDebug(t, 'Aggiungo brano locale. ID:' + id + ' Path: ' + path);\r\n            // alert(nome + ' - ' + element);\r\n            // alert(JSON.stringify(bb));\r\n            id++;\r\n            q++;\r\n            b.push(bb);\r\n          }\r\n        });\r\n        \r\n        this.utility.scriveDebug(t, 'Sistemazione struttura brani locali. Aggiunti ' + q);\r\n    \r\n        if (salva === true) {\r\n          this.file.writeFile(this, 9, 'LooigiSoft', 'looWebPlayer/jsonBraniLocali.json', JSON.stringify(brani)).then((Ritorno) => {\r\n            this.utility.scriveDebug(t, 'Sistemazione struttura brani locali. Scrittura file brani locali:' + Ritorno);\r\n          });\r\n        }\r\n\r\n        this.utility.scriveDebug(t, 'Sistemazione struttura brani locali. Righe prima della modifica: ' + t.datiJSON.length);\r\n        // const n = { text: 'Brani SD', collapsed: true, children: [{ Anno: '0000', collapsed: true, text: 'Locale', children: b }] };\r\n        // this.utility.scriveDebug(t, 'Sistemazione struttura brani locali. Righe interne struttura: ' + b.length);\r\n    \r\n        let trovato = false;\r\n        let nonTrovati = new Array();\r\n        q = 0;\r\n    \r\n        b.forEach(branoSuSD => {\r\n          trovato = false;\r\n          if (branoSuSD.Artista !== 'Sconosciuto') {\r\n            // this.utility.scriveDebug(t, 'Sistemazione struttura brani locali: Cerco ' + branoSuSD.Artista + ' - ' + branoSuSD.Album + ' - ' + branoSuSD.Text);\r\n            \r\n            if (trovato === false) {\r\n              t.datiJSON.forEach(element => {\r\n                if (trovato === false && element.text === branoSuSD.Artista) {\r\n                  // this.utility.scriveDebug(t, 'Artista: ' + element.text + ' - ' + branoSuSD.Artista);\r\n                  const albums = element.children;\r\n                  albums.forEach(element2 => {\r\n                    if (trovato === false && element2.text === branoSuSD.Album) {\r\n                      // this.utility.scriveDebug(t, 'Album: ' + element2.text + ' - ' + branoSuSD.Album);\r\n                      const brani = element2.children;\r\n                      brani.forEach(element3 => {\r\n                        if (trovato === false && element3.Text === branoSuSD.Text) {\r\n                          // this.utility.scriveDebug(t, 'Brano: ' + element3.Text + ' - ' + branoSuSD.Text);\r\n                          // this.utility.scriveDebug(t, 'TROVATO:  ' + element3.Text);\r\n                          element3.locale = true;\r\n                          trovato = true;\r\n                          q++;\r\n                        }\r\n                      });\r\n                    }            \r\n                  });\r\n                }\r\n              });\r\n            }\r\n          }\r\n    \r\n          if (!trovato) {\r\n            // this.utility.scriveDebug(t, 'Sistemazione struttura brani locali: NON Trovato');\r\n            nonTrovati.push(branoSuSD);\r\n            /* let ce = false;\r\n            this.datiJSON.forEach(element => {\r\n              if (ce === false && element.text === 'Brani SD') {\r\n                ce = true;\r\n              }\r\n            });\r\n            // this.utility.scriveDebug(t, 'Sistemazione struttura brani locali. Rilevati nella struttura: ' + ce); */\r\n          }\r\n        });\r\n        this.utility.scriveDebug(t, 'Sistemazione struttura brani locali. Righe Aggiornate: ' + q);\r\n        this.utility.scriveDebug(t, 'Sistemazione struttura brani locali. Righe NON trovate: ' + nonTrovati.length);\r\n    \r\n        const n = { text: 'Brani SD', collapsed: true, children: [{ Anno: '0000', collapsed: true, text: 'Locale', children: nonTrovati }] };\r\n        try {\r\n          t.datiJSON.push(n);\r\n        } catch (e) {\r\n          this.utility.scriveDebug(t, 'Sistemazione struttura brani locali. Errore nel riempimento della struttura: ' + JSON.stringify(e));\r\n        }\r\n        this.utility.scriveDebug(t, 'Sistemazione struttura brani locali. Righe dopo la modifica: ' + t.datiJSON.length);\r\n    }\r\n    /*\r\n        // prende brano random di quelli già scaricati\r\n        const x = Math.floor(Math.random() * ComponentFile.filesInMemoria.length);\r\n        const f = ComponentFile.filesInMemoria[x];\r\n        let ff = f;\r\n        ff = ff.substring(ff.indexOf('LooigiSoft'), ff.length);\r\n        // alert(ff);\r\n        const parti = ff.split('/');\r\n        ComponentFile.percorsoFileSD = ComponentFile.pathSD + f;\r\n        // alert('File in locale preso\\n' + f);\r\n    \r\n        t.artista = parti[3];\r\n        t.album = parti[4];\r\n        if (t.album.indexOf('-') > -1) {\r\n          const a = t.album.split('-');\r\n          t.anno = a[0];\r\n          t.album = a[1];\r\n        } else {\r\n          t.anno = '0000';\r\n        }\r\n        t.titoloBrano = parti[5];\r\n        if (t.titoloBrano.indexOf('-') > -1) {\r\n          const a = t.titoloBrano.split('-');\r\n          t.traccia = a[0];\r\n          t.titoloBrano = a[1];\r\n        } else {\r\n          t.traccia = '00';\r\n        }\r\n        if (t.titoloBrano.indexOf('.') > -1) {\r\n          const a = t.titoloBrano.split('.');\r\n          t.estensioneBrano = '.' + a[1];\r\n          t.titoloBrano = a[0];\r\n        } else {\r\n          t.estensioneBrano = '';\r\n        }\r\n    \r\n        t.testo = t.artista.toUpperCase() + '<br />' + t.titoloBrano.toUpperCase();\r\n    \r\n        const pathImmagine = t.urlImmagine + 'Immagini/' + t.artista + '/' + t.anno + '-' + t.album + '/Cover_' + t.artista + '.jpg';\r\n        t.immagineBrano = pathImmagine;\r\n        t.immagineSfondo = pathImmagine;\r\n        // alert(pathImmagine);\r\n    \r\n        // this.caricaBrano.prosegueCaricamento(this);\r\n    \r\n        t.imms = new Array();\r\n        t.scritte = new Array();\r\n        this.caricaBrano.prendeScritte(this);\r\n    }        */\r\n\r\n    scaricaProssimoBranoInAutomatico(t) {\r\n        t.scaricatoAutomaticamente = true;\r\n        this.utility.scriveDebug(t, 'Avanti brano, cerco nuovo');\r\n        t.numeroBrano = t.prendeNumeroProssimoBrano(1);\r\n        this.utility.scriveDebug(t, 'Avanti brano, prendo nuovo: ' + t.numeroBrano);\r\n        t.caricaBranoAutomatico.resettaErrori(t);\r\n        t.caricaBranoAutomatico.caricaBrano(t);\r\n    }    \r\n}","import { Injectable, OnInit } from \"@angular/core\";\r\n\r\n@Injectable()\r\nexport class GestioneMusicaComponent implements OnInit {\r\n    constructor(\r\n\r\n    ) {\r\n\r\n    }\r\n    \r\n    ngOnInit(): void {\r\n        \r\n    }\r\n}","import { AfterViewInit, Injectable, OnChanges, OnInit } from \"@angular/core\";\r\nimport {throwError as observableThrowError, Observable} from 'rxjs';\r\nimport { connectableObservableDescriptor } from \"rxjs/internal/observable/ConnectableObservable\";\r\nimport { map } from \"rxjs/operators\";\r\nimport { ApiService } from \"../services/api2.service\";\r\nimport { HttpService } from \"../services/httpclient.service\";\r\nimport { MusixMatchComponent } from \"./musixmatch.component\";\r\nimport { UtilityComponent } from \"./utility.component\";\r\n\r\n@Injectable()\r\nexport class HappiComponent implements OnInit, AfterViewInit, OnChanges {\r\n    chiave = '6fc0bc7j7XUiCrggzyGJN4mCVDvUA1mo7ylOvhALhgKZxs8oy0wQsfbt';\r\n    ultimaVoltaTMS = -1;\r\n    tt;\r\n    idBranoT;\r\n    ArtistaT;\r\n    AlbumT;\r\n    TracciaT;\r\n\r\n    constructor(\r\n        private apiService: ApiService,\r\n        private http: HttpService,\r\n        public utility: UtilityComponent,\r\n        private MusixMatch: MusixMatchComponent\r\n    ) {}\r\n\r\n    ngOnInit() {\r\n        \r\n    }\r\n\r\n    ngOnChanges() {\r\n\r\n    }\r\n\r\n    ngAfterViewInit() {\r\n\r\n    }\r\n\r\n    prendeArtista(t, idBrano, Artista: string, Album: string, Traccia: string) {\r\n        const ora = new Date().getTime();\r\n        if (ora - this.ultimaVoltaTMS < t.ritardoPerFunzioni && this.ultimaVoltaTMS !== -1) {\r\n            return;\r\n        }\r\n        this.ultimaVoltaTMS = ora;\r\n\r\n        this.tt = t;\r\n        this.idBranoT = idBrano;\r\n        this.ArtistaT = Artista;\r\n        this.AlbumT = Album;\r\n        this.TracciaT = Traccia;\r\n\r\n        let idArtista = -1;\r\n        let idAlbum = -1;\r\n        let idTraccia = -1;\r\n        let lyrics = '';\r\n\r\n        if (t.debug === true) {\r\n            console.log('Cerco testo: ', Artista, Album, Traccia);\r\n        }\r\n        this.prendeArtistaGet(t, Artista).subscribe(data => {\r\n            const d = JSON.parse(data._body);\r\n            // console.log(d);\r\n            const result = d.result;\r\n            result.forEach(element => {\r\n                if (idArtista === -1 && element.artist.trim().toUpperCase().indexOf(Artista.trim().toUpperCase()) > -1) {\r\n                    idArtista = element.id_artist;\r\n                    if (t.debug === true) {\r\n                        console.log('ID Artista:', idArtista);\r\n                    }\r\n\r\n                    this.prendeAlbumGet(t, idArtista).subscribe(data2 => {\r\n                        const d = JSON.parse(data2._body);\r\n                        const result = d.result.albums;\r\n                        result.forEach(element => {\r\n                            if (idAlbum === -1 && element.album.trim().toUpperCase().indexOf(Album.trim().toUpperCase()) > -1) {\r\n                                idAlbum = element.id_album;\r\n                                if (t.debug === true) {\r\n                                    console.log('ID Album:', idAlbum);\r\n                                }\r\n\r\n                                this.prendeTracciaGet(t, idArtista, idAlbum).subscribe(data3 => {\r\n                                    const d = JSON.parse(data3._body);\r\n                                    // console.log('Tracce', d, Traccia);\r\n                                    const result = d.result.tracks;\r\n                                    result.forEach(element => {\r\n                                        if (idTraccia === -1 && element.track.trim().toUpperCase().indexOf(Traccia.trim().toUpperCase()) > -1) {\r\n                                            idTraccia = element.id_track;\r\n                                            if (t.debug === true) {\r\n                                                console.log('ID Traccia:', idTraccia);\r\n                                            }\r\n                                            \r\n                                            this.prendeLyricsGet(t, idArtista, idAlbum, idTraccia).subscribe(data4 => {\r\n                                                if (data4.ok) {\r\n                                                    const d = JSON.parse(data4._body);\r\n                                                    // console.log(d);\r\n                                                    \r\n                                                    lyrics = d.result.lyrics;\r\n                                                    lyrics = Artista.toUpperCase() + '<br />' + Traccia.toUpperCase() + '<br /><br />' + lyrics;\r\n\r\n                                                    t.testo = lyrics;\r\n                                                    t.testoTradotto = '';\r\n\r\n                                                    let lyrics2 = lyrics;\r\n                                                    while(lyrics2.indexOf('&') > -1) {\r\n                                                        lyrics2 = lyrics2.replace('&', '-AND-');\r\n                                                    }\r\n                                                    while(lyrics2.indexOf('?') > -1) {\r\n                                                        lyrics2 = lyrics2.replace('?', '-PI-');\r\n                                                    }\r\n                                                    while(lyrics2.indexOf('/') > -1) {\r\n                                                        lyrics2 = lyrics2.replace('/', '-SL-');\r\n                                                    }\r\n                                                    while(lyrics2.indexOf('\\\\') > -1) {\r\n                                                        lyrics2 = lyrics2.replace('\\\\', '-CS-');\r\n                                                    }\r\n                                                    while(lyrics2.indexOf('=') > -1) {\r\n                                                        lyrics2 = lyrics2.replace('=', '-UG-');\r\n                                                    }\r\n                                                    while(lyrics2.indexOf('(') > -1) {\r\n                                                        lyrics2 = lyrics2.replace('(', '-PA-');\r\n                                                    }\r\n                                                    while(lyrics2.indexOf(')') > -1) {\r\n                                                        lyrics2 = lyrics2.replace(')', '-PC-');\r\n                                                    }\r\n                                                    while(lyrics2.indexOf('<') > -1) {\r\n                                                        lyrics2 = lyrics2.replace('<', '-MIN-');\r\n                                                    }\r\n                                                    while(lyrics2.indexOf('>') > -1) {\r\n                                                        lyrics2 = lyrics2.replace('>', '-MAX-');\r\n                                                    }\r\n\r\n                                                    if (t.debug === true) {\r\n                                                        console.log('Traccia acquisita');\r\n                                                    }\r\n        \r\n                                                    this.apiService.ScriveTesto(\r\n                                                        { \r\n                                                          idCanzone: idBrano,\r\n                                                          Testo: lyrics2\r\n                                                        }\r\n                                                      ).map(response => this.apiService.controllaRitorno(response))\r\n                                                      .subscribe(\r\n                                                        data => {\r\n                                                          if (data) {\r\n                                                            const data2 = this.apiService.prendeSoloDatiValidi(data);\r\n                                                            // console.log(data2);\r\n                                                            if (data2.indexOf('ERROR:') === -1) {\r\n                                                            } else {                                                                \r\n                                                            }\r\n                                                          }\r\n                                                        },\r\n                                                        (error) => {\r\n                                                        }\r\n                                                      );\r\n                                                  \r\n                                                    // console.log(lyrics);\r\n                                                } else {\r\n                                                    // nessuan lyrics rilevata\r\n                                                    this.MusixMatch.prendeArtista(t, idBrano, Artista, Album, Traccia);\r\n                                                }\r\n                                            });    \r\n                                        }\r\n                                    });\r\n                                    if (idTraccia === -1) {\r\n                                        // nessuna traccia rilevata\r\n                                        this.MusixMatch.prendeArtista(t, idBrano, Artista, Album, Traccia);\r\n                                    }\r\n                                });    \r\n                            }\r\n                        });\r\n                        if (idAlbum === -1) {\r\n                            // Nessun album rilevato\r\n                            this.MusixMatch.prendeArtista(t, idBrano, Artista, Album, Traccia);\r\n                        }\r\n                    });    \r\n                }\r\n            });\r\n            if (idArtista === -1) {\r\n                // Nessun artista rilevato\r\n                this.MusixMatch.prendeArtista(t, idBrano, Artista, Album, Traccia);\r\n            }\r\n        });\r\n    }\r\n\r\n    private prendeArtistaGet(t, Artista): Observable<any> {\r\n        const url = 'https://api.happi.dev/v1/music?q=' + Artista + '&limit=&apikey=' + this.chiave + '&type=artist&lyrics=0'\r\n        \r\n        return this.http.get(t, url).catch(this.catchAuthError());\r\n    }\r\n\r\n    private prendeAlbumGet(t, Album): Observable<any> {\r\n        const url = 'https://api.happi.dev/v1/music/artists/' + Album + '/albums?apikey=' + this.chiave\r\n        \r\n        return this.http.get(t, url).catch(this.catchAuthError());\r\n    }\r\n\r\n    private prendeTracciaGet(t, Artista, Album): Observable<any> {\r\n        const url = 'https://api.happi.dev/v1/music/artists/' + Artista + '/albums/' + Album + '/tracks?apikey=' + this.chiave\r\n        \r\n        return this.http.get(t, url).catch(this.catchAuthError());\r\n    }\r\n\r\n    private prendeLyricsGet(t, Artista, Album, Traccia): Observable<any> {\r\n        const url = 'https://api.happi.dev/v1/music/artists/' + Artista + '/albums/' + Album + '/tracks/' + Traccia + '/lyrics?apikey=' + this.chiave\r\n        \r\n        return this.http.get(t, url).catch(this.catchAuthError());\r\n    }\r\n\r\n    private catchAuthError() {\r\n        // console.log('Errore: ', self);\r\n        // we have to pass HttpService's own instance here as `self`\r\n        return (res: Response) => {\r\n          // console.log('ERRORE Http: ', res);\r\n          if (res.status === 404) {\r\n            this.MusixMatch.prendeArtista(this.tt, this.idBranoT, this.ArtistaT, this.AlbumT, this.TracciaT);\r\n          }\r\n          return observableThrowError(res);\r\n        };\r\n    }\r\n}","import { AfterViewInit, Injectable, OnChanges, OnInit } from \"@angular/core\";\r\nimport {throwError as observableThrowError, Observable} from 'rxjs';\r\nimport { connectableObservableDescriptor } from \"rxjs/internal/observable/ConnectableObservable\";\r\nimport { map } from \"rxjs/operators\";\r\nimport { ApiService } from \"../services/api2.service\";\r\nimport { HttpService } from \"../services/httpclient.service\";\r\nimport { UtilityComponent } from \"./utility.component\";\r\n\r\n@Injectable()\r\nexport class MusixMatchComponent implements OnInit, AfterViewInit, OnChanges {\r\n    chiave = 'e79c8738286330240a3492c4de967cb7';\r\n    ultimaVoltaTMS = -1;\r\n\r\n    constructor(\r\n        private apiService: ApiService,\r\n        private http: HttpService,\r\n        public utility: UtilityComponent,\r\n    ) {}\r\n\r\n    ngOnInit() {\r\n        \r\n    }\r\n\r\n    ngOnChanges() {\r\n\r\n    }\r\n\r\n    ngAfterViewInit() {\r\n\r\n    }\r\n\r\n    prendeArtista(t, idBrano, Artista: string, Album: string, Traccia: string) {\r\n        const ora = new Date().getTime();\r\n        if (ora - this.ultimaVoltaTMS < t.ritardoPerFunzioni && this.ultimaVoltaTMS !== -1) {\r\n            return;\r\n        }\r\n        this.ultimaVoltaTMS = ora;\r\n\r\n        let idArtista = -1;\r\n        let idAlbum = -1;\r\n        let idTraccia = -1;\r\n        let lyrics = '';\r\n\r\n        if (t.debug === true) {\r\n            console.log('Cerco testo: ', Artista, Album, Traccia);\r\n        }\r\n        this.prendeArtistaGet(t, Artista).subscribe(data => {\r\n            const d = JSON.parse(data._body);\r\n            // console.log(d);\r\n\r\n            const result = d.message.body.artist_list;\r\n            result.forEach(element => {\r\n                if (idArtista === -1 && element.artist.artist_name.trim().toUpperCase().indexOf(Artista.trim().toUpperCase()) > -1) {\r\n                    idArtista = element.artist.artist_id;\r\n                    if (t.debug === true) {\r\n                        console.log('ID Artista:', idArtista);\r\n                    }\r\n\r\n                    this.prendeAlbumGet(t, idArtista).subscribe(data2 => {\r\n                        const d = JSON.parse(data2._body);\r\n                        // console.log(d);\r\n\r\n                        const result = d.message.body.album_list;\r\n                        result.forEach(element => {\r\n                            if (idAlbum === -1 && element.album.album_name.trim().toUpperCase().indexOf(Album.trim().toUpperCase()) > -1) {\r\n                                idAlbum = element.album.album_id;\r\n                                if (t.debug === true) {\r\n                                    console.log('ID Album:', idAlbum);\r\n                                }\r\n\r\n                                this.prendeTracciaGet(t, idAlbum).subscribe(data3 => {\r\n                                    const d = JSON.parse(data3._body);\r\n                                    // console.log(d);\r\n\r\n                                    const result = d.message.body.track_list;\r\n                                    result.forEach(element => {\r\n                                        if (idTraccia === -1 && element.track.track_name.trim().toUpperCase().indexOf(Traccia.trim().toUpperCase()) > -1) {\r\n                                            idTraccia = element.track.track_id;\r\n                                            if (t.debug === true) {\r\n                                                console.log('ID Traccia:', idTraccia);\r\n                                            }\r\n                                            \r\n                                            this.prendeLyricsGet(t, idTraccia).subscribe(data4 => {\r\n                                                const d = JSON.parse(data4._body);\r\n                                                console.log(d);\r\n                                                return;\r\n                                                \r\n                                                if (data4.ok) {\r\n                                                    lyrics = d.result.lyrics;\r\n                                                    lyrics = Artista.toUpperCase() + '<br />' + Traccia.toUpperCase() + '<br /><br />' + lyrics;\r\n\r\n                                                    t.testo = lyrics;\r\n                                                    t.testoTradotto = '';\r\n\r\n                                                    let lyrics2 = lyrics;\r\n                                                    while(lyrics2.indexOf('&') > -1) {\r\n                                                        lyrics2 = lyrics2.replace('&', '-AND-');\r\n                                                    }\r\n                                                    while(lyrics2.indexOf('?') > -1) {\r\n                                                        lyrics2 = lyrics2.replace('?', '-PI-');\r\n                                                    }\r\n                                                    while(lyrics2.indexOf('/') > -1) {\r\n                                                        lyrics2 = lyrics2.replace('/', '-SL-');\r\n                                                    }\r\n                                                    while(lyrics2.indexOf('\\\\') > -1) {\r\n                                                        lyrics2 = lyrics2.replace('\\\\', '-CS-');\r\n                                                    }\r\n                                                    while(lyrics2.indexOf('=') > -1) {\r\n                                                        lyrics2 = lyrics2.replace('=', '-UG-');\r\n                                                    }\r\n                                                    while(lyrics2.indexOf('(') > -1) {\r\n                                                        lyrics2 = lyrics2.replace('(', '-PA-');\r\n                                                    }\r\n                                                    while(lyrics2.indexOf(')') > -1) {\r\n                                                        lyrics2 = lyrics2.replace(')', '-PC-');\r\n                                                    }\r\n                                                    while(lyrics2.indexOf('<') > -1) {\r\n                                                        lyrics2 = lyrics2.replace('<', '-MIN-');\r\n                                                    }\r\n                                                    while(lyrics2.indexOf('>') > -1) {\r\n                                                        lyrics2 = lyrics2.replace('>', '-MAX-');\r\n                                                    }\r\n\r\n                                                    if (t.debug === true) {\r\n                                                        console.log('Traccia acquisita');\r\n                                                    }\r\n        \r\n                                                    this.apiService.ScriveTesto(\r\n                                                        { \r\n                                                          idCanzone: idBrano,\r\n                                                          Testo: lyrics2\r\n                                                        }\r\n                                                      ).map(response => this.apiService.controllaRitorno(response))\r\n                                                      .subscribe(\r\n                                                        data => {\r\n                                                          if (data) {\r\n                                                            const data2 = this.apiService.prendeSoloDatiValidi(data);\r\n                                                            // console.log(data2);\r\n                                                            if (data2.indexOf('ERROR:') === -1) {\r\n                                                            } else {                                                                \r\n                                                            }\r\n                                                          }\r\n                                                        },\r\n                                                        (error) => {\r\n                                                        }\r\n                                                      );\r\n                                                  \r\n                                                    // console.log(lyrics);\r\n                                                } else {\r\n                                                    // nessuan lyrics rilevata\r\n                                                }\r\n                                            });    \r\n                                        }\r\n                                    });\r\n                                });    \r\n                            }\r\n                        });\r\n                    });    \r\n                }\r\n            });\r\n        });\r\n    }\r\n\r\n    private prendeArtistaGet(t, Artista): Observable<any> {\r\n        const url = 'https://cors-anywhere.herokuapp.com/http://api.musixmatch.com/ws/1.1/artist.search?apikey=' + this.chiave + '&q_artist=' + Artista + '&page_size=5'\r\n        \r\n        return this.http.get(t, url).catch(this.catchAuthError());\r\n    }\r\n\r\n    private prendeAlbumGet(t, idArtista): Observable<any> {\r\n        const url = 'https://cors-anywhere.herokuapp.com/https://api.musixmatch.com/ws/1.1/artist.albums.get?apikey=' + this.chiave + '&artist_id=' + idArtista + '&s_release_date=desc&g_album_name=1'\r\n        \r\n        return this.http.get(t, url).catch(this.catchAuthError());\r\n    }\r\n\r\n    private prendeTracciaGet(t, idAlbum): Observable<any> {\r\n        const url = 'https://cors-anywhere.herokuapp.com/https://api.musixmatch.com/ws/1.1/album.tracks.get?apikey=' + this.chiave + '&album_id=' + idAlbum + '&page=1&page_size=2'\r\n        \r\n        return this.http.get(t, url).catch(this.catchAuthError());\r\n    }\r\n\r\n    private prendeLyricsGet(t, idTraccia): Observable<any> {\r\n        const url = 'https://cors-anywhere.herokuapp.com/https://api.musixmatch.com/ws/1.1/track.lyrics.get?apikey=' + this.chiave + '&track_id=' + idTraccia\r\n        \r\n        return this.http.get(t, url).catch(this.catchAuthError());\r\n    }\r\n\r\n    private catchAuthError() {\r\n        // console.log('Errore: ', self);\r\n        // we have to pass HttpService's own instance here as `self`\r\n        return (res: Response) => {\r\n          // console.log('ERRORE Http: ', res);\r\n          if (res.status === 404) {\r\n          }\r\n          return observableThrowError(res);\r\n        };\r\n    }\r\n}","import { Injectable } from \"@angular/core\";\r\nimport { UtilityComponent } from \"./utility.component\";\r\n\r\n@Injectable()\r\nexport class StorageComponent {\r\n  constructor(\r\n    private utility: UtilityComponent\r\n  ) {\r\n\r\n  }\r\n\r\n  leggeSettaggi(t) {\r\n      const m0 = localStorage.getItem('CheckRicaricaBraniLocali');\r\n      if (m0 === null) {\r\n        t.checkRicaricaBraniLocali = false;\r\n      } else {\r\n        t.checkRicaricaBraniLocali = m0 === 'S' ? true : false;\r\n      }\r\n      const m1 = localStorage.getItem('MascheraFiltroBrani');\r\n      if (m1 === null) {\r\n        t.mascheraFiltroBrani = false;\r\n      } else {\r\n        t.mascheraFiltroBrani = m1 === 'S' ? true : false;\r\n      }\r\n      const m2 = localStorage.getItem('MascheraBrani');\r\n      if (m2 === null) {\r\n        t.mascheraBrani = false;\r\n      } else {\r\n        t.mascheraBrani = m2 === 'S' ? true : false;\r\n      }\r\n      const m3 = localStorage.getItem('MascheraOpzioni');\r\n      if (m3 === null) {\r\n        t.mascheraOpzioni = false;\r\n      } else {\r\n        t.mascheraOpzioni = m3 === 'S' ? true : false;\r\n      }\r\n      const m4 = localStorage.getItem('MascheraArtisti');\r\n      if (m4 === null) {\r\n        t.mascheraArtisti = false;\r\n      } else {\r\n        t.mascheraArtisti = m4 === 'S' ? true : false;\r\n      }\r\n      const m5 = localStorage.getItem('MascheraTesto');\r\n      if (m5 === null) {\r\n        t.mascheraTesto = false;\r\n      } else {\r\n        t.mascheraTesto = m5 === 'S' ? true : false;\r\n      }\r\n      const m6 = localStorage.getItem('ComandiVocaliAttivi');\r\n      if (m6 === null) {\r\n        t.comandiVocaliAttivi = false;\r\n      } else {\r\n        t.comandiVocaliAttivi = m6 === 'S' ? true : false;\r\n      }\r\n  \r\n      t.modalitaYouTube = localStorage.getItem('modalitaYouTube');\r\n      if (t.modalitaYouTube === null) {\r\n        t.modalitaYouTube = 'N';\r\n      }\r\n      // console.log(t.modalitaYouTube);\r\n      const d2 = localStorage.getItem('limita_brani');\r\n      if (d2 === null || d2 === 'S') {\r\n        t.limitaBrani = true;\r\n      }\r\n      const d3 = localStorage.getItem('limite_brani');\r\n      if (d3 !== null) {\r\n        t.numeroLimiteBrani = +d3;\r\n      }\r\n      // console.log(t.debug);\r\n  \r\n      t.random = localStorage.getItem('random');\r\n      if (t.random === null) {\r\n        t.random = 'S';\r\n      }\r\n      /* t.visuaTesto = localStorage.getItem('visuaTesto');\r\n      if (t.visuaTesto === null) {\r\n        t.visuaTesto = 'S';\r\n      } */\r\n      const n = localStorage.getItem('NumeroStelle');\r\n      if (n === null) {\r\n        t.numeroStelle = 5;\r\n      } else {\r\n        t.numeroStelle = +n;\r\n      }\r\n      const mv = localStorage.getItem('maiVotate');\r\n      if (mv === null) {\r\n        t.maiVotate = false;\r\n      } else {\r\n        t.maiVotate = mv === 'S' ? true : false;\r\n      }\r\n      const tlc = localStorage.getItem('tutteLeCanzoni');\r\n      /* if (tlc === null) {\r\n        t.tutteLeCanzoni = true;\r\n      } else {\r\n        if (tlc === 'S') {\r\n          t.tutteLeCanzoni = true;\r\n        } else {\r\n          t.tutteLeCanzoni = false;\r\n        }\r\n      } */\r\n      t.sfuma = localStorage.getItem('sfuma') === 'S' ? true : false;\r\n      t.cicla = localStorage.getItem('cicla') === 'S' ? true : false;\r\n      /* t.ultimoFiltro = localStorage.getItem('Dati_' + tlc);\r\n      if (t.ultimoFiltro !== null) {\r\n        t.ultimoFiltroArray = t.ultimoFiltro.split(',');\r\n      } else {\r\n        t.ultimoFiltroArray = new Array();\r\n      }\r\n      console.log('Impostato ultimo filtro 0', t.ultimoFiltroArray); */\r\n      t.linguaggio = localStorage.getItem('linguaggio');\r\n      if (t.linguaggio === null) {\r\n        t.linguaggio = 'OR';\r\n      }\r\n      if (t.linguaggio === 'OR') {\r\n        t.linguaggioIcona = 'assets/immagini/inglese.png';\r\n      } else {\r\n        t.linguaggioIcona = 'assets/immagini/italiano.png';\r\n      }\r\n      const d = localStorage.getItem('debug');\r\n      if (d === null || d === 'S') {\r\n        t.debug = true;\r\n      }    \r\n      const tt = localStorage.getItem('tagsRicerca');\r\n      if (tt === null) {\r\n        t.tagsRicerca = {};\r\n      } else {\r\n        t.tagsRicerca = JSON.parse(tt);\r\n      }\r\n      const f = localStorage.getItem('FiltroTesto');\r\n      if (f === null) {\r\n        t.filtroImpostato = '';\r\n      } else {\r\n        t.filtroImpostato = f;\r\n      }\r\n      t.visuaTagBrano = localStorage.getItem('visuaTagBrano') === 'S' ? true : false;\r\n      const ee = localStorage.getItem('esclusioni');\r\n      if (ee === null) {\r\n        t.esclusioni = '';\r\n      } else {\r\n        t.esclusioni = ee;\r\n      }\r\n  }\r\n\r\n  cambiaFiltro2(t, e) {\r\n      // if (e.length > 2) {\r\n        // console.log(e);\r\n        t.filtroImpostato = e;\r\n        localStorage.setItem('FiltroTesto', t.filtroImpostato);\r\n        // this.checkTutteLeCanzoni(t);\r\n      /* } else {\r\n        if (e === '') {\r\n          t.filtroImpostato = '';\r\n          this.checkTutteLeCanzoni(t);\r\n        }\r\n      } */\r\n  }\r\n\r\n    cambiaEsclusioni(t, e) {\r\n      // if (e.length > 2) {\r\n        // console.log(e);\r\n        t.esclusioni = e;\r\n        localStorage.setItem('esclusioni', t.esclusioni);\r\n        // this.checkTutteLeCanzoni(t);\r\n      /* } else {\r\n        if (e === '') {\r\n          t.filtroImpostato = '';\r\n          this.checkTutteLeCanzoni(t);\r\n        }\r\n      } */\r\n  }\r\n\r\n  checkVisuaTagBrano(t, e) {\r\n    if (e === false) {\r\n      t.visuaTagBrano = false;\r\n    } else {\r\n      t.visuaTagBrano = e.srcElement.checked;\r\n    }\r\n    localStorage.setItem('visuaTagBrano', t.visuaTagBrano === true ? 'S' : 'N');\r\n  }\r\n\r\n  checkCanzoniMamma(t, e) {\r\n      t.canzoniMamma = e.srcElement.checked;\r\n      if (t.canzoniMamma === true) {\r\n        t.consideraStelle = false;\r\n      }\r\n      localStorage.setItem('CanzoniMamma', t.canzoniMamma === true ? 'S' : 'N');\r\n      this.checkTutteLeCanzoni(t);\r\n  }\r\n    \r\n  checkEliminaMamma(t, e) {\r\n      t.eliminaMamma = e.srcElement.checked;\r\n      localStorage.setItem('TutteCanzoni', t.eliminaMamma === true ? 'S' : 'N');\r\n      this.checkTutteLeCanzoni(t);\r\n  }\r\n    \r\n  checkSoloCanzoniLocali(t, e) {\r\n      if (t.isConnected === true) {\r\n        t.canzoniLocali = e.srcElement.checked;\r\n        if (t.consideraStelle === true) {\r\n          t.vecchioConsideraStelle = t.consideraStelle;\r\n          t.consideraStelle = false;\r\n        } else {\r\n          if (t.vecchioConsideraStelle === undefined) {\r\n            const v = localStorage.getItem('ConsideraStelle');\r\n            t.vecchioConsideraStelle = v === 'S' ? true : false;\r\n          }\r\n          t.consideraStelle = t.vecchioConsideraStelle;\r\n        }\r\n        localStorage.setItem('CanzoniLocali', t.canzoniLocali === true ? 'S' : 'N');\r\n        this.checkTutteLeCanzoni(t);\r\n      } else {\r\n        t.canzoniLocali = true;\r\n      }\r\n  }\r\n    \r\n  checkConsideraStelle(t, e) {\r\n      if (t.isConnected === true) {\r\n        t.consideraStelle = e.srcElement.checked;\r\n        localStorage.setItem('ConsideraStelle', t.consideraStelle === true ? 'S' : 'N');\r\n        this.checkTutteLeCanzoni(t);\r\n      } else {\r\n        t.canzoniLocali = true;\r\n      }\r\n  }\r\n  \r\n  cambiaStelle(t, e) {\r\n      if (e < 0 || e > 10) {\r\n        alert('Valore non valido');\r\n        t.numeroStelle = 5;\r\n        return;\r\n      }\r\n      t.numeroStelle = e;\r\n      localStorage.setItem('NumeroStelle', t.numeroStelle.toString());\r\n      this.checkTutteLeCanzoni(t);\r\n  }\r\n  \r\n  checkMaiVotate(t, e) {\r\n      t.maiVotate = e.srcElement.checked;\r\n      localStorage.setItem('maiVotate', t.maiVotate === true ? 'S' : 'N');\r\n      this.checkTutteLeCanzoni(t);\r\n  }\r\n  \r\n  checkTutteLeCanzoni(t) {\r\n      setTimeout(() => {\r\n        // const filtro = chi;\r\n        // t.tutteLeCanzoni = e.srcElement.checked;\r\n        // t.filtraBrani();\r\n        /* t.ultimoFiltro = localStorage.getItem('Dati_' + t.tutteLeCanzoni);\r\n        if (t.ultimoFiltro !== null) {\r\n          t.ultimoFiltroArray = t.ultimoFiltro.split(',');\r\n        } else {\r\n          t.ultimoFiltroArray = new Array();\r\n        } */\r\n        t.utility.filtraBrani(t);\r\n      }, 10);\r\n  }    \r\n\r\n  checkComandiVocali(t, e) {\r\n    if (e.srcElement) {\r\n      t.comandiVocaliAttivi = e.srcElement.checked;\r\n    } else {\r\n      t.comandiVocaliAttivi = e;\r\n    }\r\n\r\n    localStorage.setItem('ComandiVocaliAttivi', t.comandiVocaliAttivi === true ? 'S' : 'N');\r\n\r\n    if (t.comandiVocaliAttivi === true) {\r\n      t.speechService.init(this);\r\n      t.speechService.start();  \r\n    } else {\r\n      t.speechService.stop();  \r\n    }\r\n    this.gestisceFinestre();\r\n  }\r\n\r\n  checkFiltroBrani(t, e) {\r\n    if (e.srcElement) {\r\n      t.mascheraFiltroBrani = e.srcElement.checked;\r\n    } else {\r\n      t.mascheraFiltroBrani = e;\r\n    }\r\n    localStorage.setItem('MascheraFiltroBrani', t.mascheraFiltroBrani === true ? 'S' : 'N');\r\n    this.utility.scriveDebug(t, 'Filtro brani: ' + t.mascheraFiltroBrani);\r\n    this.gestisceFinestre();\r\n  }\r\n    \r\n  checkBrani(t, e) {\r\n      if (!e.srcElement) {\r\n          t.mascheraBrani = e;\r\n      } else {\r\n          t.mascheraBrani = e.srcElement.checked;\r\n      }\r\n      localStorage.setItem('MascheraBrani', t.mascheraBrani === true ? 'S' : 'N');\r\n      this.gestisceFinestre();\r\n  }\r\n    \r\n  checkTesto(t, e) {\r\n      if (!e.srcElement) {\r\n          t.mascheraTesto = e;\r\n      } else {\r\n          t.mascheraTesto = e.srcElement.checked;\r\n      }\r\n      localStorage.setItem('MascheraTesto', t.mascheraTesto === true ? 'S' : 'N');\r\n      this.gestisceFinestre();\r\n  }\r\n    \r\n  checkOpzioni(t, e) {\r\n      if (!e.srcElement) {\r\n          t.mascheraOpzioni = e;\r\n      } else {\r\n          t.mascheraOpzioni = e.srcElement.checked;\r\n      }\r\n      localStorage.setItem('MascheraOpzioni', t.mascheraOpzioni === true ? 'S' : 'N');\r\n      this.gestisceFinestre();\r\n  }\r\n    \r\n  checkArtisti(t, e) {\r\n      if (!e.srcElement) {\r\n          t.mascheraArtisti = e;\r\n      } else {\r\n          t.mascheraArtisti = e.srcElement.checked;\r\n      }\r\n      localStorage.setItem('MascheraArtisti', t.mascheraArtisti === true ? 'S' : 'N');\r\n      this.gestisceFinestre();\r\n  }\r\n  \r\n  checkAbout(t, e) {\r\n      if (!e.srcElement) {\r\n          t.mascheraAbout = e;\r\n      } else {\r\n          t.mascheraAbout = e.srcElement.checked;\r\n      }\r\n  }\r\n\r\n  checkDebug(t, e) {\r\n      setTimeout(() => {\r\n        // console.log(e.srcElement.checked);\r\n        t.debug = e.srcElement.checked;\r\n        localStorage.setItem('debug', t.debug === true ? 'S' : 'N');\r\n        // console.log(sfuma, this.sfuma);\r\n      }, 100);\r\n  }\r\n  \r\n  checkRicarica(t, e) {\r\n      setTimeout(() => {\r\n        // console.log(e.srcElement.checked);\r\n        t.checkRicaricaBraniLocali = e.srcElement.checked;\r\n        localStorage.setItem('CheckRicaricaBraniLocali', t.checkRicaricaBraniLocali === true ? 'S' : 'N');\r\n        // console.log(sfuma, this.sfuma);\r\n      }, 100);\r\n  }\r\n  \r\n  checkLimitaBrani(t, e) {\r\n      setTimeout(() => {\r\n        // console.log(e.srcElement.checked);\r\n        t.limitaBrani = e.srcElement.checked;\r\n        localStorage.setItem('limita_brani', t.limitaBrani === true ? 'S' : 'N');\r\n        // console.log(sfuma, this.sfuma);\r\n      }, 100);\r\n  }\r\n\r\n  cambiaLimiteBrani(t, e) {\r\n      if (e.length > 0) {\r\n        // console.log(e);\r\n        t.numeroLimiteBrani = +e;\r\n        localStorage.setItem('limite_brani', t.numeroLimiteBrani.toString());\r\n      } else {\r\n        alert('Valore non valido');\r\n      }\r\n  }\r\n\r\n  checkRandom(t, e) {\r\n      setTimeout(() => {\r\n        // console.log(e.srcElement.checked);\r\n        if (e.srcElement.checked === true) {\r\n          t.random = 'S';\r\n        } else {\r\n          t.random = 'N';\r\n        }\r\n        localStorage.setItem('random', t.random);\r\n      }, 100);\r\n  }\r\n    \r\n      /* checkVisuaTesto(e) {\r\n        setTimeout(() => {\r\n          // console.log(e.srcElement.checked);\r\n          if (e.srcElement.checked === true) {\r\n            this.visuaTesto = 'S';\r\n          } else {\r\n            this.visuaTesto = 'N';\r\n          }\r\n          localStorage.setItem('visuaTesto', this.visuaTesto);\r\n        }, 100);\r\n      } */\r\n    \r\n  checkSfumaImmagini(t, e) {\r\n      setTimeout(() => {\r\n        // console.log(e.srcElement.checked);\r\n        let sfuma;\r\n        if (e.srcElement.checked === true) {\r\n          sfuma = 'S';\r\n        } else {\r\n          sfuma = 'N';\r\n        }\r\n        t.sfuma = e.srcElement.checked;\r\n        localStorage.setItem('sfuma', sfuma);\r\n        // console.log(sfuma, this.sfuma);\r\n      }, 100);\r\n  }\r\n  \r\n  checkCiclaImmagini(t, e) {\r\n      setTimeout(() => {\r\n        // console.log(e.srcElement.checked);\r\n        let cicla;\r\n        if (e.srcElement.checked === true) {\r\n          cicla = 'S';\r\n          t.startTimerImmagine();\r\n        } else {\r\n          if (t.intervalImmagine) {\r\n            clearInterval(t.intervalImmagine);\r\n          }\r\n          cicla = 'N';\r\n        }\r\n        t.cicla = e.srcElement.checked;\r\n        localStorage.setItem('cicla', cicla);\r\n        // console.log(sfuma, this.sfuma);\r\n      }, 100);\r\n  }\r\n\r\n  checkModalitaYouTube(t, e) {\r\n      setTimeout(() => {\r\n        // console.log(e.srcElement.checked);\r\n        if (e.srcElement.checked === true) {\r\n          t.modalitaYouTube = 'S';\r\n          if (t.videoNONCaricato === true) {\r\n            if (t.videoplayer && t.modalitaYouTube === 'S') {\r\n              setTimeout(() => {\r\n                t.videoplayer.playVideo();\r\n              }, 100);\r\n            }\r\n          } else {\r\n            if (t.videoplayerLocale && t.modalitaYouTube === 'S') {\r\n              // this.videoplayerLocale.nativeElement.mute();\r\n              setTimeout(() => {\r\n                t.videoplayerLocale.nativeElement.play()\r\n              }, 100);\r\n            }\r\n          }\r\n        } else {\r\n          t.modalitaYouTube= 'N';\r\n          if (t.videoNONCaricato === true) {\r\n            if (t.videoplayer && t.modalitaYouTube === 'S') {\r\n              setTimeout(() => {\r\n                t.videoplayer.stopVideo();\r\n              }, 100);\r\n            }\r\n          } else {\r\n            if (t.videoplayerLocale && t.modalitaYouTube === 'S') {\r\n              // this.videoplayerLocale.nativeElement.mute();\r\n              setTimeout(() => {\r\n                t.videoplayerLocale.nativeElement.stop();\r\n              }, 100);\r\n            }\r\n          }\r\n        }\r\n        localStorage.setItem('modalitaYouTube', t.modalitaYouTube);\r\n      }, 100);\r\n  }\r\n\r\n  pulisceCookies() {\r\n      if (confirm('Si vogliono eliminare tutti i cookies')) {\r\n        // localStorage.removeItem('utenza');\r\n        // localStorage.removeItem('idUtenza');\r\n        // localStorage.removeItem('bellezzeJSON');\r\n        localStorage.removeItem('Dati_S');\r\n        localStorage.removeItem('Dati_F');\r\n        localStorage.removeItem('Dati_M');\r\n        localStorage.removeItem('tutteLeCanzoni');\r\n        localStorage.removeItem('CanzoniMamma');\r\n        localStorage.removeItem('TutteCanzoni');\r\n        localStorage.removeItem('numero_brano');\r\n        localStorage.removeItem('idUtenza');\r\n        localStorage.removeItem('filtro');\r\n        localStorage.removeItem('utenza');\r\n        localStorage.removeItem('tipoUtente');\r\n        localStorage.removeItem('sfuma');\r\n        localStorage.removeItem('cicla');\r\n        localStorage.removeItem('random');\r\n        localStorage.removeItem('visuaTesto');\r\n        localStorage.removeItem('modalitaYouTube');\r\n        localStorage.removeItem('linguaggio');\r\n        localStorage.removeItem('tagsRicerca');\r\n  \r\n        window.location.reload();\r\n      }\r\n  }\r\n                  \r\n  gestisceFinestre() {\r\n\r\n  }\r\n      \r\n  checkTagsRicerca(t, e) {\r\n    t.tagsRicerca = e;\r\n    localStorage.setItem('tagsRicerca', JSON.stringify(e));\r\n    this.checkTutteLeCanzoni(t);\r\n}\r\n\r\n}","import { DatePipe } from \"@angular/common\";\r\nimport { Injectable, OnInit } from \"@angular/core\";\r\nimport { ConnectionServiceModule } from \"ng-connection-service\";\r\nimport { Observable } from \"rxjs\";\r\nimport { ApiService } from \"../services/api2.service\";\r\nimport { HttpService } from \"../services/httpclient.service\";\r\nimport { ComponentFile } from \"./files\";\r\nimport {throwError as observableThrowError} from 'rxjs';\r\n\r\ndeclare var cordova: any;\r\ndeclare var device: any;\r\n\r\n@Injectable()\r\nexport class UtilityComponent implements OnInit {\r\n  static haEseguitoGiaIlCostruttore = false;\r\n  static TimeOutConnessione = 10000;\r\n\r\n  constructor(\r\n    private datePipe: DatePipe,\r\n    private file: ComponentFile,\r\n    private apiService: ApiService,\r\n    private http: HttpService,  \r\n  ) {\r\n\r\n  }\r\n\r\n  ngOnInit() {\r\n\r\n  }\r\n\r\n  parsaTesto(form, cosa) {\r\n    console.log('Comando vocale da parsare: ', cosa);\r\n\r\n    if (!cosa || cosa === undefined || cosa === 'undefined' || cosa === '') {\r\n      return;\r\n    }\r\n    \r\n    switch(cosa.toUpperCase().trim()) {\r\n      case 'PLAY':\r\n        if (form.staSuonando === false) {\r\n          form.scriveDebug('Arrivato comando vocale play');\r\n          form.play(true);\r\n        }\r\n        break;\r\n      case 'STOP':\r\n        if (form.staSuonando === true) {\r\n          form.scriveDebug('Arrivato comando vocale stop');\r\n          form.play(false);\r\n        }\r\n        break;\r\n      case 'INDIETRO':\r\n        form.scriveDebug('Arrivato comando vocale indietro');\r\n        form.indietroBrano();\r\n        break;\r\n      case 'AVANTI':\r\n        form.scriveDebug('Arrivato comando vocale avanti');\r\n        form.avantiBrano();\r\n        break;\r\n    }\r\n  }\r\n\r\n  filtraBrani(t) {\r\n      t.maxID = 0;\r\n      let filtro = t.filtroImpostato;\r\n      if (filtro === ';') { filtro = ''; }\r\n\r\n      // console.log(t.datiJSON);\r\n      t.utility.scriveDebug(t, 'Filtra brani - Numero righe: ' + t.datiJSON.length);\r\n      t.utility.scriveDebug(t, 'Filtra brani - Filtro: ' + filtro);\r\n      t.utility.scriveDebug(t, 'Filtra brani - Stelle: ' + t.consideraStelle);\r\n      t.utility.scriveDebug(t, 'Filtra brani - Mai Votate: ' + t.maiVotate);\r\n      t.utility.scriveDebug(t, 'Filtra brani - Numero Stelle: ' + t.numeroStelle);\r\n      t.utility.scriveDebug(t, 'Filtra brani - Tags Ricerca: ' + JSON.stringify(t.tagsRicerca));\r\n      t.utility.scriveDebug(t, 'Filtra brani - Esclusioni: ' + t.esclusioni);\r\n\r\n      // if ((!filtro || filtro === null || filtro === '') && !t.eliminaMamma && !t.consideraStelle && t.canzoniMamma === false) {\r\n      //     t.braniFiltrati = t.datiJSON;\r\n      // } else {\r\n          t.braniFiltrati = new Array();\r\n          t.quantiBraniFiltrati = 0;\r\n\r\n          if (!filtro) {\r\n              filtro = '';\r\n          }\r\n          if (filtro.indexOf(';') === -1) {\r\n              filtro += ';';\r\n          }\r\n      \r\n          if (!t.esclusioni) {\r\n            t.esclusioni = '';\r\n          }\r\n\r\n          if (t.canzoniMamma === true) {\r\n              filtro = 'MP3MIC;MP3ANGEL;' + filtro;\r\n          }\r\n          // console.log('Filtro', filtro);\r\n  \r\n          const f = filtro.split(';');\r\n          const esclusioni = t.esclusioni.split(';');\r\n\r\n          if (t.datiJSON) {\r\n              t.utility.scriveDebug(t, 'Filtra brani - 1');\r\n              t.datiJSON.forEach(element => {\r\n                  let ok = false;\r\n                  let tr: any = undefined;\r\n                  let fai = true;\r\n          \r\n                  if (t.eliminaMamma === true) {\r\n                      // console.log('Controllo', element.text);\r\n                      if (element.text.toUpperCase().indexOf('MP3MIC') > -1 || element.text.toUpperCase().indexOf('MP3ANGEL') > -1) {\r\n                          fai = false;\r\n                          // console.log('Skippo', element.text);\r\n                      }\r\n                  }\r\n                  if (t.canzoniLocali === true) {\r\n                      if (element.text !== 'Brani SD') {\r\n                          fai = false;\r\n                      }\r\n                  }\r\n\r\n                  if (fai) {\r\n                      // console.log('Vado ', element.text)\r\n                      element.children.forEach(element2 => {\r\n                          // console.log(element2);\r\n                          element2.children.forEach(element3 => {\r\n                          // console.log(element2);\r\n                              // if (t.eliminaMamma || t.consideraStelle) {\r\n                                  if (this.controllaFiltro(element.text + element2.text + element3.Text, f) === true) {\r\n                                      let ok1 = true;\r\n                      \r\n                                      // const numeroStelleBrano = this.ritornaStelleBrano(t, element3.id, false);\r\n                                      const numeroStelleBrano = element3.Stelle;\r\n                                      // console.log('Passato filtro testo', element3.Text, numeroStelleBrano);\r\n                      \r\n                                      if (t.consideraStelle === true && t.maiVotate === false) {\r\n                                          if (+t.numeroStelle > numeroStelleBrano) {\r\n                                              // console.log(this.numeroStelle, element3, element3.Stelle);\r\n                                              ok1 = false;\r\n                                          }\r\n                                      } else {\r\n                                          // console.log(this.consideraStelle, this.maiVotate);\r\n                                          if (t.consideraStelle === true && t.maiVotate === true) {\r\n                                              // console.log(element3.Stelle);\r\n                                              const locale = element3.locale;\r\n                                              // const path = element3.path.toUpperCase();\r\n                                              if (numeroStelleBrano > 0 || locale === true) {\r\n                                                  ok1 = false;\r\n                                              }\r\n                                          }\r\n                                      }\r\n\r\n                                      if (ok1) {\r\n                                          // console.log(element3, element3.Stelle);\r\n\r\n                                          let q = 0;\r\n\r\n                                          // const numeroArtista = 0;\r\n\r\n                                          if (!tr) {\r\n                                              const artista = {\r\n                                                  children: undefined,\r\n                                                  collapsed: true,\r\n                                                  text: element.text,\r\n                                                  // value: element.value\r\n                                              }\r\n                                              tr = artista;\r\n                                              // numeroArtista = 0;\r\n                                          // } else {\r\n                                              // tr[numeroArtista] = artista;\r\n                                          }\r\n\r\n                                          if (!tr.children) {\r\n                                              tr.children = new Array();\r\n                                          }\r\n                                          q = 0;\r\n                                          let numeroAlbum = -1;\r\n                                          if (tr.children) {\r\n                                              tr.children.forEach(element4 => {\r\n                                                  if (numeroAlbum === -1) {\r\n                                                      if (element4.text === element2.text) {\r\n                                                          numeroAlbum = q;\r\n                                                      }\r\n                                                  }\r\n                                                  q++;\r\n                                              });\r\n                                          }\r\n                                          let an = element2.Anno;\r\n                                          if (!an || an === '') {\r\n                                            an = '0000';\r\n                                          }\r\n                                          for (let i = an.length + 1; i <= 4; i++) {\r\n                                            an = '0' + an;\r\n                                          }\r\n                              \r\n                                          const album = {\r\n                                              children: undefined,\r\n                                              collapsed: true,\r\n                                              text: element2.text,\r\n                                              anno: an,\r\n                                              // value: element2.value\r\n                                          }\r\n                                          if (numeroAlbum === -1) {\r\n                                              tr.children.push(album);\r\n                                              numeroAlbum = tr.children.length - 1;\r\n                                          // } else {\r\n                                              // tr.children[numeroAlbum] = album;\r\n                                          }\r\n\r\n                                          // console.log(numeroAlbum, tr);\r\n                                          if (!tr.children[numeroAlbum].children) {\r\n                                              tr.children[numeroAlbum].children = new Array();\r\n                                          }\r\n\r\n                                          // console.log(element3);\r\n                                          let scrive = true;\r\n\r\n                                          if (scrive) {\r\n                                            // Controllo tags\r\n                                            if (t.tagsRicerca.length > 0) {\r\n                                              const tagsBrano = new Array();\r\n                                              const dd = element3.Tags.split('§');\r\n                                              dd.forEach(element => {\r\n                                                if (element && element !== '') {\r\n                                                  const d2 = element.split(';');\r\n                                                  const tt = {\r\n                                                    Progressivo: +d2[0],\r\n                                                    idTag: +d2[1],\r\n                                                    Tag: d2[2]\r\n                                                  }\r\n                                                  tagsBrano.push(tt);\r\n                                                }\r\n                                              });\r\n\r\n                                              let quanti = 0;\r\n                                              tagsBrano.forEach(element6 => {\r\n                                                if (scrive) {\r\n                                                  t.tagsRicerca.forEach(element5 => {\r\n                                                    const ele = element5.replace(\"'\", \"\").replace(\"'\",\"\").replace(\"\\\"\", \"\").replace(\"\\\"\",\"\");\r\n                                                    // console.log(element3.Text, element6.Tag, ele);\r\n                                                    if (element6.Tag === ele) {\r\n                                                      quanti++;\r\n                                                    }\r\n                                                  });\r\n                                                }\r\n                                              });\r\n                                              if (quanti === 0) {\r\n                                                tr = undefined;\r\n                                                scrive = false;\r\n                                              }\r\n                                            }\r\n                                            // Controllo tags\r\n\r\n                                            if (scrive) {\r\n                                              // Esclusioni\r\n                                              if (esclusioni.length > 0) {\r\n                                                const tutto = (element.text + element2.text + element3.Text).toUpperCase().trim();\r\n                                                // console.log(tutto);\r\n                                                esclusioni.forEach(element7 => {\r\n                                                  if (scrive === true && element7 && element7 !== '') {\r\n                                                    // console.log('Controllo esculsioni', tutto, element7.toUpperCase().trim());\r\n                                                    if (scrive === true && tutto.indexOf(element7.toUpperCase().trim()) > -1) {\r\n                                                      // console.log('Escludo', tutto, element7.toUpperCase().trim());\r\n                                                      scrive = false;\r\n                                                      tr = undefined;\r\n                                                    }\r\n                                                  }\r\n                                                });\r\n                                              }\r\n                                              // Esclusioni\r\n                                              if (scrive) {\r\n                                                let tra = element3.Traccia;\r\n                                                if (!tra || tra === '') {\r\n                                                  tra = '00';\r\n                                                }\r\n                                                if (tra.length === 1) {\r\n                                                  tra = '0' + tra;\r\n                                                }\r\n                                    \r\n                                                tr.children[numeroAlbum].children.push({\r\n                                                    id: element3.id,\r\n                                                    text: element3.Text,\r\n                                                    traccia: tra,\r\n                                                    // value: element3.value,\r\n                                                    stelle: element3.Stelle,\r\n                                                    estensione: element3.Estensione,\r\n                                                    ascoltata: +element3.Ascoltata,\r\n                                                    locale: element3.locale === undefined ? false : element3.locale,\r\n                                                    path: element3.path, // tr.text + '/' + album.anno + '-' + album.text + '/' + element3.Traccia + '-' + element3.Text + element3.Estensione\r\n                                                    tags: element3.Tags\r\n                                                });\r\n                                                t.quantiBraniFiltrati++;\r\n                                                ok = true;\r\n                                              }\r\n                                            }\r\n                                          }\r\n                                          // console.log(element3);\r\n                                          // console.log(element3.Stelle);\r\n\r\n                                          // this.ultimoFiltro += element3.value + ',';\r\n                                      }\r\n                                  }\r\n                              // }\r\n                          });\r\n                      });\r\n                  }\r\n      \r\n                  if (ok) {\r\n                      // console.log(tr);\r\n                      // const t: TreeviewItem = new TreeviewItem(tr);\r\n                      // this.itemsCanzoniFiltrate.push(t);\r\n                      if (tr) {\r\n                        t.braniFiltrati.push(tr);\r\n                      }\r\n                  }          \r\n              });\r\n          }\r\n      // }\r\n\r\n      /* if (t.deviceGirante === 'Android') {\r\n        t.file.writeFile(this, 4, 'LooigiSoft', 'looWebPlayer/TuttoILJSON.json', JSON.stringify(t.datiJSON)).then((Ritorno) => {\r\n          t.utility.scriveDebug(t, 'Scritto file Tutto il JSON');\r\n          t.file.writeFile(this, 4, 'LooigiSoft', 'looWebPlayer/BraniFiltrati.json', JSON.stringify(t.braniFiltrati)).then((Ritorno) => {\r\n            t.utility.scriveDebug(t, 'Scritto file Brani Filtrati');\r\n          });  \r\n        });\r\n      } */\r\n\r\n      t.utility.scriveDebug(t, 'Filtra brani - Quanti Brani filtrati: ' + t.quantiBraniFiltrati);\r\n      // t.quantiBraniFiltrati = this.contaBrani(t);\r\n      t.utility.scriveDebug(t, 'Filtra brani - Brani filtrati: ' + t.braniFiltrati.length);\r\n      // console.log(t.braniFiltrati);\r\n      // this.creaHTMLBrani(t);\r\n  }\r\n  \r\n  effettuaReplace(str, find, replace) {\r\n      const escapedFind = find.replace(/([.*+?^=!:${}()|\\[\\]\\/\\\\])/g, '\\\\$1');\r\n      return str.replace(new RegExp(escapedFind, 'g'), replace);\r\n  }\r\n\r\n  creaMatrice(x, y, valore) {\r\n      const m = new Array();\r\n      for (let i = 0; i <= x; i++) {\r\n        m.push(new Array());\r\n        m[i][0] = false;\r\n        for (let j = 1; j <= y + 1; j++) {\r\n          m[i].push(valore);\r\n        }\r\n      }\r\n      // console.log(m);\r\n      return m;\r\n  }\r\n\r\n  controllaFiltro(daDove, cosa) {\r\n      let ok = false;\r\n\r\n      let ceFiltro = false;\r\n      cosa.forEach(element => {\r\n          if (element !== '') {\r\n              ceFiltro = true;\r\n          }\r\n      });\r\n\r\n      if (!ceFiltro) {\r\n          return true;\r\n      }\r\n      // console.log('Filtro', daDove, cosa);\r\n\r\n      cosa.forEach(element => {\r\n          if (element && element !== '') {\r\n              const ele = element.replace(\"'\", \"\").replace(\"'\",\"\").replace(\"\\\"\", \"\").replace(\"\\\"\",\"\").toUpperCase().trim();\r\n              if (ok === false) {\r\n                // console.log(daDove, ele);\r\n                if (daDove.toUpperCase().indexOf(ele) > -1) {\r\n                    // console.log(daDove, element);\r\n                    ok = true;\r\n                }\r\n              }\r\n          }\r\n      });\r\n  \r\n      return ok;\r\n  }\r\n  \r\n  ritornaStelleBrano(t, n, debug) {\r\n      if (!t.datiJSON) {\r\n          return;\r\n      }\r\n\r\n      let valore = -1;\r\n      t.datiJSON.forEach(element => {\r\n          if (valore === -1) {\r\n              element.children.forEach(element2 => {\r\n                  if (valore === -1) {\r\n                      element2.children.forEach(element3 => {\r\n                          if (valore === -1) {\r\n                              if (element3.id === t.numeroBrano) {\r\n                                  valore = element3.Stelle;\r\n                              }\r\n                          }\r\n                      });\r\n                  }\r\n              });\r\n          }\r\n      });\r\n      /* let r = t.datiJSON.filter(x => +x.id === +n); */\r\n      /* if (r && r[0]) {\r\n        valore = +r[0].B;\r\n      } else {\r\n        console.log('Nessuna bellezza rilevata per il brano ', n);\r\n      } */\r\n      \r\n      return valore;\r\n  }    \r\n\r\n  visualizzaMessaggio(t, messaggio, errore) {\r\n    if (errore === false) {\r\n      t.coloreSfondoMessaggio = 'rgb(237, 255, 134)';\r\n    } else {\r\n      t.coloreSfondoMessaggio = 'rgb(255, 237, 134)';\r\n    }\r\n    t.messaggio = messaggio;\r\n    t.messaggioVisualizzato = true;\r\n    if (t.timerMessaggio) {\r\n      clearInterval(t.timerMessaggio);\r\n    }\r\n    t.timerMessaggio = setInterval(() => {\r\n      t.messaggioVisualizzato = false;\r\n    }, 5000);\r\n  }\r\n\r\n  scriveImmagineSeNonEsiste(t, artista, album, nome, blob) {\r\n    const indice = 1;\r\n    ComponentFile.esisteFile[indice] = '';\r\n    const cartellaJSON1 = 'LooigiSoft';\r\n    const nomeFileJSON1 = 'looWebPlayer/Immagini/' + artista + '/' + album + '/' + nome;\r\n    t.utility.scriveDebug(t, 'Esiste file immagine ' + nomeFileJSON1 + ' per scrittura');\r\n\r\n    t.file.checkIfFileExists(t, indice, cartellaJSON1, nomeFileJSON1).then(Ritorno => {\r\n      t.utility.scriveDebug(t, 'Esiste file immagine ' + nomeFileJSON1 + ': ' + Ritorno);\r\n      if (Ritorno !== 'SI') {\r\n        t.file.writeFile(t, indice, 'LooigiSoft', 'looWebPlayer/Immagini/' + artista + '/' +\r\n        album + '/' + nome, blob);\r\n      }\r\n    });;\r\n    /* let q = 0;\r\n    const t1 = setInterval(() => {\r\n      if (ComponentFile.esisteFile[indice] !== '') {\r\n        clearInterval(t1);\r\n        if (ComponentFile.esisteFile[indice] === 'SI') {\r\n        } else {\r\n          t.file.writeFile(t, indice, 'LooigiSoft', 'looWebPlayer/Immagini/' + artista + '/' +\r\n            album + '/' + nome, blob);\r\n        }\r\n      }\r\n    }); */\r\n  }\r\n\r\n  leggeImmagineSeEsiste(t, artista, album, nome) {\r\n    const indice = 2;\r\n    ComponentFile.esisteFile[indice] = '';\r\n    const cartellaJSON1 = 'LooigiSoft';\r\n    const nomeFileJSON1 = 'looWebPlayer/Immagini/' + artista + '/' + album + '/' + nome;\r\n    t.utility.scriveDebug(t, 'Esiste file immagine ' + nomeFileJSON1 + ' per lettura');\r\n\r\n    t.file.checkIfFileExists(t, indice, cartellaJSON1, nomeFileJSON1).then(Ritorno => {\r\n      t.utility.scriveDebug(t, 'Esiste file immagine ' + nomeFileJSON1 + ': ' + Ritorno);\r\n      if (Ritorno === 'SI') {\r\n        // Carica immagine\r\n        const indice = 5;\r\n        ComponentFile.fileJSON[indice] = '';\r\n        const path = t.file.sistemaNomeFile(ComponentFile.pathSD + '/LooigiSoft/Immagini/' + artista + '/' + album + '/' + nome);\r\n        t.file.readFile(t, path, indice).then((Ritorno: string) => {\r\n          t.immagineSfondo = Ritorno;\r\n          t.immagineBrano = Ritorno;\r\n        });\r\n        /* const si = setInterval(() => {\r\n          if (ComponentFile.fileJSON[indice] !== '') {\r\n            clearInterval(si);\r\n    \r\n            t.immagineSfondo = ComponentFile.fileJSON[indice];\r\n            t.immagineBrano = ComponentFile.fileJSON[indice];\r\n          }\r\n        }); */\r\n      }\r\n    });\r\n    /* let q = 0;\r\n    const t1 = setInterval(() => {\r\n      if (ComponentFile.esisteFile[indice] !== '') {\r\n        clearInterval(t1);\r\n        if (ComponentFile.esisteFile[indice] === 'SI') {\r\n          // Carica immagine\r\n          const indice = 5;\r\n          ComponentFile.fileJSON[indice] = '';\r\n          const path = t.file.sistemaNomeFile(ComponentFile.pathSD + '/LooigiSoft/Immagini/' + artista + '/' + album + '/' + nome);\r\n          t.file.readFile(t, path, indice);\r\n          const si = setInterval(() => {\r\n            if (ComponentFile.fileJSON[indice] !== '') {\r\n              clearInterval(si);\r\n      \r\n              t.immagineSfondo = ComponentFile.fileJSON[indice];\r\n              t.immagineBrano = ComponentFile.fileJSON[indice];\r\n            }\r\n          });\r\n        }\r\n      }\r\n    }); */\r\n  }\r\n\r\n  scriveTestoSeNonEsiste(t, artista, album, nome, blob) {\r\n    const indice = 7;\r\n    ComponentFile.esisteFile[indice] = '';\r\n    const cartellaJSON1 = 'LooigiSoft';\r\n    const nomeFileJSON1 = 'looWebPlayer/Testi/' + artista + '/' + album + '/' + nome + '.txt';\r\n    t.utility.scriveDebug(t, 'Esiste file testo ' + nomeFileJSON1 + ' per scrittura');\r\n\r\n    t.file.checkIfFileExists(t, indice, cartellaJSON1, nomeFileJSON1).then(Ritorno => {\r\n      t.utility.scriveDebug(t, 'Esiste file testo ' + nomeFileJSON1 + ': ' + Ritorno);\r\n      if (Ritorno !== 'SI') {\r\n        t.file.writeFile(t, indice, 'LooigiSoft', 'looWebPlayer/Testi/' + artista + '/' +\r\n          album + '/' + nome + '.txt', blob);\r\n      }\r\n    });\r\n    /* let q = 0;\r\n    const t1 = setInterval(() => {\r\n      if (ComponentFile.esisteFile[indice] !== '') {\r\n        clearInterval(t1);\r\n        if (ComponentFile.esisteFile[indice] === 'SI') {\r\n        } else {\r\n          t.file.writeFile(t, indice, 'LooigiSoft', 'looWebPlayer/Testi/' + artista + '/' +\r\n            album + '/' + nome + '.txt', blob);\r\n        }\r\n      }\r\n    }); */\r\n  }\r\n\r\n  leggeTestoSeEsiste(t, artista, album, nome) {\r\n    const indice = 8;\r\n    ComponentFile.esisteFile[indice] = '';\r\n    const cartellaJSON1 = 'LooigiSoft';\r\n    const nomeFileJSON1 = 'looWebPlayer/Testi/' + artista + '/' + album + '/' + nome + '.txt';\r\n    t.utility.scriveDebug(t, 'Esiste file testo ' + nomeFileJSON1 + ' per lettura');\r\n\r\n    t.file.checkIfFileExists(t, indice, cartellaJSON1, nomeFileJSON1).then(Ritorno => {\r\n      t.utility.scriveDebug(t, 'Esiste file testo ' + nomeFileJSON1 + ': ' + Ritorno);\r\n      if (Ritorno === 'SI') {\r\n        // Carica immagine\r\n        const indice = 5;\r\n        ComponentFile.fileJSON[indice] = '';\r\n        const path = t.file.sistemaNomeFile(ComponentFile.pathSD + '/LooigiSoft/Testi/' + artista + '/' + album + '/' + nome + '.txt');\r\n        t.file.readFile(t, path, indice).then((Ritorno: string) => {\r\n          t.testo = Ritorno;\r\n          t.testoTradotto = '';\r\n        });\r\n        /* const si = setInterval(() => {\r\n          if (ComponentFile.fileJSON[indice] !== '') {\r\n            clearInterval(si);\r\n    \r\n            t.testo = ComponentFile.fileJSON[indice];\r\n            t.testoTradotto = '';\r\n          }\r\n        }); */\r\n      }\r\n    });\r\n    /* let q = 0;\r\n    const t1 = setInterval(() => {\r\n      if (ComponentFile.esisteFile[indice] !== '') {\r\n        clearInterval(t1);\r\n        if (ComponentFile.esisteFile[indice] === 'SI') {\r\n          // Carica immagine\r\n          const indice = 5;\r\n          ComponentFile.fileJSON[indice] = '';\r\n          const path = t.file.sistemaNomeFile(ComponentFile.pathSD + '/LooigiSoft/Testi/' + artista + '/' + album + '/' + nome + '.txt');\r\n          t.file.readFile(t, path, indice);\r\n          const si = setInterval(() => {\r\n            if (ComponentFile.fileJSON[indice] !== '') {\r\n              clearInterval(si);\r\n      \r\n              t.testo = ComponentFile.fileJSON[indice];\r\n              t.testoTradotto = '';\r\n            }\r\n          });\r\n        }\r\n      }\r\n    }); */\r\n  }\r\n\r\n  scriveDebug(t, cosa) {\r\n    if (t.debug === true) {      \r\n      console.log(cosa, t.debug);\r\n\r\n      const d = this.datePipe.transform(new Date() , 'HH:mm:ss', 'UTC');\r\n\r\n      // if (this.deviceGirante === 'Android') {\r\n        // if (cosa.toUpperCase().indexOf('ERROR') > -1) {\r\n        //   this.debuggone += (d + ' -> ' + cosa + '<br />'); \r\n        // } else {\r\n          t.debuggone += (d + ' -> ' + cosa + '<br />'); \r\n        // }\r\n        this.metteFiltroDebug(t);\r\n      // } else {\r\n      //   console.log(d + ' -> ' + cosa);\r\n      // }\r\n      // this.operazioneInCorso = cosa;\r\n    }\r\n  }\r\n\r\n  metteFiltroDebug(t) {\r\n    if (t.filtroImpostatoDebug !== '') {\r\n      const righe = t.debuggone.split('<br />');\r\n      let d = '';\r\n      righe.forEach(element => {\r\n        if (element.toUpperCase().indexOf(t.filtroImpostatoDebug.toUpperCase().trim()) > -1) {\r\n          d += element + '<br />';\r\n        }\r\n      });\r\n      t.debuggone2 = d;\r\n    } else {\r\n      t.debuggone2 = t.debuggone;\r\n    }\r\n\r\n    if (t.filtroImpostato === '') {\r\n      try {\r\n        t.myScrollContainer.nativeElement.scrollTop = t.myScrollContainer.nativeElement.scrollHeight;\r\n      } catch(err) { \r\n\r\n      }\r\n    }\r\n  }\r\n\r\n  cercaUtenza(t) {\r\n    /* if (UtilityComponent.haEseguitoGiaIlCostruttore) {\r\n      return;\r\n    } */\r\n    return new Promise(async (Ritorno) => {    \r\n      this.scriveDebug(t, \"Crea utenza: Inizio\");\r\n  \r\n    // setTimeout(() => {\r\n\r\n      // alert('1');\r\n      /* if (!this.isConnected) {\r\n        // alert('2');\r\n        this.caricaTutto();\r\n        return;\r\n      } */\r\n  \r\n      // alert(this.utenza);\r\n      if (!t.utenza || t.utenza === null || t.utenza === '') {\r\n        this.apiService.creaUtenza('')\r\n        .map(response => t.apiService.controllaRitorno(response))\r\n          .subscribe(\r\n            data => {\r\n              this.scriveDebug(t, 'Lettura utenza: ok');\r\n              // alert(data);\r\n              if (data) {\r\n                const data2 = this.apiService.prendeSoloDatiValidi(data);\r\n                // console.log(JSON.parse(data2));\r\n                if (data2.indexOf('ERROR:') === -1) {\r\n                  if (data2.indexOf('§') === -1) {\r\n                    // Utenza rilevata\r\n                    const d = data2.split(';');\r\n\r\n                    t.utenza = d[2];\r\n                    t.idUtenza = +d[1];\r\n                    t.Amministratore = d[3];\r\n\r\n                    localStorage.setItem('utenza', t.utenza);\r\n                    localStorage.setItem('idUtenza', t.idUtenza.toString());\r\n                    localStorage.setItem('tipoUtenza', t.Amministratore);\r\n\r\n                    Ritorno('OK');\r\n                    // this.caricaTutto();\r\n                  } else {\r\n                    // Utenza da scegliere\r\n                    const d = data2.split('§');\r\n                    t.Utenti = new Array();\r\n                    d.forEach(element => {\r\n                      if (element && element !== '') {\r\n                        const dd = element.split(';');\r\n                        const ddd = {\r\n                          idUtente: +dd[0],\r\n                          Utente: dd[1],\r\n                          Amministratore: dd[2],\r\n                          Password: dd[3]\r\n                        }\r\n                        t.Utenti.push(ddd);\r\n                      }\r\n                    });\r\n                    // console.log('Lista Utenti', this.Utenti);\r\n                    t.caricamentoInCorso = false;\r\n                    t.mostraSceltaUtenti = true;\r\n                  }\r\n                } else {\r\n                  // alert('data2');\r\n                  this.visualizzaMessaggio(this, 'Lettura utenza: ' + data2, true);\r\n\r\n                  Ritorno('ERROR: ' + data2);\r\n                }\r\n              } else {\r\n                this.visualizzaMessaggio(this, 'Lettura utenza: Nessun dato ricevuto', true);\r\n\r\n                Ritorno('ERROR: Nessun dato ricevuto');\r\n              }\r\n            },\r\n            (error) => {\r\n              if (error instanceof Error) {\r\n                this.visualizzaMessaggio(this, 'Lettura utenza: ' + error.message, true);\r\n\r\n                Ritorno('ERROR: ' + error.message);\r\n              }\r\n            }\r\n          );\r\n      } else {\r\n        this.scriveDebug(t, 'Lettura utenza. Skippo');\r\n        // this.caricaTutto();\r\n\r\n        Ritorno('OK');\r\n      }\r\n      // this.startTimerScritte();\r\n    // }, 1000);\r\n    });\r\n  }\r\n\r\n  async caricaJsonBrani(t) {\r\n    this.scriveDebug(t, 'Carico JSON brani');\r\n    return new Promise((Ritorno) => {\r\n      t.caricamentoInCorso = true;\r\n      if (t.isConnected) {\r\n        this.apiService.ritornaJSONBrani(\r\n          t.idUtenza\r\n        ).map(response => this.apiService.controllaRitorno(response))\r\n        .subscribe(\r\n          data => {\r\n            t.caricamentoInCorso = false;\r\n            const d = this.apiService.prendeSoloDatiValidi(data);\r\n            console.log(d);\r\n            Ritorno(d);\r\n          }\r\n        );\r\n      } else {\r\n        this.scriveDebug(t, 'Connessione assente. Impossibile recuperare il JSON dei brani');\r\n        // this.refreshCanzoniSenzaDomanda();\r\n        // this.nonHaTrovatoJSON();\r\n        Ritorno('ERROR: Connessione assente');\r\n      }\r\n      // alert('1');\r\n      // if (t.isConnected) {\r\n      /* this.getJSONBrani(t).subscribe(data => {\r\n        // this.caricamentoInCorso = false;\r\n        if (data && data !== null) {\r\n          this.scriveDebug(t, 'Caricato JSON brani');\r\n          try {\r\n            // t.datiJSON = JSON.parse(data._body);          \r\n            Ritorno(data._body);\r\n          } catch (e) {\r\n            this.scriveDebug(t, 'Problemi sul dati JSON: ' + e.message);\r\n            // this.refreshCanzoniSenzaDomanda();\r\n            // this.nonHaTrovatoJSON();\r\n            Ritorno('ERROR: ' + e.message);\r\n            return;\r\n          }\r\n                  \r\n          // t.prosegueCaricaJsonBrani2(true);\r\n        } else {\r\n          this.scriveDebug(t, 'Ritorno nullo del dati JSON');\r\n          // this.refreshCanzoniSenzaDomanda();\r\n          // this.nonHaTrovatoJSON();\r\n          Ritorno('ERROR: Ritorno nullo');\r\n        }\r\n      }); */ \r\n    }); \r\n  }\r\n\r\n  private getJSONBrani(t): Observable<any> {\r\n    this.scriveDebug(t, 'Prende JSON brani');\r\n    const path = t.urlWS + 'Canzoni_' + t.idUtenza + '.json?id=' + new Date();\r\n    return this.http.get(t, path).catch(this.catchAuthError(this));\r\n  }\r\n\r\n  private catchAuthError(t) {\r\n    // console.log('Errore: ', self);\r\n    // we have to pass HttpService's own instance here as `self`\r\n    return (res: Response) => {\r\n      console.log('ERRORE Http: ', res);\r\n      if (res.status === 404) {\r\n        this.scriveDebug(t, 'JSON non trovato');\r\n        // this.nonHaTrovatoJSON();\r\n      }\r\n      return observableThrowError(res);\r\n    };\r\n  }\r\n\r\n  prosegueCaricaJsonBrani2(t, scrivo) {          \r\n    this.scriveDebug(t, 'Proseguo elaborazione file brani');\r\n\r\n    t.datiJSON.forEach(element => {\r\n      const artista = element.text;\r\n      element.children.forEach(element2 => {\r\n        const album = element2.text;\r\n        let anno = element2.Anno;\r\n        if (!anno || anno === null || anno === '') { \r\n          anno = '0000'; \r\n        }\r\n        element2.children.forEach(element3 => {\r\n          const titolo = element3.Text;\r\n          let traccia = element3.Traccia;\r\n          if (!traccia || traccia === '' || traccia === null) { traccia = '00'; }\r\n          const estensione = element3.Estensione;\r\n          const path = 'LooigiSoft/looWebPlayer/Brani/' + artista + '/' + anno + '-' + album + '/' + traccia + '-' + titolo + estensione\r\n          element3.path = path;\r\n          element3.locale = false;\r\n        });\r\n      });\r\n    });\r\n    // console.log(this.datiJSON);\r\n\r\n    if (t.deviceGirante === 'Android' && scrivo === true) {\r\n      this.file.writeFile(this, 4, 'LooigiSoft', 'looWebPlayer/jsonBrani.json', JSON.stringify(t.datiJSON)).then((Ritorno) => {\r\n        this.scriveDebug(t, 'Aggiornato file brani');\r\n      });\r\n    }\r\n\r\n    // this.prosegueCaricaJSON();\r\n  }\r\n\r\n  sistemaTitoloBrano(t) {\r\n    /* let a = t.indexOf('.');\r\n    if (a > -1) {\r\n\r\n    } */\r\n    return t;\r\n  }\r\n}","import { Inject, Injectable, OnInit } from \"@angular/core\";\r\nimport { UtilityComponent } from \"./utility.component\";\r\n\r\n@Injectable()\r\nexport class YouTubeComponent implements OnInit {\r\n  constructor(\r\n    private utility: UtilityComponent,\r\n  ) {\r\n\r\n  }\r\n\r\n    ngOnInit() {\r\n\r\n    }\r\n\r\n    prendeVideoYouTube(t, refresh) {\r\n        if (refresh === 'S') {\r\n          if (!confirm('Si vogliono scaricare nuovamente i video ?')) {\r\n            return;\r\n          }\r\n        }\r\n        t.staCaricandoVideo = true;\r\n        t.videoSource = '';\r\n        console.log('Sta suonando', t.staSuonando, t.audio);\r\n        if (t.staSuonando && t.audio) {\r\n            // if (t.interval) {\r\n            // t.pauseTimer();\r\n            // t.interval = undefined;\r\n            // }\r\n            t.audio.pause();\r\n        }\r\n    \r\n        t.youTubeVideos = new Array();\r\n\r\n        setTimeout(() => {\r\n          // Acquisizione youtube video\r\n          const params = {\r\n            nomeArtista: t.artista,\r\n            nomeBrano: t.titoloBrano,\r\n            refresh: refresh\r\n          };\r\n    \r\n          t.scriveDebug('Carico brano. 10... Carico filmati youtube');\r\n      \r\n          t.apiService.ritornaYouTube(\r\n            params\r\n          ).map(response => response.text())\r\n          .subscribe(\r\n            data => {\r\n              if (data) {\r\n                t.staCaricandoVideo = false;\r\n                if (t.staSuonando && t.audio) {\r\n                  t.audio.play();\r\n                  if (t.videoNONCaricato === true) {\r\n                    if (t.videoplayer) {\r\n                      t.videoplayer.playVideo();\r\n                    }\r\n                  } else {\r\n                    if (t.videoplayerLocale) {\r\n                      // this.videoplayerLocale.nativeElement.mute();\r\n                      t.videoplayerLocale.nativeElement.play();\r\n                    }\r\n                  }\r\n                  t.posizioneBrano = 0;\r\n                  t.startTimer();\r\n                }\r\n            \r\n                const data3 = t.apiService.prendeSoloDatiValidi(data);\r\n                // console.log(data2);\r\n                t.scriveDebug('Carico brano. 11... Caricati filmati youtube');\r\n            \r\n                if (data3.indexOf('ERROR:') === -1) {\r\n                  const data33 = data3.split('|');\r\n                  const data2 = data33[0];\r\n                  const numeroVideoDefault = +data33[1];\r\n    \r\n                  const r = data2.split('§');\r\n                  r.forEach(element => {\r\n                    if (element) {\r\n                      const rrr = element.split(';');\r\n    \r\n                      let nomeLink = rrr[0];\r\n                      while (nomeLink.indexOf('=') > -1) {\r\n                        nomeLink = nomeLink.substring(rrr[0].indexOf('=') + 1, rrr[0].Length)\r\n                      }\r\n                      const rr = {\r\n                        linkVideo: nomeLink,\r\n                        nomeVideo: rrr[1],\r\n                        estensione: rrr[2],\r\n                        prefisso: rrr[3],\r\n                        Esiste: rrr[4],\r\n                        pathUrl: rrr[5]\r\n                      };\r\n                      t.youTubeVideos.push(rr);\r\n                    }\r\n                  });\r\n                  t.scriveDebug('Carico brano. 12... Carico filmati youtube. Filmati ' + t.youTubeVideos.length);\r\n              \r\n                  // console.log(t.youTubeVideos);\r\n                  if (t.youTubeVideos.length > 0) {\r\n                    let rnum = -1;\r\n                    // if (numeroVideoDefault === -1) {\r\n                    let q = 0;\r\n                    t.youTubeVideos.forEach(element => {\r\n                      if (rnum === -1 && element.Esiste === 'S') {\r\n                        rnum = q;\r\n                      }\r\n                      q++;\r\n                    });\r\n                    if (rnum === -1) {\r\n                      rnum = Math.floor(Math.random() * t.youTubeVideos.length - 1);\r\n                    }\r\n                      // while (!t.youTubeVideos[rnum]) {\r\n                      // rnum = Math.floor(Math.random() * t.youTubeVideos.length - 1);\r\n                      // }\r\n                    // } else {\r\n                    //   rnum = numeroVideoDefault;\r\n                    // }\r\n    \r\n                    t.scriveDebug('Carico brano. 13... Impostato video ' + rnum);\r\n                \r\n                    t.scritte.push('Video you tube: ' + rnum + '/' + (t.youTubeVideos.length - 1));\r\n                    t.numeroVideo = rnum;\r\n                    t.staCaricandoVideo = false;\r\n                    setTimeout(() => {\r\n                      // console.log('Video caricato:', t.youTubeVideos[rnum]);\r\n                      if (t.youTubeVideos && t.youTubeVideos[rnum]) {\r\n                        if (t.youTubeVideos[rnum].Esiste === 'S') {\r\n                          t.videoNONCaricato = false;\r\n                          t.videoSource = t.urlWS + t.youTubeVideos[rnum].pathUrl;\r\n                        } else {\r\n                          t.videoNONCaricato = true;\r\n                          t.videoSource = t.youTubeVideos[rnum].linkVideo;\r\n                        }\r\n                        // console.log(t.videoSource);\r\n                        setTimeout(() => {\r\n                          // console.log(t.posizioneBrano);\r\n                          if (t.videoNONCaricato === true) {\r\n                            if (t.videoplayer) {\r\n                              t.videoplayer.mute();\r\n                              if (t.staSuonando === true) {                              \r\n                                t.scriveDebug('Carico brano. 14... Play youtube');\r\n                            \r\n                                t.videoplayer.playVideo();\r\n                                if (t.videoplayer) {\r\n                                  setTimeout(() => {\r\n                                    t.videoplayer.seekTo(+t.posizioneBrano, true);\r\n                                  }, 100);\r\n                                }\r\n    \r\n                                /* setTimeout(() => {\r\n                                  t.videoplayer.seekTo(+t.posizioneBrano, false);                                      \r\n                                }, 1000); */\r\n                              }\r\n                            }\r\n                          } else {\r\n                            if (t.videoplayer) {\r\n                              // t.videoplayerLocale.nativeElement.mute();\r\n                              if (t.staSuonando === true) {                              \r\n                                t.scriveDebug('Carico brano. 15... Play youtube');\r\n                            \r\n                                t.videoplayerLocale.nativeElement.play();\r\n                                setTimeout(() => {\r\n                                  t.videoplayerLocale.nativeElement.currentTime = +t.posizioneBrano;\r\n                                }, 1000);\r\n                              }\r\n                            }\r\n                          }\r\n                        }, 1000);\r\n                      }\r\n                    }, 100);\r\n                  }\r\n                } else {\r\n                  t.scriveDebug('Carico brano. 15... Errore filmati youtube: ' + data3);\r\n              \r\n                  console.log(data3);\r\n                  t.youTubeVideos = new Array();\r\n                }\r\n              } else {\r\n                t.staCaricandoVideo = false;\r\n                if (t.staSuonando) {\r\n                  t.audio.play();\r\n                }\r\n              }\r\n            });                            \r\n          // Acquisizione youtube video\r\n        }, 1000);\r\n    }\r\n\r\n    avanzaVideo(t) {\r\n        let rnum = t.numeroVideo + 1;\r\n        if (rnum > t.youTubeVideos.length - 1) {\r\n          rnum = 0;\r\n        }\r\n        t.numeroVideo = rnum;\r\n        this.utility.visualizzaMessaggio(t, 'Video caricato ' + rnum + '/' + (t.youTubeVideos.length -1) + '\\n' + t.youTubeVideos[rnum].pathUrl, false);\r\n        \r\n        if (t.debug === true) {\r\n          console.log('Avanza video', t.numeroVideo);\r\n        }\r\n    \r\n        this.settaVideo(t);\r\n    }\r\n    \r\n    indietroVideo(t) {\r\n        let rnum = t.numeroVideo - 1;\r\n        if (rnum < 0) {\r\n          rnum = t.youTubeVideos.length - 1;\r\n        }\r\n        t.numeroVideo = rnum;\r\n        this.utility.visualizzaMessaggio(t, 'Video caricato ' + rnum + '/' + (t.youTubeVideos.length -1) + '\\n' + t.youTubeVideos[rnum].pathUrl , false);\r\n        \r\n        if (t.debug === true) {\r\n          console.log('Indietro Video',t.numeroVideo);\r\n        }\r\n    \r\n        this.settaVideo(t);\r\n    }\r\n    \r\n    settaVideo(t) {\r\n        t.staCaricandoVideo = false;\r\n        setTimeout(() => {\r\n          // t.numeroVideo = t.numeroVideo;\r\n          if (t.youTubeVideos && t.youTubeVideos[t.numeroVideo]) {\r\n            if (t.youTubeVideos[t.numeroVideo].Esiste === 'S') {\r\n              t.videoNONCaricato = false;\r\n              t.videoSource = t.urlWS + t.youTubeVideos[t.numeroVideo].pathUrl;\r\n            } else {\r\n              t.videoNONCaricato = true;\r\n              t.videoSource = t.youTubeVideos[t.numeroVideo].linkVideo;\r\n            }\r\n          if (t.debug === true) {\r\n              console.log('Video impostato', t.videoSource, t.numeroVideo, t.youTubeVideos.length);\r\n            }\r\n            t.scritte.forEach(element => {\r\n              if (element.indexOf('Video you tube') > -1) {\r\n                element = 'Video you tube: ' + t.numeroVideo + '/' + (t.youTubeVideos.length - 1);\r\n              }\r\n            });\r\n    \r\n            setTimeout(() => {\r\n              if (t.videoNONCaricato === true) {\r\n                t.videoplayer.mute();\r\n                if (t.staSuonando === true) {                              \r\n                  setTimeout(() => {\r\n                    t.videoplayer.playVideo();\r\n                  }, 1000);\r\n                }\r\n              } else {\r\n                // t.videoplayerLocale.nativeElement.mute();\r\n                if (t.staSuonando === true) {                              \r\n                  setTimeout(() => {\r\n                    t.videoplayerLocale.nativeElement.play();\r\n                  }, 1000);\r\n                }\r\n              }\r\n            }, 1000);\r\n          }\r\n        } , 500);\r\n    }\r\n    \r\n    salvaVideo(t) {\r\n        if (!t.youTubeVideos[t.numeroVideo]) {\r\n          return;\r\n        }\r\n        let nomeVideo = t.youTubeVideos[t.numeroVideo].linkVideo;\r\n        nomeVideo = 'https://www.youtube.com/watch?' + t.youTubeVideos[t.numeroVideo].prefisso + '=' +\r\n          nomeVideo + t.youTubeVideos[t.numeroVideo].estensione;\r\n        console.log('Video da salvare:', t.youTubeVideos[t.numeroVideo].prefisso, t.youTubeVideos[t.numeroVideo].linkVideo, t.youTubeVideos[t.numeroVideo].estensione);\r\n    \r\n        t.apiService.salvaVideo(\r\n          t.youTubeVideos[t.numeroVideo].prefisso, \r\n          t.youTubeVideos[t.numeroVideo].linkVideo,\r\n          t.youTubeVideos[t.numeroVideo].estensione\r\n        ).map(response => response.text())\r\n          .subscribe(\r\n          data => {\r\n            if (data) {\r\n              const data2 = t.apiService.prendeSoloDatiValidi(data);\r\n              // console.log(data2);\r\n              if (data2.indexOf('ERROR:') === -1) {\r\n                setTimeout(() => {\r\n                  t.youTubeVideos[t.numeroVideo].Esiste = 'S';\r\n                  t.videoNONCaricato = false;\r\n                  const prima = t.youTubeVideos[t.numeroVideo].linkVideo.substring(0, 1);\r\n                  t.videoSource = t.urlWS + 'YouTube/' + prima + '/' + t.youTubeVideos[t.numeroVideo].linkVideo +\r\n                    t.youTubeVideos[t.numeroVideo].estensione;\r\n                  console.log('Video scaricato', t.videoSource);\r\n    \r\n                  if (t.staSuonando) {\r\n                    setTimeout(() => {\r\n                      if (t.videoplayerLocale) {\r\n                        // t.videoplayerLocale.nativeElement.mute();\r\n                        t.videoplayerLocale.nativeElement.play();\r\n                        setTimeout(() => {\r\n                          t.videoplayerLocale.nativeElement.currentTime = +t.posizioneBrano;\r\n                        }, 1000);\r\n                      }\r\n                    }, 1000);\r\n                  }\r\n          \r\n                  this.utility.visualizzaMessaggio(t, 'Video salvato', false);\r\n                }, 1000);\r\n              } else {\r\n                t.apiService.scriveVideoDaSalvare(\r\n                  nomeVideo\r\n                ).map(response => response.text())\r\n                  .subscribe(\r\n                  data => {\r\n                    if (data) {\r\n                      const data2 = t.apiService.prendeSoloDatiValidi(data);\r\n                      console.log(data2);\r\n                      if (data2.indexOf('ERROR:') === -1) {\r\n                        // console.log('Video inserito nella lista da scaricare');\r\n                        this.utility.visualizzaMessaggio(t, 'Video inserito nella lista da scaricare', true);\r\n                      } else {\r\n                        // alert(data2);\r\n                        this.utility.visualizzaMessaggio(t, 'Salva Video: ' + data2, true);\r\n                      }\r\n                    }\r\n                  },\r\n                  (error) => {\r\n                    if (error instanceof Error) {\r\n                      this.utility.visualizzaMessaggio(t, 'Salva Video: ' + error.message, true);\r\n                    }\r\n                  }\r\n                );\r\n              }\r\n    \r\n              t.apiService.SalvaVideoDefault(\r\n                t.numeroBrano,\r\n                t.numeroVideo\r\n              ).map(response => response.text())\r\n                .subscribe(\r\n                data => {\r\n                  if (data) {\r\n                    const data2 = t.apiService.prendeSoloDatiValidi(data);\r\n                    if (data2.indexOf('ERROR:') === -1) {\r\n                      console.log('Video salvato come default');\r\n                    } else {\r\n                      // console.log(data2);\r\n                      this.utility.visualizzaMessaggio(t, 'Salva Video: ' + data2, true);\r\n                    }\r\n                  }\r\n              });      \r\n            }\r\n          },\r\n          (error) => {\r\n            if (error instanceof Error) {\r\n              this.utility.visualizzaMessaggio(t, 'Salva Video: ' + error.message, true);\r\n            }\r\n          }\r\n        );\r\n    }\r\n    \r\n}\r\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n"],"sourceRoot":"webpack:///"}